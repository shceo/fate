function Pd(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const l in r)if(l!=="default"&&!(l in e)){const s=Object.getOwnPropertyDescriptor(r,l);s&&Object.defineProperty(e,l,s.get?s:{enumerable:!0,get:()=>r[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(l){if(l.ep)return;l.ep=!0;const s=n(l);fetch(l.href,s)}})();function Ld(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Rd={exports:{}},Ii={},Md={exports:{}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vs=Symbol.for("react.element"),Dm=Symbol.for("react.portal"),Fm=Symbol.for("react.fragment"),Om=Symbol.for("react.strict_mode"),Im=Symbol.for("react.profiler"),zm=Symbol.for("react.provider"),Am=Symbol.for("react.context"),Um=Symbol.for("react.forward_ref"),$m=Symbol.for("react.suspense"),Bm=Symbol.for("react.memo"),Vm=Symbol.for("react.lazy"),Ku=Symbol.iterator;function Qm(e){return e===null||typeof e!="object"?null:(e=Ku&&e[Ku]||e["@@iterator"],typeof e=="function"?e:null)}var Dd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Fd=Object.assign,Od={};function pl(e,t,n){this.props=e,this.context=t,this.refs=Od,this.updater=n||Dd}pl.prototype.isReactComponent={};pl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};pl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Id(){}Id.prototype=pl.prototype;function $o(e,t,n){this.props=e,this.context=t,this.refs=Od,this.updater=n||Dd}var Bo=$o.prototype=new Id;Bo.constructor=$o;Fd(Bo,pl.prototype);Bo.isPureReactComponent=!0;var Gu=Array.isArray,zd=Object.prototype.hasOwnProperty,Vo={current:null},Ad={key:!0,ref:!0,__self:!0,__source:!0};function Ud(e,t,n){var r,l={},s=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)zd.call(t,r)&&!Ad.hasOwnProperty(r)&&(l[r]=t[r]);var o=arguments.length-2;if(o===1)l.children=n;else if(1<o){for(var u=Array(o),c=0;c<o;c++)u[c]=arguments[c+2];l.children=u}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)l[r]===void 0&&(l[r]=o[r]);return{$$typeof:vs,type:e,key:s,ref:a,props:l,_owner:Vo.current}}function Wm(e,t){return{$$typeof:vs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Qo(e){return typeof e=="object"&&e!==null&&e.$$typeof===vs}function Hm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Yu=/\/+/g;function oa(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Hm(""+e.key):t.toString(36)}function Ys(e,t,n,r,l){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case vs:case Dm:a=!0}}if(a)return a=e,l=l(a),e=r===""?"."+oa(a,0):r,Gu(l)?(n="",e!=null&&(n=e.replace(Yu,"$&/")+"/"),Ys(l,t,n,"",function(c){return c})):l!=null&&(Qo(l)&&(l=Wm(l,n+(!l.key||a&&a.key===l.key?"":(""+l.key).replace(Yu,"$&/")+"/")+e)),t.push(l)),1;if(a=0,r=r===""?".":r+":",Gu(e))for(var o=0;o<e.length;o++){s=e[o];var u=r+oa(s,o);a+=Ys(s,t,n,u,l)}else if(u=Qm(e),typeof u=="function")for(e=u.call(e),o=0;!(s=e.next()).done;)s=s.value,u=r+oa(s,o++),a+=Ys(s,t,n,u,l);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function _s(e,t,n){if(e==null)return e;var r=[],l=0;return Ys(e,r,"","",function(s){return t.call(n,s,l++)}),r}function Km(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ft={current:null},Xs={transition:null},Gm={ReactCurrentDispatcher:ft,ReactCurrentBatchConfig:Xs,ReactCurrentOwner:Vo};function $d(){throw Error("act(...) is not supported in production builds of React.")}ce.Children={map:_s,forEach:function(e,t,n){_s(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return _s(e,function(){t++}),t},toArray:function(e){return _s(e,function(t){return t})||[]},only:function(e){if(!Qo(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ce.Component=pl;ce.Fragment=Fm;ce.Profiler=Im;ce.PureComponent=$o;ce.StrictMode=Om;ce.Suspense=$m;ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gm;ce.act=$d;ce.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Fd({},e.props),l=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=Vo.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(u in t)zd.call(t,u)&&!Ad.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&o!==void 0?o[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){o=Array(u);for(var c=0;c<u;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:vs,type:e.type,key:l,ref:s,props:r,_owner:a}};ce.createContext=function(e){return e={$$typeof:Am,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:zm,_context:e},e.Consumer=e};ce.createElement=Ud;ce.createFactory=function(e){var t=Ud.bind(null,e);return t.type=e,t};ce.createRef=function(){return{current:null}};ce.forwardRef=function(e){return{$$typeof:Um,render:e}};ce.isValidElement=Qo;ce.lazy=function(e){return{$$typeof:Vm,_payload:{_status:-1,_result:e},_init:Km}};ce.memo=function(e,t){return{$$typeof:Bm,type:e,compare:t===void 0?null:t}};ce.startTransition=function(e){var t=Xs.transition;Xs.transition={};try{e()}finally{Xs.transition=t}};ce.unstable_act=$d;ce.useCallback=function(e,t){return ft.current.useCallback(e,t)};ce.useContext=function(e){return ft.current.useContext(e)};ce.useDebugValue=function(){};ce.useDeferredValue=function(e){return ft.current.useDeferredValue(e)};ce.useEffect=function(e,t){return ft.current.useEffect(e,t)};ce.useId=function(){return ft.current.useId()};ce.useImperativeHandle=function(e,t,n){return ft.current.useImperativeHandle(e,t,n)};ce.useInsertionEffect=function(e,t){return ft.current.useInsertionEffect(e,t)};ce.useLayoutEffect=function(e,t){return ft.current.useLayoutEffect(e,t)};ce.useMemo=function(e,t){return ft.current.useMemo(e,t)};ce.useReducer=function(e,t,n){return ft.current.useReducer(e,t,n)};ce.useRef=function(e){return ft.current.useRef(e)};ce.useState=function(e){return ft.current.useState(e)};ce.useSyncExternalStore=function(e,t,n){return ft.current.useSyncExternalStore(e,t,n)};ce.useTransition=function(){return ft.current.useTransition()};ce.version="18.3.1";Md.exports=ce;var f=Md.exports;const Bd=Ld(f),Ym=Pd({__proto__:null,default:Bd},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xm=f,qm=Symbol.for("react.element"),Jm=Symbol.for("react.fragment"),Zm=Object.prototype.hasOwnProperty,eh=Xm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,th={key:!0,ref:!0,__self:!0,__source:!0};function Vd(e,t,n){var r,l={},s=null,a=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)Zm.call(t,r)&&!th.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)l[r]===void 0&&(l[r]=t[r]);return{$$typeof:qm,type:e,key:s,ref:a,props:l,_owner:eh.current}}Ii.Fragment=Jm;Ii.jsx=Vd;Ii.jsxs=Vd;Rd.exports=Ii;var i=Rd.exports,Qd={exports:{}},Rt={},Wd={exports:{}},Hd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,z){var U=R.length;R.push(z);e:for(;0<U;){var le=U-1>>>1,Y=R[le];if(0<l(Y,z))R[le]=z,R[U]=Y,U=le;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var z=R[0],U=R.pop();if(U!==z){R[0]=U;e:for(var le=0,Y=R.length,ue=Y>>>1;le<ue;){var Ne=2*(le+1)-1,q=R[Ne],pe=Ne+1,Ue=R[pe];if(0>l(q,U))pe<Y&&0>l(Ue,q)?(R[le]=Ue,R[pe]=U,le=pe):(R[le]=q,R[Ne]=U,le=Ne);else if(pe<Y&&0>l(Ue,U))R[le]=Ue,R[pe]=U,le=pe;else break e}}return z}function l(R,z){var U=R.sortIndex-z.sortIndex;return U!==0?U:R.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var u=[],c=[],m=1,p=null,h=3,y=!1,N=!1,k=!1,P=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(R){for(var z=n(c);z!==null;){if(z.callback===null)r(c);else if(z.startTime<=R)r(c),z.sortIndex=z.expirationTime,t(u,z);else break;z=n(c)}}function C(R){if(k=!1,v(R),!N)if(n(u)!==null)N=!0,se(b);else{var z=n(c);z!==null&&fe(C,z.startTime-R)}}function b(R,z){N=!1,k&&(k=!1,g(_),_=-1),y=!0;var U=h;try{for(v(z),p=n(u);p!==null&&(!(p.expirationTime>z)||R&&!J());){var le=p.callback;if(typeof le=="function"){p.callback=null,h=p.priorityLevel;var Y=le(p.expirationTime<=z);z=e.unstable_now(),typeof Y=="function"?p.callback=Y:p===n(u)&&r(u),v(z)}else r(u);p=n(u)}if(p!==null)var ue=!0;else{var Ne=n(c);Ne!==null&&fe(C,Ne.startTime-z),ue=!1}return ue}finally{p=null,h=U,y=!1}}var D=!1,w=null,_=-1,B=5,F=-1;function J(){return!(e.unstable_now()-F<B)}function oe(){if(w!==null){var R=e.unstable_now();F=R;var z=!0;try{z=w(!0,R)}finally{z?K():(D=!1,w=null)}}else D=!1}var K;if(typeof d=="function")K=function(){d(oe)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,ae=G.port2;G.port1.onmessage=oe,K=function(){ae.postMessage(null)}}else K=function(){P(oe,0)};function se(R){w=R,D||(D=!0,K())}function fe(R,z){_=P(function(){R(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){N||y||(N=!0,se(b))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(R){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var U=h;h=z;try{return R()}finally{h=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,z){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var U=h;h=R;try{return z()}finally{h=U}},e.unstable_scheduleCallback=function(R,z,U){var le=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?le+U:le):U=le,R){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=U+Y,R={id:m++,callback:z,priorityLevel:R,startTime:U,expirationTime:Y,sortIndex:-1},U>le?(R.sortIndex=U,t(c,R),n(u)===null&&R===n(c)&&(k?(g(_),_=-1):k=!0,fe(C,U-le))):(R.sortIndex=Y,t(u,R),N||y||(N=!0,se(b))),R},e.unstable_shouldYield=J,e.unstable_wrapCallback=function(R){var z=h;return function(){var U=h;h=z;try{return R.apply(this,arguments)}finally{h=U}}}})(Hd);Wd.exports=Hd;var nh=Wd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rh=f,Lt=nh;function M(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Kd=new Set,ql={};function Pr(e,t){ll(e,t),ll(e+"Capture",t)}function ll(e,t){for(ql[e]=t,e=0;e<t.length;e++)Kd.add(t[e])}var En=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qa=Object.prototype.hasOwnProperty,lh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xu={},qu={};function sh(e){return Qa.call(qu,e)?!0:Qa.call(Xu,e)?!1:lh.test(e)?qu[e]=!0:(Xu[e]=!0,!1)}function ih(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ah(e,t,n,r){if(t===null||typeof t>"u"||ih(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function pt(e,t,n,r,l,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){tt[e]=new pt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];tt[t]=new pt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){tt[e]=new pt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){tt[e]=new pt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){tt[e]=new pt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){tt[e]=new pt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){tt[e]=new pt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){tt[e]=new pt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){tt[e]=new pt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Wo=/[\-:]([a-z])/g;function Ho(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Wo,Ho);tt[t]=new pt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Wo,Ho);tt[t]=new pt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Wo,Ho);tt[t]=new pt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){tt[e]=new pt(e,1,!1,e.toLowerCase(),null,!1,!1)});tt.xlinkHref=new pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){tt[e]=new pt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ko(e,t,n,r){var l=tt.hasOwnProperty(t)?tt[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ah(t,n,l,r)&&(n=null),r||l===null?sh(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ln=rh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bs=Symbol.for("react.element"),Ar=Symbol.for("react.portal"),Ur=Symbol.for("react.fragment"),Go=Symbol.for("react.strict_mode"),Wa=Symbol.for("react.profiler"),Gd=Symbol.for("react.provider"),Yd=Symbol.for("react.context"),Yo=Symbol.for("react.forward_ref"),Ha=Symbol.for("react.suspense"),Ka=Symbol.for("react.suspense_list"),Xo=Symbol.for("react.memo"),Vn=Symbol.for("react.lazy"),Xd=Symbol.for("react.offscreen"),Ju=Symbol.iterator;function Sl(e){return e===null||typeof e!="object"?null:(e=Ju&&e[Ju]||e["@@iterator"],typeof e=="function"?e:null)}var Me=Object.assign,ua;function Il(e){if(ua===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ua=t&&t[1]||""}return`
`+ua+e}var ca=!1;function da(e,t){if(!e||ca)return"";ca=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var l=c.stack.split(`
`),s=r.stack.split(`
`),a=l.length-1,o=s.length-1;1<=a&&0<=o&&l[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(l[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||l[a]!==s[o]){var u=`
`+l[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=a&&0<=o);break}}}finally{ca=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Il(e):""}function oh(e){switch(e.tag){case 5:return Il(e.type);case 16:return Il("Lazy");case 13:return Il("Suspense");case 19:return Il("SuspenseList");case 0:case 2:case 15:return e=da(e.type,!1),e;case 11:return e=da(e.type.render,!1),e;case 1:return e=da(e.type,!0),e;default:return""}}function Ga(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ur:return"Fragment";case Ar:return"Portal";case Wa:return"Profiler";case Go:return"StrictMode";case Ha:return"Suspense";case Ka:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Yd:return(e.displayName||"Context")+".Consumer";case Gd:return(e._context.displayName||"Context")+".Provider";case Yo:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Xo:return t=e.displayName||null,t!==null?t:Ga(e.type)||"Memo";case Vn:t=e._payload,e=e._init;try{return Ga(e(t))}catch{}}return null}function uh(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ga(t);case 8:return t===Go?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function lr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ch(e){var t=qd(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ts(e){e._valueTracker||(e._valueTracker=ch(e))}function Jd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=qd(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function oi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ya(e,t){var n=t.checked;return Me({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Zu(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=lr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Zd(e,t){t=t.checked,t!=null&&Ko(e,"checked",t,!1)}function Xa(e,t){Zd(e,t);var n=lr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?qa(e,t.type,n):t.hasOwnProperty("defaultValue")&&qa(e,t.type,lr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ec(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function qa(e,t,n){(t!=="number"||oi(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var zl=Array.isArray;function qr(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+lr(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Ja(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(M(91));return Me({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function tc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(M(92));if(zl(n)){if(1<n.length)throw Error(M(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:lr(n)}}function ef(e,t){var n=lr(t.value),r=lr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function nc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function tf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Za(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?tf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ps,nf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ps=Ps||document.createElement("div"),Ps.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ps.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Jl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Bl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dh=["Webkit","ms","Moz","O"];Object.keys(Bl).forEach(function(e){dh.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Bl[t]=Bl[e]})});function rf(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Bl.hasOwnProperty(e)&&Bl[e]?(""+t).trim():t+"px"}function lf(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=rf(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var fh=Me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function eo(e,t){if(t){if(fh[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(M(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(M(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(M(61))}if(t.style!=null&&typeof t.style!="object")throw Error(M(62))}}function to(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var no=null;function qo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ro=null,Jr=null,Zr=null;function rc(e){if(e=ys(e)){if(typeof ro!="function")throw Error(M(280));var t=e.stateNode;t&&(t=Bi(t),ro(e.stateNode,e.type,t))}}function sf(e){Jr?Zr?Zr.push(e):Zr=[e]:Jr=e}function af(){if(Jr){var e=Jr,t=Zr;if(Zr=Jr=null,rc(e),t)for(e=0;e<t.length;e++)rc(t[e])}}function of(e,t){return e(t)}function uf(){}var fa=!1;function cf(e,t,n){if(fa)return e(t,n);fa=!0;try{return of(e,t,n)}finally{fa=!1,(Jr!==null||Zr!==null)&&(uf(),af())}}function Zl(e,t){var n=e.stateNode;if(n===null)return null;var r=Bi(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(M(231,t,typeof n));return n}var lo=!1;if(En)try{var kl={};Object.defineProperty(kl,"passive",{get:function(){lo=!0}}),window.addEventListener("test",kl,kl),window.removeEventListener("test",kl,kl)}catch{lo=!1}function ph(e,t,n,r,l,s,a,o,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(m){this.onError(m)}}var Vl=!1,ui=null,ci=!1,so=null,mh={onError:function(e){Vl=!0,ui=e}};function hh(e,t,n,r,l,s,a,o,u){Vl=!1,ui=null,ph.apply(mh,arguments)}function vh(e,t,n,r,l,s,a,o,u){if(hh.apply(this,arguments),Vl){if(Vl){var c=ui;Vl=!1,ui=null}else throw Error(M(198));ci||(ci=!0,so=c)}}function Lr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function df(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function lc(e){if(Lr(e)!==e)throw Error(M(188))}function gh(e){var t=e.alternate;if(!t){if(t=Lr(e),t===null)throw Error(M(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var s=l.alternate;if(s===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===s.child){for(s=l.child;s;){if(s===n)return lc(l),e;if(s===r)return lc(l),t;s=s.sibling}throw Error(M(188))}if(n.return!==r.return)n=l,r=s;else{for(var a=!1,o=l.child;o;){if(o===n){a=!0,n=l,r=s;break}if(o===r){a=!0,r=l,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=l;break}if(o===r){a=!0,r=s,n=l;break}o=o.sibling}if(!a)throw Error(M(189))}}if(n.alternate!==r)throw Error(M(190))}if(n.tag!==3)throw Error(M(188));return n.stateNode.current===n?e:t}function ff(e){return e=gh(e),e!==null?pf(e):null}function pf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=pf(e);if(t!==null)return t;e=e.sibling}return null}var mf=Lt.unstable_scheduleCallback,sc=Lt.unstable_cancelCallback,xh=Lt.unstable_shouldYield,yh=Lt.unstable_requestPaint,Ae=Lt.unstable_now,wh=Lt.unstable_getCurrentPriorityLevel,Jo=Lt.unstable_ImmediatePriority,hf=Lt.unstable_UserBlockingPriority,di=Lt.unstable_NormalPriority,jh=Lt.unstable_LowPriority,vf=Lt.unstable_IdlePriority,zi=null,an=null;function Nh(e){if(an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(zi,e,void 0,(e.current.flags&128)===128)}catch{}}var Xt=Math.clz32?Math.clz32:Ch,Sh=Math.log,kh=Math.LN2;function Ch(e){return e>>>=0,e===0?32:31-(Sh(e)/kh|0)|0}var Ls=64,Rs=4194304;function Al(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function fi(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,s=e.pingedLanes,a=n&268435455;if(a!==0){var o=a&~l;o!==0?r=Al(o):(s&=a,s!==0&&(r=Al(s)))}else a=n&~l,a!==0?r=Al(a):s!==0&&(r=Al(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&l)&&(l=r&-r,s=t&-t,l>=s||l===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Xt(t),l=1<<n,r|=e[n],t&=~l;return r}function Eh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _h(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-Xt(s),o=1<<a,u=l[a];u===-1?(!(o&n)||o&r)&&(l[a]=Eh(o,t)):u<=t&&(e.expiredLanes|=o),s&=~o}}function io(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function gf(){var e=Ls;return Ls<<=1,!(Ls&4194240)&&(Ls=64),e}function pa(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Xt(t),e[t]=n}function bh(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-Xt(n),s=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~s}}function Zo(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Xt(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var je=0;function xf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var yf,eu,wf,jf,Nf,ao=!1,Ms=[],Xn=null,qn=null,Jn=null,es=new Map,ts=new Map,Wn=[],Th="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ic(e,t){switch(e){case"focusin":case"focusout":Xn=null;break;case"dragenter":case"dragleave":qn=null;break;case"mouseover":case"mouseout":Jn=null;break;case"pointerover":case"pointerout":es.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ts.delete(t.pointerId)}}function Cl(e,t,n,r,l,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[l]},t!==null&&(t=ys(t),t!==null&&eu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Ph(e,t,n,r,l){switch(t){case"focusin":return Xn=Cl(Xn,e,t,n,r,l),!0;case"dragenter":return qn=Cl(qn,e,t,n,r,l),!0;case"mouseover":return Jn=Cl(Jn,e,t,n,r,l),!0;case"pointerover":var s=l.pointerId;return es.set(s,Cl(es.get(s)||null,e,t,n,r,l)),!0;case"gotpointercapture":return s=l.pointerId,ts.set(s,Cl(ts.get(s)||null,e,t,n,r,l)),!0}return!1}function Sf(e){var t=xr(e.target);if(t!==null){var n=Lr(t);if(n!==null){if(t=n.tag,t===13){if(t=df(n),t!==null){e.blockedOn=t,Nf(e.priority,function(){wf(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function qs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=oo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);no=r,n.target.dispatchEvent(r),no=null}else return t=ys(n),t!==null&&eu(t),e.blockedOn=n,!1;t.shift()}return!0}function ac(e,t,n){qs(e)&&n.delete(t)}function Lh(){ao=!1,Xn!==null&&qs(Xn)&&(Xn=null),qn!==null&&qs(qn)&&(qn=null),Jn!==null&&qs(Jn)&&(Jn=null),es.forEach(ac),ts.forEach(ac)}function El(e,t){e.blockedOn===t&&(e.blockedOn=null,ao||(ao=!0,Lt.unstable_scheduleCallback(Lt.unstable_NormalPriority,Lh)))}function ns(e){function t(l){return El(l,e)}if(0<Ms.length){El(Ms[0],e);for(var n=1;n<Ms.length;n++){var r=Ms[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Xn!==null&&El(Xn,e),qn!==null&&El(qn,e),Jn!==null&&El(Jn,e),es.forEach(t),ts.forEach(t),n=0;n<Wn.length;n++)r=Wn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Wn.length&&(n=Wn[0],n.blockedOn===null);)Sf(n),n.blockedOn===null&&Wn.shift()}var el=Ln.ReactCurrentBatchConfig,pi=!0;function Rh(e,t,n,r){var l=je,s=el.transition;el.transition=null;try{je=1,tu(e,t,n,r)}finally{je=l,el.transition=s}}function Mh(e,t,n,r){var l=je,s=el.transition;el.transition=null;try{je=4,tu(e,t,n,r)}finally{je=l,el.transition=s}}function tu(e,t,n,r){if(pi){var l=oo(e,t,n,r);if(l===null)Sa(e,t,r,mi,n),ic(e,r);else if(Ph(l,e,t,n,r))r.stopPropagation();else if(ic(e,r),t&4&&-1<Th.indexOf(e)){for(;l!==null;){var s=ys(l);if(s!==null&&yf(s),s=oo(e,t,n,r),s===null&&Sa(e,t,r,mi,n),s===l)break;l=s}l!==null&&r.stopPropagation()}else Sa(e,t,r,null,n)}}var mi=null;function oo(e,t,n,r){if(mi=null,e=qo(r),e=xr(e),e!==null)if(t=Lr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=df(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return mi=e,null}function kf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wh()){case Jo:return 1;case hf:return 4;case di:case jh:return 16;case vf:return 536870912;default:return 16}default:return 16}}var Kn=null,nu=null,Js=null;function Cf(){if(Js)return Js;var e,t=nu,n=t.length,r,l="value"in Kn?Kn.value:Kn.textContent,s=l.length;for(e=0;e<n&&t[e]===l[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===l[s-r];r++);return Js=l.slice(e,1<r?1-r:void 0)}function Zs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ds(){return!0}function oc(){return!1}function Mt(e){function t(n,r,l,s,a){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ds:oc,this.isPropagationStopped=oc,this}return Me(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ds)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ds)},persist:function(){},isPersistent:Ds}),t}var ml={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ru=Mt(ml),xs=Me({},ml,{view:0,detail:0}),Dh=Mt(xs),ma,ha,_l,Ai=Me({},xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_l&&(_l&&e.type==="mousemove"?(ma=e.screenX-_l.screenX,ha=e.screenY-_l.screenY):ha=ma=0,_l=e),ma)},movementY:function(e){return"movementY"in e?e.movementY:ha}}),uc=Mt(Ai),Fh=Me({},Ai,{dataTransfer:0}),Oh=Mt(Fh),Ih=Me({},xs,{relatedTarget:0}),va=Mt(Ih),zh=Me({},ml,{animationName:0,elapsedTime:0,pseudoElement:0}),Ah=Mt(zh),Uh=Me({},ml,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$h=Mt(Uh),Bh=Me({},ml,{data:0}),cc=Mt(Bh),Vh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Wh[e])?!!t[e]:!1}function lu(){return Hh}var Kh=Me({},xs,{key:function(e){if(e.key){var t=Vh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Zs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Qh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lu,charCode:function(e){return e.type==="keypress"?Zs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Gh=Mt(Kh),Yh=Me({},Ai,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dc=Mt(Yh),Xh=Me({},xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lu}),qh=Mt(Xh),Jh=Me({},ml,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zh=Mt(Jh),ev=Me({},Ai,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),tv=Mt(ev),nv=[9,13,27,32],su=En&&"CompositionEvent"in window,Ql=null;En&&"documentMode"in document&&(Ql=document.documentMode);var rv=En&&"TextEvent"in window&&!Ql,Ef=En&&(!su||Ql&&8<Ql&&11>=Ql),fc=" ",pc=!1;function _f(e,t){switch(e){case"keyup":return nv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $r=!1;function lv(e,t){switch(e){case"compositionend":return bf(t);case"keypress":return t.which!==32?null:(pc=!0,fc);case"textInput":return e=t.data,e===fc&&pc?null:e;default:return null}}function sv(e,t){if($r)return e==="compositionend"||!su&&_f(e,t)?(e=Cf(),Js=nu=Kn=null,$r=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ef&&t.locale!=="ko"?null:t.data;default:return null}}var iv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!iv[e.type]:t==="textarea"}function Tf(e,t,n,r){sf(r),t=hi(t,"onChange"),0<t.length&&(n=new ru("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wl=null,rs=null;function av(e){Uf(e,0)}function Ui(e){var t=Qr(e);if(Jd(t))return e}function ov(e,t){if(e==="change")return t}var Pf=!1;if(En){var ga;if(En){var xa="oninput"in document;if(!xa){var hc=document.createElement("div");hc.setAttribute("oninput","return;"),xa=typeof hc.oninput=="function"}ga=xa}else ga=!1;Pf=ga&&(!document.documentMode||9<document.documentMode)}function vc(){Wl&&(Wl.detachEvent("onpropertychange",Lf),rs=Wl=null)}function Lf(e){if(e.propertyName==="value"&&Ui(rs)){var t=[];Tf(t,rs,e,qo(e)),cf(av,t)}}function uv(e,t,n){e==="focusin"?(vc(),Wl=t,rs=n,Wl.attachEvent("onpropertychange",Lf)):e==="focusout"&&vc()}function cv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ui(rs)}function dv(e,t){if(e==="click")return Ui(t)}function fv(e,t){if(e==="input"||e==="change")return Ui(t)}function pv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Jt=typeof Object.is=="function"?Object.is:pv;function ls(e,t){if(Jt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!Qa.call(t,l)||!Jt(e[l],t[l]))return!1}return!0}function gc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xc(e,t){var n=gc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=gc(n)}}function Rf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Rf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Mf(){for(var e=window,t=oi();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=oi(e.document)}return t}function iu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function mv(e){var t=Mf(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Rf(n.ownerDocument.documentElement,n)){if(r!==null&&iu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,s=Math.min(r.start,l);r=r.end===void 0?s:Math.min(r.end,l),!e.extend&&s>r&&(l=r,r=s,s=l),l=xc(n,s);var a=xc(n,r);l&&a&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hv=En&&"documentMode"in document&&11>=document.documentMode,Br=null,uo=null,Hl=null,co=!1;function yc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;co||Br==null||Br!==oi(r)||(r=Br,"selectionStart"in r&&iu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Hl&&ls(Hl,r)||(Hl=r,r=hi(uo,"onSelect"),0<r.length&&(t=new ru("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Br)))}function Fs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Vr={animationend:Fs("Animation","AnimationEnd"),animationiteration:Fs("Animation","AnimationIteration"),animationstart:Fs("Animation","AnimationStart"),transitionend:Fs("Transition","TransitionEnd")},ya={},Df={};En&&(Df=document.createElement("div").style,"AnimationEvent"in window||(delete Vr.animationend.animation,delete Vr.animationiteration.animation,delete Vr.animationstart.animation),"TransitionEvent"in window||delete Vr.transitionend.transition);function $i(e){if(ya[e])return ya[e];if(!Vr[e])return e;var t=Vr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Df)return ya[e]=t[n];return e}var Ff=$i("animationend"),Of=$i("animationiteration"),If=$i("animationstart"),zf=$i("transitionend"),Af=new Map,wc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ir(e,t){Af.set(e,t),Pr(t,[e])}for(var wa=0;wa<wc.length;wa++){var ja=wc[wa],vv=ja.toLowerCase(),gv=ja[0].toUpperCase()+ja.slice(1);ir(vv,"on"+gv)}ir(Ff,"onAnimationEnd");ir(Of,"onAnimationIteration");ir(If,"onAnimationStart");ir("dblclick","onDoubleClick");ir("focusin","onFocus");ir("focusout","onBlur");ir(zf,"onTransitionEnd");ll("onMouseEnter",["mouseout","mouseover"]);ll("onMouseLeave",["mouseout","mouseover"]);ll("onPointerEnter",["pointerout","pointerover"]);ll("onPointerLeave",["pointerout","pointerover"]);Pr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Pr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Pr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Pr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Pr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Pr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ul));function jc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,vh(r,t,void 0,e),e.currentTarget=null}function Uf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],u=o.instance,c=o.currentTarget;if(o=o.listener,u!==s&&l.isPropagationStopped())break e;jc(l,o,c),s=u}else for(a=0;a<r.length;a++){if(o=r[a],u=o.instance,c=o.currentTarget,o=o.listener,u!==s&&l.isPropagationStopped())break e;jc(l,o,c),s=u}}}if(ci)throw e=so,ci=!1,so=null,e}function ke(e,t){var n=t[vo];n===void 0&&(n=t[vo]=new Set);var r=e+"__bubble";n.has(r)||($f(t,e,2,!1),n.add(r))}function Na(e,t,n){var r=0;t&&(r|=4),$f(n,e,r,t)}var Os="_reactListening"+Math.random().toString(36).slice(2);function ss(e){if(!e[Os]){e[Os]=!0,Kd.forEach(function(n){n!=="selectionchange"&&(xv.has(n)||Na(n,!1,e),Na(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Os]||(t[Os]=!0,Na("selectionchange",!1,t))}}function $f(e,t,n,r){switch(kf(t)){case 1:var l=Rh;break;case 4:l=Mh;break;default:l=tu}n=l.bind(null,t,n,e),l=void 0,!lo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function Sa(e,t,n,r,l){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===l||o.nodeType===8&&o.parentNode===l)break;if(a===4)for(a=r.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===l||u.nodeType===8&&u.parentNode===l))return;a=a.return}for(;o!==null;){if(a=xr(o),a===null)return;if(u=a.tag,u===5||u===6){r=s=a;continue e}o=o.parentNode}}r=r.return}cf(function(){var c=s,m=qo(n),p=[];e:{var h=Af.get(e);if(h!==void 0){var y=ru,N=e;switch(e){case"keypress":if(Zs(n)===0)break e;case"keydown":case"keyup":y=Gh;break;case"focusin":N="focus",y=va;break;case"focusout":N="blur",y=va;break;case"beforeblur":case"afterblur":y=va;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=uc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Oh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=qh;break;case Ff:case Of:case If:y=Ah;break;case zf:y=Zh;break;case"scroll":y=Dh;break;case"wheel":y=tv;break;case"copy":case"cut":case"paste":y=$h;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=dc}var k=(t&4)!==0,P=!k&&e==="scroll",g=k?h!==null?h+"Capture":null:h;k=[];for(var d=c,v;d!==null;){v=d;var C=v.stateNode;if(v.tag===5&&C!==null&&(v=C,g!==null&&(C=Zl(d,g),C!=null&&k.push(is(d,C,v)))),P)break;d=d.return}0<k.length&&(h=new y(h,N,null,n,m),p.push({event:h,listeners:k}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",h&&n!==no&&(N=n.relatedTarget||n.fromElement)&&(xr(N)||N[_n]))break e;if((y||h)&&(h=m.window===m?m:(h=m.ownerDocument)?h.defaultView||h.parentWindow:window,y?(N=n.relatedTarget||n.toElement,y=c,N=N?xr(N):null,N!==null&&(P=Lr(N),N!==P||N.tag!==5&&N.tag!==6)&&(N=null)):(y=null,N=c),y!==N)){if(k=uc,C="onMouseLeave",g="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(k=dc,C="onPointerLeave",g="onPointerEnter",d="pointer"),P=y==null?h:Qr(y),v=N==null?h:Qr(N),h=new k(C,d+"leave",y,n,m),h.target=P,h.relatedTarget=v,C=null,xr(m)===c&&(k=new k(g,d+"enter",N,n,m),k.target=v,k.relatedTarget=P,C=k),P=C,y&&N)t:{for(k=y,g=N,d=0,v=k;v;v=Ir(v))d++;for(v=0,C=g;C;C=Ir(C))v++;for(;0<d-v;)k=Ir(k),d--;for(;0<v-d;)g=Ir(g),v--;for(;d--;){if(k===g||g!==null&&k===g.alternate)break t;k=Ir(k),g=Ir(g)}k=null}else k=null;y!==null&&Nc(p,h,y,k,!1),N!==null&&P!==null&&Nc(p,P,N,k,!0)}}e:{if(h=c?Qr(c):window,y=h.nodeName&&h.nodeName.toLowerCase(),y==="select"||y==="input"&&h.type==="file")var b=ov;else if(mc(h))if(Pf)b=fv;else{b=cv;var D=uv}else(y=h.nodeName)&&y.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(b=dv);if(b&&(b=b(e,c))){Tf(p,b,n,m);break e}D&&D(e,h,c),e==="focusout"&&(D=h._wrapperState)&&D.controlled&&h.type==="number"&&qa(h,"number",h.value)}switch(D=c?Qr(c):window,e){case"focusin":(mc(D)||D.contentEditable==="true")&&(Br=D,uo=c,Hl=null);break;case"focusout":Hl=uo=Br=null;break;case"mousedown":co=!0;break;case"contextmenu":case"mouseup":case"dragend":co=!1,yc(p,n,m);break;case"selectionchange":if(hv)break;case"keydown":case"keyup":yc(p,n,m)}var w;if(su)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else $r?_f(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(Ef&&n.locale!=="ko"&&($r||_!=="onCompositionStart"?_==="onCompositionEnd"&&$r&&(w=Cf()):(Kn=m,nu="value"in Kn?Kn.value:Kn.textContent,$r=!0)),D=hi(c,_),0<D.length&&(_=new cc(_,e,null,n,m),p.push({event:_,listeners:D}),w?_.data=w:(w=bf(n),w!==null&&(_.data=w)))),(w=rv?lv(e,n):sv(e,n))&&(c=hi(c,"onBeforeInput"),0<c.length&&(m=new cc("onBeforeInput","beforeinput",null,n,m),p.push({event:m,listeners:c}),m.data=w))}Uf(p,t)})}function is(e,t,n){return{instance:e,listener:t,currentTarget:n}}function hi(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,s=l.stateNode;l.tag===5&&s!==null&&(l=s,s=Zl(e,n),s!=null&&r.unshift(is(e,s,l)),s=Zl(e,t),s!=null&&r.push(is(e,s,l))),e=e.return}return r}function Ir(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Nc(e,t,n,r,l){for(var s=t._reactName,a=[];n!==null&&n!==r;){var o=n,u=o.alternate,c=o.stateNode;if(u!==null&&u===r)break;o.tag===5&&c!==null&&(o=c,l?(u=Zl(n,s),u!=null&&a.unshift(is(n,u,o))):l||(u=Zl(n,s),u!=null&&a.push(is(n,u,o)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var yv=/\r\n?/g,wv=/\u0000|\uFFFD/g;function Sc(e){return(typeof e=="string"?e:""+e).replace(yv,`
`).replace(wv,"")}function Is(e,t,n){if(t=Sc(t),Sc(e)!==t&&n)throw Error(M(425))}function vi(){}var fo=null,po=null;function mo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ho=typeof setTimeout=="function"?setTimeout:void 0,jv=typeof clearTimeout=="function"?clearTimeout:void 0,kc=typeof Promise=="function"?Promise:void 0,Nv=typeof queueMicrotask=="function"?queueMicrotask:typeof kc<"u"?function(e){return kc.resolve(null).then(e).catch(Sv)}:ho;function Sv(e){setTimeout(function(){throw e})}function ka(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),ns(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);ns(t)}function Zn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Cc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var hl=Math.random().toString(36).slice(2),sn="__reactFiber$"+hl,as="__reactProps$"+hl,_n="__reactContainer$"+hl,vo="__reactEvents$"+hl,kv="__reactListeners$"+hl,Cv="__reactHandles$"+hl;function xr(e){var t=e[sn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[_n]||n[sn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Cc(e);e!==null;){if(n=e[sn])return n;e=Cc(e)}return t}e=n,n=e.parentNode}return null}function ys(e){return e=e[sn]||e[_n],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Qr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(M(33))}function Bi(e){return e[as]||null}var go=[],Wr=-1;function ar(e){return{current:e}}function Ce(e){0>Wr||(e.current=go[Wr],go[Wr]=null,Wr--)}function Se(e,t){Wr++,go[Wr]=e.current,e.current=t}var sr={},ot=ar(sr),wt=ar(!1),kr=sr;function sl(e,t){var n=e.type.contextTypes;if(!n)return sr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},s;for(s in n)l[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function jt(e){return e=e.childContextTypes,e!=null}function gi(){Ce(wt),Ce(ot)}function Ec(e,t,n){if(ot.current!==sr)throw Error(M(168));Se(ot,t),Se(wt,n)}function Bf(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(M(108,uh(e)||"Unknown",l));return Me({},n,r)}function xi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||sr,kr=ot.current,Se(ot,e),Se(wt,wt.current),!0}function _c(e,t,n){var r=e.stateNode;if(!r)throw Error(M(169));n?(e=Bf(e,t,kr),r.__reactInternalMemoizedMergedChildContext=e,Ce(wt),Ce(ot),Se(ot,e)):Ce(wt),Se(wt,n)}var wn=null,Vi=!1,Ca=!1;function Vf(e){wn===null?wn=[e]:wn.push(e)}function Ev(e){Vi=!0,Vf(e)}function or(){if(!Ca&&wn!==null){Ca=!0;var e=0,t=je;try{var n=wn;for(je=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}wn=null,Vi=!1}catch(l){throw wn!==null&&(wn=wn.slice(e+1)),mf(Jo,or),l}finally{je=t,Ca=!1}}return null}var Hr=[],Kr=0,yi=null,wi=0,Ot=[],It=0,Cr=null,Nn=1,Sn="";function mr(e,t){Hr[Kr++]=wi,Hr[Kr++]=yi,yi=e,wi=t}function Qf(e,t,n){Ot[It++]=Nn,Ot[It++]=Sn,Ot[It++]=Cr,Cr=e;var r=Nn;e=Sn;var l=32-Xt(r)-1;r&=~(1<<l),n+=1;var s=32-Xt(t)+l;if(30<s){var a=l-l%5;s=(r&(1<<a)-1).toString(32),r>>=a,l-=a,Nn=1<<32-Xt(t)+l|n<<l|r,Sn=s+e}else Nn=1<<s|n<<l|r,Sn=e}function au(e){e.return!==null&&(mr(e,1),Qf(e,1,0))}function ou(e){for(;e===yi;)yi=Hr[--Kr],Hr[Kr]=null,wi=Hr[--Kr],Hr[Kr]=null;for(;e===Cr;)Cr=Ot[--It],Ot[It]=null,Sn=Ot[--It],Ot[It]=null,Nn=Ot[--It],Ot[It]=null}var Pt=null,bt=null,Te=!1,Yt=null;function Wf(e,t){var n=zt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function bc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Pt=e,bt=Zn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Pt=e,bt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Cr!==null?{id:Nn,overflow:Sn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=zt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Pt=e,bt=null,!0):!1;default:return!1}}function xo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function yo(e){if(Te){var t=bt;if(t){var n=t;if(!bc(e,t)){if(xo(e))throw Error(M(418));t=Zn(n.nextSibling);var r=Pt;t&&bc(e,t)?Wf(r,n):(e.flags=e.flags&-4097|2,Te=!1,Pt=e)}}else{if(xo(e))throw Error(M(418));e.flags=e.flags&-4097|2,Te=!1,Pt=e}}}function Tc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Pt=e}function zs(e){if(e!==Pt)return!1;if(!Te)return Tc(e),Te=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!mo(e.type,e.memoizedProps)),t&&(t=bt)){if(xo(e))throw Hf(),Error(M(418));for(;t;)Wf(e,t),t=Zn(t.nextSibling)}if(Tc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(M(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){bt=Zn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}bt=null}}else bt=Pt?Zn(e.stateNode.nextSibling):null;return!0}function Hf(){for(var e=bt;e;)e=Zn(e.nextSibling)}function il(){bt=Pt=null,Te=!1}function uu(e){Yt===null?Yt=[e]:Yt.push(e)}var _v=Ln.ReactCurrentBatchConfig;function bl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(M(309));var r=n.stateNode}if(!r)throw Error(M(147,e));var l=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var o=l.refs;a===null?delete o[s]:o[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(M(284));if(!n._owner)throw Error(M(290,e))}return e}function As(e,t){throw e=Object.prototype.toString.call(t),Error(M(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Pc(e){var t=e._init;return t(e._payload)}function Kf(e){function t(g,d){if(e){var v=g.deletions;v===null?(g.deletions=[d],g.flags|=16):v.push(d)}}function n(g,d){if(!e)return null;for(;d!==null;)t(g,d),d=d.sibling;return null}function r(g,d){for(g=new Map;d!==null;)d.key!==null?g.set(d.key,d):g.set(d.index,d),d=d.sibling;return g}function l(g,d){return g=rr(g,d),g.index=0,g.sibling=null,g}function s(g,d,v){return g.index=v,e?(v=g.alternate,v!==null?(v=v.index,v<d?(g.flags|=2,d):v):(g.flags|=2,d)):(g.flags|=1048576,d)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function o(g,d,v,C){return d===null||d.tag!==6?(d=Ra(v,g.mode,C),d.return=g,d):(d=l(d,v),d.return=g,d)}function u(g,d,v,C){var b=v.type;return b===Ur?m(g,d,v.props.children,C,v.key):d!==null&&(d.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Vn&&Pc(b)===d.type)?(C=l(d,v.props),C.ref=bl(g,d,v),C.return=g,C):(C=ii(v.type,v.key,v.props,null,g.mode,C),C.ref=bl(g,d,v),C.return=g,C)}function c(g,d,v,C){return d===null||d.tag!==4||d.stateNode.containerInfo!==v.containerInfo||d.stateNode.implementation!==v.implementation?(d=Ma(v,g.mode,C),d.return=g,d):(d=l(d,v.children||[]),d.return=g,d)}function m(g,d,v,C,b){return d===null||d.tag!==7?(d=Sr(v,g.mode,C,b),d.return=g,d):(d=l(d,v),d.return=g,d)}function p(g,d,v){if(typeof d=="string"&&d!==""||typeof d=="number")return d=Ra(""+d,g.mode,v),d.return=g,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case bs:return v=ii(d.type,d.key,d.props,null,g.mode,v),v.ref=bl(g,null,d),v.return=g,v;case Ar:return d=Ma(d,g.mode,v),d.return=g,d;case Vn:var C=d._init;return p(g,C(d._payload),v)}if(zl(d)||Sl(d))return d=Sr(d,g.mode,v,null),d.return=g,d;As(g,d)}return null}function h(g,d,v,C){var b=d!==null?d.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return b!==null?null:o(g,d,""+v,C);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case bs:return v.key===b?u(g,d,v,C):null;case Ar:return v.key===b?c(g,d,v,C):null;case Vn:return b=v._init,h(g,d,b(v._payload),C)}if(zl(v)||Sl(v))return b!==null?null:m(g,d,v,C,null);As(g,v)}return null}function y(g,d,v,C,b){if(typeof C=="string"&&C!==""||typeof C=="number")return g=g.get(v)||null,o(d,g,""+C,b);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case bs:return g=g.get(C.key===null?v:C.key)||null,u(d,g,C,b);case Ar:return g=g.get(C.key===null?v:C.key)||null,c(d,g,C,b);case Vn:var D=C._init;return y(g,d,v,D(C._payload),b)}if(zl(C)||Sl(C))return g=g.get(v)||null,m(d,g,C,b,null);As(d,C)}return null}function N(g,d,v,C){for(var b=null,D=null,w=d,_=d=0,B=null;w!==null&&_<v.length;_++){w.index>_?(B=w,w=null):B=w.sibling;var F=h(g,w,v[_],C);if(F===null){w===null&&(w=B);break}e&&w&&F.alternate===null&&t(g,w),d=s(F,d,_),D===null?b=F:D.sibling=F,D=F,w=B}if(_===v.length)return n(g,w),Te&&mr(g,_),b;if(w===null){for(;_<v.length;_++)w=p(g,v[_],C),w!==null&&(d=s(w,d,_),D===null?b=w:D.sibling=w,D=w);return Te&&mr(g,_),b}for(w=r(g,w);_<v.length;_++)B=y(w,g,_,v[_],C),B!==null&&(e&&B.alternate!==null&&w.delete(B.key===null?_:B.key),d=s(B,d,_),D===null?b=B:D.sibling=B,D=B);return e&&w.forEach(function(J){return t(g,J)}),Te&&mr(g,_),b}function k(g,d,v,C){var b=Sl(v);if(typeof b!="function")throw Error(M(150));if(v=b.call(v),v==null)throw Error(M(151));for(var D=b=null,w=d,_=d=0,B=null,F=v.next();w!==null&&!F.done;_++,F=v.next()){w.index>_?(B=w,w=null):B=w.sibling;var J=h(g,w,F.value,C);if(J===null){w===null&&(w=B);break}e&&w&&J.alternate===null&&t(g,w),d=s(J,d,_),D===null?b=J:D.sibling=J,D=J,w=B}if(F.done)return n(g,w),Te&&mr(g,_),b;if(w===null){for(;!F.done;_++,F=v.next())F=p(g,F.value,C),F!==null&&(d=s(F,d,_),D===null?b=F:D.sibling=F,D=F);return Te&&mr(g,_),b}for(w=r(g,w);!F.done;_++,F=v.next())F=y(w,g,_,F.value,C),F!==null&&(e&&F.alternate!==null&&w.delete(F.key===null?_:F.key),d=s(F,d,_),D===null?b=F:D.sibling=F,D=F);return e&&w.forEach(function(oe){return t(g,oe)}),Te&&mr(g,_),b}function P(g,d,v,C){if(typeof v=="object"&&v!==null&&v.type===Ur&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case bs:e:{for(var b=v.key,D=d;D!==null;){if(D.key===b){if(b=v.type,b===Ur){if(D.tag===7){n(g,D.sibling),d=l(D,v.props.children),d.return=g,g=d;break e}}else if(D.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Vn&&Pc(b)===D.type){n(g,D.sibling),d=l(D,v.props),d.ref=bl(g,D,v),d.return=g,g=d;break e}n(g,D);break}else t(g,D);D=D.sibling}v.type===Ur?(d=Sr(v.props.children,g.mode,C,v.key),d.return=g,g=d):(C=ii(v.type,v.key,v.props,null,g.mode,C),C.ref=bl(g,d,v),C.return=g,g=C)}return a(g);case Ar:e:{for(D=v.key;d!==null;){if(d.key===D)if(d.tag===4&&d.stateNode.containerInfo===v.containerInfo&&d.stateNode.implementation===v.implementation){n(g,d.sibling),d=l(d,v.children||[]),d.return=g,g=d;break e}else{n(g,d);break}else t(g,d);d=d.sibling}d=Ma(v,g.mode,C),d.return=g,g=d}return a(g);case Vn:return D=v._init,P(g,d,D(v._payload),C)}if(zl(v))return N(g,d,v,C);if(Sl(v))return k(g,d,v,C);As(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,d!==null&&d.tag===6?(n(g,d.sibling),d=l(d,v),d.return=g,g=d):(n(g,d),d=Ra(v,g.mode,C),d.return=g,g=d),a(g)):n(g,d)}return P}var al=Kf(!0),Gf=Kf(!1),ji=ar(null),Ni=null,Gr=null,cu=null;function du(){cu=Gr=Ni=null}function fu(e){var t=ji.current;Ce(ji),e._currentValue=t}function wo(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function tl(e,t){Ni=e,cu=Gr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(yt=!0),e.firstContext=null)}function Ut(e){var t=e._currentValue;if(cu!==e)if(e={context:e,memoizedValue:t,next:null},Gr===null){if(Ni===null)throw Error(M(308));Gr=e,Ni.dependencies={lanes:0,firstContext:e}}else Gr=Gr.next=e;return t}var yr=null;function pu(e){yr===null?yr=[e]:yr.push(e)}function Yf(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,pu(t)):(n.next=l.next,l.next=n),t.interleaved=n,bn(e,r)}function bn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Qn=!1;function mu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function kn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function er(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ge&2){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,bn(e,n)}return l=r.interleaved,l===null?(t.next=t,pu(r)):(t.next=l.next,l.next=t),r.interleaved=t,bn(e,n)}function ei(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Zo(e,n)}}function Lc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?l=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?l=s=t:s=s.next=t}else l=s=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Si(e,t,n,r){var l=e.updateQueue;Qn=!1;var s=l.firstBaseUpdate,a=l.lastBaseUpdate,o=l.shared.pending;if(o!==null){l.shared.pending=null;var u=o,c=u.next;u.next=null,a===null?s=c:a.next=c,a=u;var m=e.alternate;m!==null&&(m=m.updateQueue,o=m.lastBaseUpdate,o!==a&&(o===null?m.firstBaseUpdate=c:o.next=c,m.lastBaseUpdate=u))}if(s!==null){var p=l.baseState;a=0,m=c=u=null,o=s;do{var h=o.lane,y=o.eventTime;if((r&h)===h){m!==null&&(m=m.next={eventTime:y,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var N=e,k=o;switch(h=t,y=n,k.tag){case 1:if(N=k.payload,typeof N=="function"){p=N.call(y,p,h);break e}p=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=k.payload,h=typeof N=="function"?N.call(y,p,h):N,h==null)break e;p=Me({},p,h);break e;case 2:Qn=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=l.effects,h===null?l.effects=[o]:h.push(o))}else y={eventTime:y,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},m===null?(c=m=y,u=p):m=m.next=y,a|=h;if(o=o.next,o===null){if(o=l.shared.pending,o===null)break;h=o,o=h.next,h.next=null,l.lastBaseUpdate=h,l.shared.pending=null}}while(!0);if(m===null&&(u=p),l.baseState=u,l.firstBaseUpdate=c,l.lastBaseUpdate=m,t=l.shared.interleaved,t!==null){l=t;do a|=l.lane,l=l.next;while(l!==t)}else s===null&&(l.shared.lanes=0);_r|=a,e.lanes=a,e.memoizedState=p}}function Rc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(M(191,l));l.call(r)}}}var ws={},on=ar(ws),os=ar(ws),us=ar(ws);function wr(e){if(e===ws)throw Error(M(174));return e}function hu(e,t){switch(Se(us,t),Se(os,e),Se(on,ws),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Za(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Za(t,e)}Ce(on),Se(on,t)}function ol(){Ce(on),Ce(os),Ce(us)}function qf(e){wr(us.current);var t=wr(on.current),n=Za(t,e.type);t!==n&&(Se(os,e),Se(on,n))}function vu(e){os.current===e&&(Ce(on),Ce(os))}var Le=ar(0);function ki(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ea=[];function gu(){for(var e=0;e<Ea.length;e++)Ea[e]._workInProgressVersionPrimary=null;Ea.length=0}var ti=Ln.ReactCurrentDispatcher,_a=Ln.ReactCurrentBatchConfig,Er=0,Re=null,Qe=null,Ge=null,Ci=!1,Kl=!1,cs=0,bv=0;function st(){throw Error(M(321))}function xu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Jt(e[n],t[n]))return!1;return!0}function yu(e,t,n,r,l,s){if(Er=s,Re=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ti.current=e===null||e.memoizedState===null?Rv:Mv,e=n(r,l),Kl){s=0;do{if(Kl=!1,cs=0,25<=s)throw Error(M(301));s+=1,Ge=Qe=null,t.updateQueue=null,ti.current=Dv,e=n(r,l)}while(Kl)}if(ti.current=Ei,t=Qe!==null&&Qe.next!==null,Er=0,Ge=Qe=Re=null,Ci=!1,t)throw Error(M(300));return e}function wu(){var e=cs!==0;return cs=0,e}function ln(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?Re.memoizedState=Ge=e:Ge=Ge.next=e,Ge}function $t(){if(Qe===null){var e=Re.alternate;e=e!==null?e.memoizedState:null}else e=Qe.next;var t=Ge===null?Re.memoizedState:Ge.next;if(t!==null)Ge=t,Qe=e;else{if(e===null)throw Error(M(310));Qe=e,e={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},Ge===null?Re.memoizedState=Ge=e:Ge=Ge.next=e}return Ge}function ds(e,t){return typeof t=="function"?t(e):t}function ba(e){var t=$t(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var r=Qe,l=r.baseQueue,s=n.pending;if(s!==null){if(l!==null){var a=l.next;l.next=s.next,s.next=a}r.baseQueue=l=s,n.pending=null}if(l!==null){s=l.next,r=r.baseState;var o=a=null,u=null,c=s;do{var m=c.lane;if((Er&m)===m)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var p={lane:m,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(o=u=p,a=r):u=u.next=p,Re.lanes|=m,_r|=m}c=c.next}while(c!==null&&c!==s);u===null?a=r:u.next=o,Jt(r,t.memoizedState)||(yt=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do s=l.lane,Re.lanes|=s,_r|=s,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ta(e){var t=$t(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,s=t.memoizedState;if(l!==null){n.pending=null;var a=l=l.next;do s=e(s,a.action),a=a.next;while(a!==l);Jt(s,t.memoizedState)||(yt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Jf(){}function Zf(e,t){var n=Re,r=$t(),l=t(),s=!Jt(r.memoizedState,l);if(s&&(r.memoizedState=l,yt=!0),r=r.queue,ju(np.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Ge!==null&&Ge.memoizedState.tag&1){if(n.flags|=2048,fs(9,tp.bind(null,n,r,l,t),void 0,null),Ye===null)throw Error(M(349));Er&30||ep(n,t,l)}return l}function ep(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Re.updateQueue,t===null?(t={lastEffect:null,stores:null},Re.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function tp(e,t,n,r){t.value=n,t.getSnapshot=r,rp(t)&&lp(e)}function np(e,t,n){return n(function(){rp(t)&&lp(e)})}function rp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Jt(e,n)}catch{return!0}}function lp(e){var t=bn(e,1);t!==null&&qt(t,e,1,-1)}function Mc(e){var t=ln();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:e},t.queue=e,e=e.dispatch=Lv.bind(null,Re,e),[t.memoizedState,e]}function fs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Re.updateQueue,t===null?(t={lastEffect:null,stores:null},Re.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function sp(){return $t().memoizedState}function ni(e,t,n,r){var l=ln();Re.flags|=e,l.memoizedState=fs(1|t,n,void 0,r===void 0?null:r)}function Qi(e,t,n,r){var l=$t();r=r===void 0?null:r;var s=void 0;if(Qe!==null){var a=Qe.memoizedState;if(s=a.destroy,r!==null&&xu(r,a.deps)){l.memoizedState=fs(t,n,s,r);return}}Re.flags|=e,l.memoizedState=fs(1|t,n,s,r)}function Dc(e,t){return ni(8390656,8,e,t)}function ju(e,t){return Qi(2048,8,e,t)}function ip(e,t){return Qi(4,2,e,t)}function ap(e,t){return Qi(4,4,e,t)}function op(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function up(e,t,n){return n=n!=null?n.concat([e]):null,Qi(4,4,op.bind(null,t,e),n)}function Nu(){}function cp(e,t){var n=$t();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&xu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function dp(e,t){var n=$t();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&xu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function fp(e,t,n){return Er&21?(Jt(n,t)||(n=gf(),Re.lanes|=n,_r|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,yt=!0),e.memoizedState=n)}function Tv(e,t){var n=je;je=n!==0&&4>n?n:4,e(!0);var r=_a.transition;_a.transition={};try{e(!1),t()}finally{je=n,_a.transition=r}}function pp(){return $t().memoizedState}function Pv(e,t,n){var r=nr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},mp(e))hp(t,n);else if(n=Yf(e,t,n,r),n!==null){var l=dt();qt(n,e,r,l),vp(n,t,r)}}function Lv(e,t,n){var r=nr(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(mp(e))hp(t,l);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,o=s(a,n);if(l.hasEagerState=!0,l.eagerState=o,Jt(o,a)){var u=t.interleaved;u===null?(l.next=l,pu(t)):(l.next=u.next,u.next=l),t.interleaved=l;return}}catch{}finally{}n=Yf(e,t,l,r),n!==null&&(l=dt(),qt(n,e,r,l),vp(n,t,r))}}function mp(e){var t=e.alternate;return e===Re||t!==null&&t===Re}function hp(e,t){Kl=Ci=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function vp(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Zo(e,n)}}var Ei={readContext:Ut,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useInsertionEffect:st,useLayoutEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useMutableSource:st,useSyncExternalStore:st,useId:st,unstable_isNewReconciler:!1},Rv={readContext:Ut,useCallback:function(e,t){return ln().memoizedState=[e,t===void 0?null:t],e},useContext:Ut,useEffect:Dc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ni(4194308,4,op.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ni(4194308,4,e,t)},useInsertionEffect:function(e,t){return ni(4,2,e,t)},useMemo:function(e,t){var n=ln();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ln();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Pv.bind(null,Re,e),[r.memoizedState,e]},useRef:function(e){var t=ln();return e={current:e},t.memoizedState=e},useState:Mc,useDebugValue:Nu,useDeferredValue:function(e){return ln().memoizedState=e},useTransition:function(){var e=Mc(!1),t=e[0];return e=Tv.bind(null,e[1]),ln().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Re,l=ln();if(Te){if(n===void 0)throw Error(M(407));n=n()}else{if(n=t(),Ye===null)throw Error(M(349));Er&30||ep(r,t,n)}l.memoizedState=n;var s={value:n,getSnapshot:t};return l.queue=s,Dc(np.bind(null,r,s,e),[e]),r.flags|=2048,fs(9,tp.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=ln(),t=Ye.identifierPrefix;if(Te){var n=Sn,r=Nn;n=(r&~(1<<32-Xt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=cs++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=bv++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Mv={readContext:Ut,useCallback:cp,useContext:Ut,useEffect:ju,useImperativeHandle:up,useInsertionEffect:ip,useLayoutEffect:ap,useMemo:dp,useReducer:ba,useRef:sp,useState:function(){return ba(ds)},useDebugValue:Nu,useDeferredValue:function(e){var t=$t();return fp(t,Qe.memoizedState,e)},useTransition:function(){var e=ba(ds)[0],t=$t().memoizedState;return[e,t]},useMutableSource:Jf,useSyncExternalStore:Zf,useId:pp,unstable_isNewReconciler:!1},Dv={readContext:Ut,useCallback:cp,useContext:Ut,useEffect:ju,useImperativeHandle:up,useInsertionEffect:ip,useLayoutEffect:ap,useMemo:dp,useReducer:Ta,useRef:sp,useState:function(){return Ta(ds)},useDebugValue:Nu,useDeferredValue:function(e){var t=$t();return Qe===null?t.memoizedState=e:fp(t,Qe.memoizedState,e)},useTransition:function(){var e=Ta(ds)[0],t=$t().memoizedState;return[e,t]},useMutableSource:Jf,useSyncExternalStore:Zf,useId:pp,unstable_isNewReconciler:!1};function Ht(e,t){if(e&&e.defaultProps){t=Me({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function jo(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Me({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Wi={isMounted:function(e){return(e=e._reactInternals)?Lr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=dt(),l=nr(e),s=kn(r,l);s.payload=t,n!=null&&(s.callback=n),t=er(e,s,l),t!==null&&(qt(t,e,l,r),ei(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=dt(),l=nr(e),s=kn(r,l);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=er(e,s,l),t!==null&&(qt(t,e,l,r),ei(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=dt(),r=nr(e),l=kn(n,r);l.tag=2,t!=null&&(l.callback=t),t=er(e,l,r),t!==null&&(qt(t,e,r,n),ei(t,e,r))}};function Fc(e,t,n,r,l,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,a):t.prototype&&t.prototype.isPureReactComponent?!ls(n,r)||!ls(l,s):!0}function gp(e,t,n){var r=!1,l=sr,s=t.contextType;return typeof s=="object"&&s!==null?s=Ut(s):(l=jt(t)?kr:ot.current,r=t.contextTypes,s=(r=r!=null)?sl(e,l):sr),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Wi,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=s),t}function Oc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Wi.enqueueReplaceState(t,t.state,null)}function No(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},mu(e);var s=t.contextType;typeof s=="object"&&s!==null?l.context=Ut(s):(s=jt(t)?kr:ot.current,l.context=sl(e,s)),l.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(jo(e,t,s,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Wi.enqueueReplaceState(l,l.state,null),Si(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function ul(e,t){try{var n="",r=t;do n+=oh(r),r=r.return;while(r);var l=n}catch(s){l=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:l,digest:null}}function Pa(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function So(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Fv=typeof WeakMap=="function"?WeakMap:Map;function xp(e,t,n){n=kn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){bi||(bi=!0,Mo=r),So(e,t)},n}function yp(e,t,n){n=kn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){So(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){So(e,t),typeof r!="function"&&(tr===null?tr=new Set([this]):tr.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Ic(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Fv;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=Yv.bind(null,e,t,n),t.then(e,e))}function zc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ac(e,t,n,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=kn(-1,1),t.tag=2,er(n,t,1))),n.lanes|=1),e)}var Ov=Ln.ReactCurrentOwner,yt=!1;function ct(e,t,n,r){t.child=e===null?Gf(t,null,n,r):al(t,e.child,n,r)}function Uc(e,t,n,r,l){n=n.render;var s=t.ref;return tl(t,l),r=yu(e,t,n,r,s,l),n=wu(),e!==null&&!yt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Tn(e,t,l)):(Te&&n&&au(t),t.flags|=1,ct(e,t,r,l),t.child)}function $c(e,t,n,r,l){if(e===null){var s=n.type;return typeof s=="function"&&!Pu(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,wp(e,t,s,r,l)):(e=ii(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&l)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:ls,n(a,r)&&e.ref===t.ref)return Tn(e,t,l)}return t.flags|=1,e=rr(s,r),e.ref=t.ref,e.return=t,t.child=e}function wp(e,t,n,r,l){if(e!==null){var s=e.memoizedProps;if(ls(s,r)&&e.ref===t.ref)if(yt=!1,t.pendingProps=r=s,(e.lanes&l)!==0)e.flags&131072&&(yt=!0);else return t.lanes=e.lanes,Tn(e,t,l)}return ko(e,t,n,r,l)}function jp(e,t,n){var r=t.pendingProps,l=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Se(Xr,Et),Et|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Se(Xr,Et),Et|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Se(Xr,Et),Et|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Se(Xr,Et),Et|=r;return ct(e,t,l,n),t.child}function Np(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ko(e,t,n,r,l){var s=jt(n)?kr:ot.current;return s=sl(t,s),tl(t,l),n=yu(e,t,n,r,s,l),r=wu(),e!==null&&!yt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Tn(e,t,l)):(Te&&r&&au(t),t.flags|=1,ct(e,t,n,l),t.child)}function Bc(e,t,n,r,l){if(jt(n)){var s=!0;xi(t)}else s=!1;if(tl(t,l),t.stateNode===null)ri(e,t),gp(t,n,r),No(t,n,r,l),r=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var u=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ut(c):(c=jt(n)?kr:ot.current,c=sl(t,c));var m=n.getDerivedStateFromProps,p=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function";p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||u!==c)&&Oc(t,a,r,c),Qn=!1;var h=t.memoizedState;a.state=h,Si(t,r,a,l),u=t.memoizedState,o!==r||h!==u||wt.current||Qn?(typeof m=="function"&&(jo(t,n,m,r),u=t.memoizedState),(o=Qn||Fc(t,n,o,r,h,u,c))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Xf(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:Ht(t.type,o),a.props=c,p=t.pendingProps,h=a.context,u=n.contextType,typeof u=="object"&&u!==null?u=Ut(u):(u=jt(n)?kr:ot.current,u=sl(t,u));var y=n.getDerivedStateFromProps;(m=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==p||h!==u)&&Oc(t,a,r,u),Qn=!1,h=t.memoizedState,a.state=h,Si(t,r,a,l);var N=t.memoizedState;o!==p||h!==N||wt.current||Qn?(typeof y=="function"&&(jo(t,n,y,r),N=t.memoizedState),(c=Qn||Fc(t,n,c,r,h,N,u)||!1)?(m||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,N,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,N,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=N),a.props=r,a.state=N,a.context=u,r=c):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Co(e,t,n,r,s,l)}function Co(e,t,n,r,l,s){Np(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return l&&_c(t,n,!1),Tn(e,t,s);r=t.stateNode,Ov.current=t;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=al(t,e.child,null,s),t.child=al(t,null,o,s)):ct(e,t,o,s),t.memoizedState=r.state,l&&_c(t,n,!0),t.child}function Sp(e){var t=e.stateNode;t.pendingContext?Ec(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ec(e,t.context,!1),hu(e,t.containerInfo)}function Vc(e,t,n,r,l){return il(),uu(l),t.flags|=256,ct(e,t,n,r),t.child}var Eo={dehydrated:null,treeContext:null,retryLane:0};function _o(e){return{baseLanes:e,cachePool:null,transitions:null}}function kp(e,t,n){var r=t.pendingProps,l=Le.current,s=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(l&2)!==0),o?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),Se(Le,l&1),e===null)return yo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,s?(r=t.mode,s=t.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Gi(a,r,0,null),e=Sr(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=_o(n),t.memoizedState=Eo,e):Su(t,a));if(l=e.memoizedState,l!==null&&(o=l.dehydrated,o!==null))return Iv(e,t,a,r,o,l,n);if(s){s=r.fallback,a=t.mode,l=e.child,o=l.sibling;var u={mode:"hidden",children:r.children};return!(a&1)&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=rr(l,u),r.subtreeFlags=l.subtreeFlags&14680064),o!==null?s=rr(o,s):(s=Sr(s,a,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,a=e.child.memoizedState,a=a===null?_o(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~n,t.memoizedState=Eo,r}return s=e.child,e=s.sibling,r=rr(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Su(e,t){return t=Gi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Us(e,t,n,r){return r!==null&&uu(r),al(t,e.child,null,n),e=Su(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Iv(e,t,n,r,l,s,a){if(n)return t.flags&256?(t.flags&=-257,r=Pa(Error(M(422))),Us(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,l=t.mode,r=Gi({mode:"visible",children:r.children},l,0,null),s=Sr(s,l,a,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&al(t,e.child,null,a),t.child.memoizedState=_o(a),t.memoizedState=Eo,s);if(!(t.mode&1))return Us(e,t,a,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(M(419)),r=Pa(s,r,void 0),Us(e,t,a,r)}if(o=(a&e.childLanes)!==0,yt||o){if(r=Ye,r!==null){switch(a&-a){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|a)?0:l,l!==0&&l!==s.retryLane&&(s.retryLane=l,bn(e,l),qt(r,e,l,-1))}return Tu(),r=Pa(Error(M(421))),Us(e,t,a,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Xv.bind(null,e),l._reactRetry=t,null):(e=s.treeContext,bt=Zn(l.nextSibling),Pt=t,Te=!0,Yt=null,e!==null&&(Ot[It++]=Nn,Ot[It++]=Sn,Ot[It++]=Cr,Nn=e.id,Sn=e.overflow,Cr=t),t=Su(t,r.children),t.flags|=4096,t)}function Qc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),wo(e.return,t,n)}function La(e,t,n,r,l){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=l)}function Cp(e,t,n){var r=t.pendingProps,l=r.revealOrder,s=r.tail;if(ct(e,t,r.children,n),r=Le.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qc(e,n,t);else if(e.tag===19)Qc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Se(Le,r),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&ki(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),La(t,!1,l,n,s);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&ki(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}La(t,!0,n,null,s);break;case"together":La(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ri(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Tn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),_r|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(M(153));if(t.child!==null){for(e=t.child,n=rr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=rr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function zv(e,t,n){switch(t.tag){case 3:Sp(t),il();break;case 5:qf(t);break;case 1:jt(t.type)&&xi(t);break;case 4:hu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;Se(ji,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Se(Le,Le.current&1),t.flags|=128,null):n&t.child.childLanes?kp(e,t,n):(Se(Le,Le.current&1),e=Tn(e,t,n),e!==null?e.sibling:null);Se(Le,Le.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Cp(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Se(Le,Le.current),r)break;return null;case 22:case 23:return t.lanes=0,jp(e,t,n)}return Tn(e,t,n)}var Ep,bo,_p,bp;Ep=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};bo=function(){};_p=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,wr(on.current);var s=null;switch(n){case"input":l=Ya(e,l),r=Ya(e,r),s=[];break;case"select":l=Me({},l,{value:void 0}),r=Me({},r,{value:void 0}),s=[];break;case"textarea":l=Ja(e,l),r=Ja(e,r),s=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=vi)}eo(n,r);var a;n=null;for(c in l)if(!r.hasOwnProperty(c)&&l.hasOwnProperty(c)&&l[c]!=null)if(c==="style"){var o=l[c];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ql.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(o=l!=null?l[c]:void 0,r.hasOwnProperty(c)&&u!==o&&(u!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&o[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,o=o?o.__html:void 0,u!=null&&o!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ql.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&ke("scroll",e),s||o===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};bp=function(e,t,n,r){n!==r&&(t.flags|=4)};function Tl(e,t){if(!Te)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function it(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Av(e,t,n){var r=t.pendingProps;switch(ou(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(t),null;case 1:return jt(t.type)&&gi(),it(t),null;case 3:return r=t.stateNode,ol(),Ce(wt),Ce(ot),gu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(zs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Yt!==null&&(Oo(Yt),Yt=null))),bo(e,t),it(t),null;case 5:vu(t);var l=wr(us.current);if(n=t.type,e!==null&&t.stateNode!=null)_p(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(M(166));return it(t),null}if(e=wr(on.current),zs(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[sn]=t,r[as]=s,e=(t.mode&1)!==0,n){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(l=0;l<Ul.length;l++)ke(Ul[l],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":Zu(r,s),ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ke("invalid",r);break;case"textarea":tc(r,s),ke("invalid",r)}eo(n,s),l=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&Is(r.textContent,o,e),l=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Is(r.textContent,o,e),l=["children",""+o]):ql.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&ke("scroll",r)}switch(n){case"input":Ts(r),ec(r,s,!0);break;case"textarea":Ts(r),nc(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=vi)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=tf(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[sn]=t,e[as]=r,Ep(e,t,!1,!1),t.stateNode=e;e:{switch(a=to(n,r),n){case"dialog":ke("cancel",e),ke("close",e),l=r;break;case"iframe":case"object":case"embed":ke("load",e),l=r;break;case"video":case"audio":for(l=0;l<Ul.length;l++)ke(Ul[l],e);l=r;break;case"source":ke("error",e),l=r;break;case"img":case"image":case"link":ke("error",e),ke("load",e),l=r;break;case"details":ke("toggle",e),l=r;break;case"input":Zu(e,r),l=Ya(e,r),ke("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=Me({},r,{value:void 0}),ke("invalid",e);break;case"textarea":tc(e,r),l=Ja(e,r),ke("invalid",e);break;default:l=r}eo(n,l),o=l;for(s in o)if(o.hasOwnProperty(s)){var u=o[s];s==="style"?lf(e,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&nf(e,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Jl(e,u):typeof u=="number"&&Jl(e,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ql.hasOwnProperty(s)?u!=null&&s==="onScroll"&&ke("scroll",e):u!=null&&Ko(e,s,u,a))}switch(n){case"input":Ts(e),ec(e,r,!1);break;case"textarea":Ts(e),nc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+lr(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?qr(e,!!r.multiple,s,!1):r.defaultValue!=null&&qr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=vi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return it(t),null;case 6:if(e&&t.stateNode!=null)bp(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(M(166));if(n=wr(us.current),wr(on.current),zs(t)){if(r=t.stateNode,n=t.memoizedProps,r[sn]=t,(s=r.nodeValue!==n)&&(e=Pt,e!==null))switch(e.tag){case 3:Is(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Is(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[sn]=t,t.stateNode=r}return it(t),null;case 13:if(Ce(Le),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Te&&bt!==null&&t.mode&1&&!(t.flags&128))Hf(),il(),t.flags|=98560,s=!1;else if(s=zs(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(M(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(M(317));s[sn]=t}else il(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;it(t),s=!1}else Yt!==null&&(Oo(Yt),Yt=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Le.current&1?We===0&&(We=3):Tu())),t.updateQueue!==null&&(t.flags|=4),it(t),null);case 4:return ol(),bo(e,t),e===null&&ss(t.stateNode.containerInfo),it(t),null;case 10:return fu(t.type._context),it(t),null;case 17:return jt(t.type)&&gi(),it(t),null;case 19:if(Ce(Le),s=t.memoizedState,s===null)return it(t),null;if(r=(t.flags&128)!==0,a=s.rendering,a===null)if(r)Tl(s,!1);else{if(We!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=ki(e),a!==null){for(t.flags|=128,Tl(s,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Se(Le,Le.current&1|2),t.child}e=e.sibling}s.tail!==null&&Ae()>cl&&(t.flags|=128,r=!0,Tl(s,!1),t.lanes=4194304)}else{if(!r)if(e=ki(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Tl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Te)return it(t),null}else 2*Ae()-s.renderingStartTime>cl&&n!==1073741824&&(t.flags|=128,r=!0,Tl(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(n=s.last,n!==null?n.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ae(),t.sibling=null,n=Le.current,Se(Le,r?n&1|2:n&1),t):(it(t),null);case 22:case 23:return bu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Et&1073741824&&(it(t),t.subtreeFlags&6&&(t.flags|=8192)):it(t),null;case 24:return null;case 25:return null}throw Error(M(156,t.tag))}function Uv(e,t){switch(ou(t),t.tag){case 1:return jt(t.type)&&gi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ol(),Ce(wt),Ce(ot),gu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return vu(t),null;case 13:if(Ce(Le),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(M(340));il()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ce(Le),null;case 4:return ol(),null;case 10:return fu(t.type._context),null;case 22:case 23:return bu(),null;case 24:return null;default:return null}}var $s=!1,at=!1,$v=typeof WeakSet=="function"?WeakSet:Set,V=null;function Yr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ie(e,t,r)}else n.current=null}function To(e,t,n){try{n()}catch(r){Ie(e,t,r)}}var Wc=!1;function Bv(e,t){if(fo=pi,e=Mf(),iu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,u=-1,c=0,m=0,p=e,h=null;t:for(;;){for(var y;p!==n||l!==0&&p.nodeType!==3||(o=a+l),p!==s||r!==0&&p.nodeType!==3||(u=a+r),p.nodeType===3&&(a+=p.nodeValue.length),(y=p.firstChild)!==null;)h=p,p=y;for(;;){if(p===e)break t;if(h===n&&++c===l&&(o=a),h===s&&++m===r&&(u=a),(y=p.nextSibling)!==null)break;p=h,h=p.parentNode}p=y}n=o===-1||u===-1?null:{start:o,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(po={focusedElem:e,selectionRange:n},pi=!1,V=t;V!==null;)if(t=V,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,V=e;else for(;V!==null;){t=V;try{var N=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(N!==null){var k=N.memoizedProps,P=N.memoizedState,g=t.stateNode,d=g.getSnapshotBeforeUpdate(t.elementType===t.type?k:Ht(t.type,k),P);g.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(C){Ie(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,V=e;break}V=t.return}return N=Wc,Wc=!1,N}function Gl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var s=l.destroy;l.destroy=void 0,s!==void 0&&To(t,n,s)}l=l.next}while(l!==r)}}function Hi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Po(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Tp(e){var t=e.alternate;t!==null&&(e.alternate=null,Tp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[sn],delete t[as],delete t[vo],delete t[kv],delete t[Cv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Pp(e){return e.tag===5||e.tag===3||e.tag===4}function Hc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Pp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Lo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=vi));else if(r!==4&&(e=e.child,e!==null))for(Lo(e,t,n),e=e.sibling;e!==null;)Lo(e,t,n),e=e.sibling}function Ro(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ro(e,t,n),e=e.sibling;e!==null;)Ro(e,t,n),e=e.sibling}var Ze=null,Kt=!1;function $n(e,t,n){for(n=n.child;n!==null;)Lp(e,t,n),n=n.sibling}function Lp(e,t,n){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(zi,n)}catch{}switch(n.tag){case 5:at||Yr(n,t);case 6:var r=Ze,l=Kt;Ze=null,$n(e,t,n),Ze=r,Kt=l,Ze!==null&&(Kt?(e=Ze,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ze.removeChild(n.stateNode));break;case 18:Ze!==null&&(Kt?(e=Ze,n=n.stateNode,e.nodeType===8?ka(e.parentNode,n):e.nodeType===1&&ka(e,n),ns(e)):ka(Ze,n.stateNode));break;case 4:r=Ze,l=Kt,Ze=n.stateNode.containerInfo,Kt=!0,$n(e,t,n),Ze=r,Kt=l;break;case 0:case 11:case 14:case 15:if(!at&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var s=l,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&To(n,t,a),l=l.next}while(l!==r)}$n(e,t,n);break;case 1:if(!at&&(Yr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Ie(n,t,o)}$n(e,t,n);break;case 21:$n(e,t,n);break;case 22:n.mode&1?(at=(r=at)||n.memoizedState!==null,$n(e,t,n),at=r):$n(e,t,n);break;default:$n(e,t,n)}}function Kc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new $v),t.forEach(function(r){var l=qv.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function Wt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var s=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:Ze=o.stateNode,Kt=!1;break e;case 3:Ze=o.stateNode.containerInfo,Kt=!0;break e;case 4:Ze=o.stateNode.containerInfo,Kt=!0;break e}o=o.return}if(Ze===null)throw Error(M(160));Lp(s,a,l),Ze=null,Kt=!1;var u=l.alternate;u!==null&&(u.return=null),l.return=null}catch(c){Ie(l,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Rp(t,e),t=t.sibling}function Rp(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Wt(t,e),rn(e),r&4){try{Gl(3,e,e.return),Hi(3,e)}catch(k){Ie(e,e.return,k)}try{Gl(5,e,e.return)}catch(k){Ie(e,e.return,k)}}break;case 1:Wt(t,e),rn(e),r&512&&n!==null&&Yr(n,n.return);break;case 5:if(Wt(t,e),rn(e),r&512&&n!==null&&Yr(n,n.return),e.flags&32){var l=e.stateNode;try{Jl(l,"")}catch(k){Ie(e,e.return,k)}}if(r&4&&(l=e.stateNode,l!=null)){var s=e.memoizedProps,a=n!==null?n.memoizedProps:s,o=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&Zd(l,s),to(o,a);var c=to(o,s);for(a=0;a<u.length;a+=2){var m=u[a],p=u[a+1];m==="style"?lf(l,p):m==="dangerouslySetInnerHTML"?nf(l,p):m==="children"?Jl(l,p):Ko(l,m,p,c)}switch(o){case"input":Xa(l,s);break;case"textarea":ef(l,s);break;case"select":var h=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?qr(l,!!s.multiple,y,!1):h!==!!s.multiple&&(s.defaultValue!=null?qr(l,!!s.multiple,s.defaultValue,!0):qr(l,!!s.multiple,s.multiple?[]:"",!1))}l[as]=s}catch(k){Ie(e,e.return,k)}}break;case 6:if(Wt(t,e),rn(e),r&4){if(e.stateNode===null)throw Error(M(162));l=e.stateNode,s=e.memoizedProps;try{l.nodeValue=s}catch(k){Ie(e,e.return,k)}}break;case 3:if(Wt(t,e),rn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ns(t.containerInfo)}catch(k){Ie(e,e.return,k)}break;case 4:Wt(t,e),rn(e);break;case 13:Wt(t,e),rn(e),l=e.child,l.flags&8192&&(s=l.memoizedState!==null,l.stateNode.isHidden=s,!s||l.alternate!==null&&l.alternate.memoizedState!==null||(Eu=Ae())),r&4&&Kc(e);break;case 22:if(m=n!==null&&n.memoizedState!==null,e.mode&1?(at=(c=at)||m,Wt(t,e),at=c):Wt(t,e),rn(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!m&&e.mode&1)for(V=e,m=e.child;m!==null;){for(p=V=m;V!==null;){switch(h=V,y=h.child,h.tag){case 0:case 11:case 14:case 15:Gl(4,h,h.return);break;case 1:Yr(h,h.return);var N=h.stateNode;if(typeof N.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,N.props=t.memoizedProps,N.state=t.memoizedState,N.componentWillUnmount()}catch(k){Ie(r,n,k)}}break;case 5:Yr(h,h.return);break;case 22:if(h.memoizedState!==null){Yc(p);continue}}y!==null?(y.return=h,V=y):Yc(p)}m=m.sibling}e:for(m=null,p=e;;){if(p.tag===5){if(m===null){m=p;try{l=p.stateNode,c?(s=l.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=p.stateNode,u=p.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,o.style.display=rf("display",a))}catch(k){Ie(e,e.return,k)}}}else if(p.tag===6){if(m===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(k){Ie(e,e.return,k)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;m===p&&(m=null),p=p.return}m===p&&(m=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Wt(t,e),rn(e),r&4&&Kc(e);break;case 21:break;default:Wt(t,e),rn(e)}}function rn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Pp(n)){var r=n;break e}n=n.return}throw Error(M(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(Jl(l,""),r.flags&=-33);var s=Hc(e);Ro(e,s,l);break;case 3:case 4:var a=r.stateNode.containerInfo,o=Hc(e);Lo(e,o,a);break;default:throw Error(M(161))}}catch(u){Ie(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Vv(e,t,n){V=e,Mp(e)}function Mp(e,t,n){for(var r=(e.mode&1)!==0;V!==null;){var l=V,s=l.child;if(l.tag===22&&r){var a=l.memoizedState!==null||$s;if(!a){var o=l.alternate,u=o!==null&&o.memoizedState!==null||at;o=$s;var c=at;if($s=a,(at=u)&&!c)for(V=l;V!==null;)a=V,u=a.child,a.tag===22&&a.memoizedState!==null?Xc(l):u!==null?(u.return=a,V=u):Xc(l);for(;s!==null;)V=s,Mp(s),s=s.sibling;V=l,$s=o,at=c}Gc(e)}else l.subtreeFlags&8772&&s!==null?(s.return=l,V=s):Gc(e)}}function Gc(e){for(;V!==null;){var t=V;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:at||Hi(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!at)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:Ht(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Rc(t,s,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Rc(t,a,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var m=c.memoizedState;if(m!==null){var p=m.dehydrated;p!==null&&ns(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}at||t.flags&512&&Po(t)}catch(h){Ie(t,t.return,h)}}if(t===e){V=null;break}if(n=t.sibling,n!==null){n.return=t.return,V=n;break}V=t.return}}function Yc(e){for(;V!==null;){var t=V;if(t===e){V=null;break}var n=t.sibling;if(n!==null){n.return=t.return,V=n;break}V=t.return}}function Xc(e){for(;V!==null;){var t=V;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Hi(4,t)}catch(u){Ie(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(u){Ie(t,l,u)}}var s=t.return;try{Po(t)}catch(u){Ie(t,s,u)}break;case 5:var a=t.return;try{Po(t)}catch(u){Ie(t,a,u)}}}catch(u){Ie(t,t.return,u)}if(t===e){V=null;break}var o=t.sibling;if(o!==null){o.return=t.return,V=o;break}V=t.return}}var Qv=Math.ceil,_i=Ln.ReactCurrentDispatcher,ku=Ln.ReactCurrentOwner,At=Ln.ReactCurrentBatchConfig,ge=0,Ye=null,Be=null,et=0,Et=0,Xr=ar(0),We=0,ps=null,_r=0,Ki=0,Cu=0,Yl=null,xt=null,Eu=0,cl=1/0,yn=null,bi=!1,Mo=null,tr=null,Bs=!1,Gn=null,Ti=0,Xl=0,Do=null,li=-1,si=0;function dt(){return ge&6?Ae():li!==-1?li:li=Ae()}function nr(e){return e.mode&1?ge&2&&et!==0?et&-et:_v.transition!==null?(si===0&&(si=gf()),si):(e=je,e!==0||(e=window.event,e=e===void 0?16:kf(e.type)),e):1}function qt(e,t,n,r){if(50<Xl)throw Xl=0,Do=null,Error(M(185));gs(e,n,r),(!(ge&2)||e!==Ye)&&(e===Ye&&(!(ge&2)&&(Ki|=n),We===4&&Hn(e,et)),Nt(e,r),n===1&&ge===0&&!(t.mode&1)&&(cl=Ae()+500,Vi&&or()))}function Nt(e,t){var n=e.callbackNode;_h(e,t);var r=fi(e,e===Ye?et:0);if(r===0)n!==null&&sc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&sc(n),t===1)e.tag===0?Ev(qc.bind(null,e)):Vf(qc.bind(null,e)),Nv(function(){!(ge&6)&&or()}),n=null;else{switch(xf(r)){case 1:n=Jo;break;case 4:n=hf;break;case 16:n=di;break;case 536870912:n=vf;break;default:n=di}n=$p(n,Dp.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Dp(e,t){if(li=-1,si=0,ge&6)throw Error(M(327));var n=e.callbackNode;if(nl()&&e.callbackNode!==n)return null;var r=fi(e,e===Ye?et:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Pi(e,r);else{t=r;var l=ge;ge|=2;var s=Op();(Ye!==e||et!==t)&&(yn=null,cl=Ae()+500,Nr(e,t));do try{Kv();break}catch(o){Fp(e,o)}while(!0);du(),_i.current=s,ge=l,Be!==null?t=0:(Ye=null,et=0,t=We)}if(t!==0){if(t===2&&(l=io(e),l!==0&&(r=l,t=Fo(e,l))),t===1)throw n=ps,Nr(e,0),Hn(e,r),Nt(e,Ae()),n;if(t===6)Hn(e,r);else{if(l=e.current.alternate,!(r&30)&&!Wv(l)&&(t=Pi(e,r),t===2&&(s=io(e),s!==0&&(r=s,t=Fo(e,s))),t===1))throw n=ps,Nr(e,0),Hn(e,r),Nt(e,Ae()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(M(345));case 2:hr(e,xt,yn);break;case 3:if(Hn(e,r),(r&130023424)===r&&(t=Eu+500-Ae(),10<t)){if(fi(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){dt(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=ho(hr.bind(null,e,xt,yn),t);break}hr(e,xt,yn);break;case 4:if(Hn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var a=31-Xt(r);s=1<<a,a=t[a],a>l&&(l=a),r&=~s}if(r=l,r=Ae()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Qv(r/1960))-r,10<r){e.timeoutHandle=ho(hr.bind(null,e,xt,yn),r);break}hr(e,xt,yn);break;case 5:hr(e,xt,yn);break;default:throw Error(M(329))}}}return Nt(e,Ae()),e.callbackNode===n?Dp.bind(null,e):null}function Fo(e,t){var n=Yl;return e.current.memoizedState.isDehydrated&&(Nr(e,t).flags|=256),e=Pi(e,t),e!==2&&(t=xt,xt=n,t!==null&&Oo(t)),e}function Oo(e){xt===null?xt=e:xt.push.apply(xt,e)}function Wv(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],s=l.getSnapshot;l=l.value;try{if(!Jt(s(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Hn(e,t){for(t&=~Cu,t&=~Ki,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Xt(t),r=1<<n;e[n]=-1,t&=~r}}function qc(e){if(ge&6)throw Error(M(327));nl();var t=fi(e,0);if(!(t&1))return Nt(e,Ae()),null;var n=Pi(e,t);if(e.tag!==0&&n===2){var r=io(e);r!==0&&(t=r,n=Fo(e,r))}if(n===1)throw n=ps,Nr(e,0),Hn(e,t),Nt(e,Ae()),n;if(n===6)throw Error(M(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,hr(e,xt,yn),Nt(e,Ae()),null}function _u(e,t){var n=ge;ge|=1;try{return e(t)}finally{ge=n,ge===0&&(cl=Ae()+500,Vi&&or())}}function br(e){Gn!==null&&Gn.tag===0&&!(ge&6)&&nl();var t=ge;ge|=1;var n=At.transition,r=je;try{if(At.transition=null,je=1,e)return e()}finally{je=r,At.transition=n,ge=t,!(ge&6)&&or()}}function bu(){Et=Xr.current,Ce(Xr)}function Nr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,jv(n)),Be!==null)for(n=Be.return;n!==null;){var r=n;switch(ou(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&gi();break;case 3:ol(),Ce(wt),Ce(ot),gu();break;case 5:vu(r);break;case 4:ol();break;case 13:Ce(Le);break;case 19:Ce(Le);break;case 10:fu(r.type._context);break;case 22:case 23:bu()}n=n.return}if(Ye=e,Be=e=rr(e.current,null),et=Et=t,We=0,ps=null,Cu=Ki=_r=0,xt=Yl=null,yr!==null){for(t=0;t<yr.length;t++)if(n=yr[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=l,r.next=a}n.pending=r}yr=null}return e}function Fp(e,t){do{var n=Be;try{if(du(),ti.current=Ei,Ci){for(var r=Re.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}Ci=!1}if(Er=0,Ge=Qe=Re=null,Kl=!1,cs=0,ku.current=null,n===null||n.return===null){We=1,ps=t,Be=null;break}e:{var s=e,a=n.return,o=n,u=t;if(t=et,o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,m=o,p=m.tag;if(!(m.mode&1)&&(p===0||p===11||p===15)){var h=m.alternate;h?(m.updateQueue=h.updateQueue,m.memoizedState=h.memoizedState,m.lanes=h.lanes):(m.updateQueue=null,m.memoizedState=null)}var y=zc(a);if(y!==null){y.flags&=-257,Ac(y,a,o,s,t),y.mode&1&&Ic(s,c,t),t=y,u=c;var N=t.updateQueue;if(N===null){var k=new Set;k.add(u),t.updateQueue=k}else N.add(u);break e}else{if(!(t&1)){Ic(s,c,t),Tu();break e}u=Error(M(426))}}else if(Te&&o.mode&1){var P=zc(a);if(P!==null){!(P.flags&65536)&&(P.flags|=256),Ac(P,a,o,s,t),uu(ul(u,o));break e}}s=u=ul(u,o),We!==4&&(We=2),Yl===null?Yl=[s]:Yl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var g=xp(s,u,t);Lc(s,g);break e;case 1:o=u;var d=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof d.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(tr===null||!tr.has(v)))){s.flags|=65536,t&=-t,s.lanes|=t;var C=yp(s,o,t);Lc(s,C);break e}}s=s.return}while(s!==null)}zp(n)}catch(b){t=b,Be===n&&n!==null&&(Be=n=n.return);continue}break}while(!0)}function Op(){var e=_i.current;return _i.current=Ei,e===null?Ei:e}function Tu(){(We===0||We===3||We===2)&&(We=4),Ye===null||!(_r&268435455)&&!(Ki&268435455)||Hn(Ye,et)}function Pi(e,t){var n=ge;ge|=2;var r=Op();(Ye!==e||et!==t)&&(yn=null,Nr(e,t));do try{Hv();break}catch(l){Fp(e,l)}while(!0);if(du(),ge=n,_i.current=r,Be!==null)throw Error(M(261));return Ye=null,et=0,We}function Hv(){for(;Be!==null;)Ip(Be)}function Kv(){for(;Be!==null&&!xh();)Ip(Be)}function Ip(e){var t=Up(e.alternate,e,Et);e.memoizedProps=e.pendingProps,t===null?zp(e):Be=t,ku.current=null}function zp(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Uv(n,t),n!==null){n.flags&=32767,Be=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{We=6,Be=null;return}}else if(n=Av(n,t,Et),n!==null){Be=n;return}if(t=t.sibling,t!==null){Be=t;return}Be=t=e}while(t!==null);We===0&&(We=5)}function hr(e,t,n){var r=je,l=At.transition;try{At.transition=null,je=1,Gv(e,t,n,r)}finally{At.transition=l,je=r}return null}function Gv(e,t,n,r){do nl();while(Gn!==null);if(ge&6)throw Error(M(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(M(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(bh(e,s),e===Ye&&(Be=Ye=null,et=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Bs||(Bs=!0,$p(di,function(){return nl(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=At.transition,At.transition=null;var a=je;je=1;var o=ge;ge|=4,ku.current=null,Bv(e,n),Rp(n,e),mv(po),pi=!!fo,po=fo=null,e.current=n,Vv(n),yh(),ge=o,je=a,At.transition=s}else e.current=n;if(Bs&&(Bs=!1,Gn=e,Ti=l),s=e.pendingLanes,s===0&&(tr=null),Nh(n.stateNode),Nt(e,Ae()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(bi)throw bi=!1,e=Mo,Mo=null,e;return Ti&1&&e.tag!==0&&nl(),s=e.pendingLanes,s&1?e===Do?Xl++:(Xl=0,Do=e):Xl=0,or(),null}function nl(){if(Gn!==null){var e=xf(Ti),t=At.transition,n=je;try{if(At.transition=null,je=16>e?16:e,Gn===null)var r=!1;else{if(e=Gn,Gn=null,Ti=0,ge&6)throw Error(M(331));var l=ge;for(ge|=4,V=e.current;V!==null;){var s=V,a=s.child;if(V.flags&16){var o=s.deletions;if(o!==null){for(var u=0;u<o.length;u++){var c=o[u];for(V=c;V!==null;){var m=V;switch(m.tag){case 0:case 11:case 15:Gl(8,m,s)}var p=m.child;if(p!==null)p.return=m,V=p;else for(;V!==null;){m=V;var h=m.sibling,y=m.return;if(Tp(m),m===c){V=null;break}if(h!==null){h.return=y,V=h;break}V=y}}}var N=s.alternate;if(N!==null){var k=N.child;if(k!==null){N.child=null;do{var P=k.sibling;k.sibling=null,k=P}while(k!==null)}}V=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,V=a;else e:for(;V!==null;){if(s=V,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Gl(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,V=g;break e}V=s.return}}var d=e.current;for(V=d;V!==null;){a=V;var v=a.child;if(a.subtreeFlags&2064&&v!==null)v.return=a,V=v;else e:for(a=d;V!==null;){if(o=V,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Hi(9,o)}}catch(b){Ie(o,o.return,b)}if(o===a){V=null;break e}var C=o.sibling;if(C!==null){C.return=o.return,V=C;break e}V=o.return}}if(ge=l,or(),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(zi,e)}catch{}r=!0}return r}finally{je=n,At.transition=t}}return!1}function Jc(e,t,n){t=ul(n,t),t=xp(e,t,1),e=er(e,t,1),t=dt(),e!==null&&(gs(e,1,t),Nt(e,t))}function Ie(e,t,n){if(e.tag===3)Jc(e,e,n);else for(;t!==null;){if(t.tag===3){Jc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(tr===null||!tr.has(r))){e=ul(n,e),e=yp(t,e,1),t=er(t,e,1),e=dt(),t!==null&&(gs(t,1,e),Nt(t,e));break}}t=t.return}}function Yv(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=dt(),e.pingedLanes|=e.suspendedLanes&n,Ye===e&&(et&n)===n&&(We===4||We===3&&(et&130023424)===et&&500>Ae()-Eu?Nr(e,0):Cu|=n),Nt(e,t)}function Ap(e,t){t===0&&(e.mode&1?(t=Rs,Rs<<=1,!(Rs&130023424)&&(Rs=4194304)):t=1);var n=dt();e=bn(e,t),e!==null&&(gs(e,t,n),Nt(e,n))}function Xv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ap(e,n)}function qv(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(M(314))}r!==null&&r.delete(t),Ap(e,n)}var Up;Up=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||wt.current)yt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return yt=!1,zv(e,t,n);yt=!!(e.flags&131072)}else yt=!1,Te&&t.flags&1048576&&Qf(t,wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ri(e,t),e=t.pendingProps;var l=sl(t,ot.current);tl(t,n),l=yu(null,t,r,e,l,n);var s=wu();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,jt(r)?(s=!0,xi(t)):s=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,mu(t),l.updater=Wi,t.stateNode=l,l._reactInternals=t,No(t,r,e,n),t=Co(null,t,r,!0,s,n)):(t.tag=0,Te&&s&&au(t),ct(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ri(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=Zv(r),e=Ht(r,e),l){case 0:t=ko(null,t,r,e,n);break e;case 1:t=Bc(null,t,r,e,n);break e;case 11:t=Uc(null,t,r,e,n);break e;case 14:t=$c(null,t,r,Ht(r.type,e),n);break e}throw Error(M(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Ht(r,l),ko(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Ht(r,l),Bc(e,t,r,l,n);case 3:e:{if(Sp(t),e===null)throw Error(M(387));r=t.pendingProps,s=t.memoizedState,l=s.element,Xf(e,t),Si(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){l=ul(Error(M(423)),t),t=Vc(e,t,r,n,l);break e}else if(r!==l){l=ul(Error(M(424)),t),t=Vc(e,t,r,n,l);break e}else for(bt=Zn(t.stateNode.containerInfo.firstChild),Pt=t,Te=!0,Yt=null,n=Gf(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(il(),r===l){t=Tn(e,t,n);break e}ct(e,t,r,n)}t=t.child}return t;case 5:return qf(t),e===null&&yo(t),r=t.type,l=t.pendingProps,s=e!==null?e.memoizedProps:null,a=l.children,mo(r,l)?a=null:s!==null&&mo(r,s)&&(t.flags|=32),Np(e,t),ct(e,t,a,n),t.child;case 6:return e===null&&yo(t),null;case 13:return kp(e,t,n);case 4:return hu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=al(t,null,r,n):ct(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Ht(r,l),Uc(e,t,r,l,n);case 7:return ct(e,t,t.pendingProps,n),t.child;case 8:return ct(e,t,t.pendingProps.children,n),t.child;case 12:return ct(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,s=t.memoizedProps,a=l.value,Se(ji,r._currentValue),r._currentValue=a,s!==null)if(Jt(s.value,a)){if(s.children===l.children&&!wt.current){t=Tn(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var u=o.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=kn(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var m=c.pending;m===null?u.next=u:(u.next=m.next,m.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),wo(s.return,n,t),o.lanes|=n;break}u=u.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(M(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),wo(a,n,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}ct(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,tl(t,n),l=Ut(l),r=r(l),t.flags|=1,ct(e,t,r,n),t.child;case 14:return r=t.type,l=Ht(r,t.pendingProps),l=Ht(r.type,l),$c(e,t,r,l,n);case 15:return wp(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Ht(r,l),ri(e,t),t.tag=1,jt(r)?(e=!0,xi(t)):e=!1,tl(t,n),gp(t,r,l),No(t,r,l,n),Co(null,t,r,!0,e,n);case 19:return Cp(e,t,n);case 22:return jp(e,t,n)}throw Error(M(156,t.tag))};function $p(e,t){return mf(e,t)}function Jv(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zt(e,t,n,r){return new Jv(e,t,n,r)}function Pu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zv(e){if(typeof e=="function")return Pu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Yo)return 11;if(e===Xo)return 14}return 2}function rr(e,t){var n=e.alternate;return n===null?(n=zt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ii(e,t,n,r,l,s){var a=2;if(r=e,typeof e=="function")Pu(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Ur:return Sr(n.children,l,s,t);case Go:a=8,l|=8;break;case Wa:return e=zt(12,n,t,l|2),e.elementType=Wa,e.lanes=s,e;case Ha:return e=zt(13,n,t,l),e.elementType=Ha,e.lanes=s,e;case Ka:return e=zt(19,n,t,l),e.elementType=Ka,e.lanes=s,e;case Xd:return Gi(n,l,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Gd:a=10;break e;case Yd:a=9;break e;case Yo:a=11;break e;case Xo:a=14;break e;case Vn:a=16,r=null;break e}throw Error(M(130,e==null?e:typeof e,""))}return t=zt(a,n,t,l),t.elementType=e,t.type=r,t.lanes=s,t}function Sr(e,t,n,r){return e=zt(7,e,r,t),e.lanes=n,e}function Gi(e,t,n,r){return e=zt(22,e,r,t),e.elementType=Xd,e.lanes=n,e.stateNode={isHidden:!1},e}function Ra(e,t,n){return e=zt(6,e,null,t),e.lanes=n,e}function Ma(e,t,n){return t=zt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function eg(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pa(0),this.expirationTimes=pa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pa(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Lu(e,t,n,r,l,s,a,o,u){return e=new eg(e,t,n,o,u),t===1?(t=1,s===!0&&(t|=8)):t=0,s=zt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},mu(s),e}function tg(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ar,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Bp(e){if(!e)return sr;e=e._reactInternals;e:{if(Lr(e)!==e||e.tag!==1)throw Error(M(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(jt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(M(171))}if(e.tag===1){var n=e.type;if(jt(n))return Bf(e,n,t)}return t}function Vp(e,t,n,r,l,s,a,o,u){return e=Lu(n,r,!0,e,l,s,a,o,u),e.context=Bp(null),n=e.current,r=dt(),l=nr(n),s=kn(r,l),s.callback=t??null,er(n,s,l),e.current.lanes=l,gs(e,l,r),Nt(e,r),e}function Yi(e,t,n,r){var l=t.current,s=dt(),a=nr(l);return n=Bp(n),t.context===null?t.context=n:t.pendingContext=n,t=kn(s,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=er(l,t,a),e!==null&&(qt(e,l,a,s),ei(e,l,a)),a}function Li(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Zc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ru(e,t){Zc(e,t),(e=e.alternate)&&Zc(e,t)}function ng(){return null}var Qp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Mu(e){this._internalRoot=e}Xi.prototype.render=Mu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(M(409));Yi(e,t,null,null)};Xi.prototype.unmount=Mu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;br(function(){Yi(null,e,null,null)}),t[_n]=null}};function Xi(e){this._internalRoot=e}Xi.prototype.unstable_scheduleHydration=function(e){if(e){var t=jf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Wn.length&&t!==0&&t<Wn[n].priority;n++);Wn.splice(n,0,e),n===0&&Sf(e)}};function Du(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function qi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ed(){}function rg(e,t,n,r,l){if(l){if(typeof r=="function"){var s=r;r=function(){var c=Li(a);s.call(c)}}var a=Vp(t,r,e,0,null,!1,!1,"",ed);return e._reactRootContainer=a,e[_n]=a.current,ss(e.nodeType===8?e.parentNode:e),br(),a}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var o=r;r=function(){var c=Li(u);o.call(c)}}var u=Lu(e,0,!1,null,null,!1,!1,"",ed);return e._reactRootContainer=u,e[_n]=u.current,ss(e.nodeType===8?e.parentNode:e),br(function(){Yi(t,u,n,r)}),u}function Ji(e,t,n,r,l){var s=n._reactRootContainer;if(s){var a=s;if(typeof l=="function"){var o=l;l=function(){var u=Li(a);o.call(u)}}Yi(t,a,e,l)}else a=rg(n,t,e,l,r);return Li(a)}yf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Al(t.pendingLanes);n!==0&&(Zo(t,n|1),Nt(t,Ae()),!(ge&6)&&(cl=Ae()+500,or()))}break;case 13:br(function(){var r=bn(e,1);if(r!==null){var l=dt();qt(r,e,1,l)}}),Ru(e,1)}};eu=function(e){if(e.tag===13){var t=bn(e,134217728);if(t!==null){var n=dt();qt(t,e,134217728,n)}Ru(e,134217728)}};wf=function(e){if(e.tag===13){var t=nr(e),n=bn(e,t);if(n!==null){var r=dt();qt(n,e,t,r)}Ru(e,t)}};jf=function(){return je};Nf=function(e,t){var n=je;try{return je=e,t()}finally{je=n}};ro=function(e,t,n){switch(t){case"input":if(Xa(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=Bi(r);if(!l)throw Error(M(90));Jd(r),Xa(r,l)}}}break;case"textarea":ef(e,n);break;case"select":t=n.value,t!=null&&qr(e,!!n.multiple,t,!1)}};of=_u;uf=br;var lg={usingClientEntryPoint:!1,Events:[ys,Qr,Bi,sf,af,_u]},Pl={findFiberByHostInstance:xr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sg={bundleType:Pl.bundleType,version:Pl.version,rendererPackageName:Pl.rendererPackageName,rendererConfig:Pl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ln.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ff(e),e===null?null:e.stateNode},findFiberByHostInstance:Pl.findFiberByHostInstance||ng,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vs.isDisabled&&Vs.supportsFiber)try{zi=Vs.inject(sg),an=Vs}catch{}}Rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lg;Rt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Du(t))throw Error(M(200));return tg(e,t,null,n)};Rt.createRoot=function(e,t){if(!Du(e))throw Error(M(299));var n=!1,r="",l=Qp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Lu(e,1,!1,null,null,n,!1,r,l),e[_n]=t.current,ss(e.nodeType===8?e.parentNode:e),new Mu(t)};Rt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(M(188)):(e=Object.keys(e).join(","),Error(M(268,e)));return e=ff(t),e=e===null?null:e.stateNode,e};Rt.flushSync=function(e){return br(e)};Rt.hydrate=function(e,t,n){if(!qi(t))throw Error(M(200));return Ji(null,e,t,!0,n)};Rt.hydrateRoot=function(e,t,n){if(!Du(e))throw Error(M(405));var r=n!=null&&n.hydratedSources||null,l=!1,s="",a=Qp;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=Vp(t,null,e,1,n??null,l,!1,s,a),e[_n]=t.current,ss(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Xi(t)};Rt.render=function(e,t,n){if(!qi(t))throw Error(M(200));return Ji(null,e,t,!1,n)};Rt.unmountComponentAtNode=function(e){if(!qi(e))throw Error(M(40));return e._reactRootContainer?(br(function(){Ji(null,null,e,!1,function(){e._reactRootContainer=null,e[_n]=null})}),!0):!1};Rt.unstable_batchedUpdates=_u;Rt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!qi(n))throw Error(M(200));if(e==null||e._reactInternals===void 0)throw Error(M(38));return Ji(e,t,n,!1,r)};Rt.version="18.3.1-next-f1338f8080-20240426";function Wp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Wp)}catch(e){console.error(e)}}Wp(),Qd.exports=Rt;var Fu=Qd.exports;const ig=Ld(Fu),ag=Pd({__proto__:null,default:ig},[Fu]);var Hp,td=Fu;Hp=td.createRoot,td.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function be(){return be=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},be.apply(this,arguments)}var $e;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})($e||($e={}));const nd="popstate";function og(e){e===void 0&&(e={});function t(r,l){let{pathname:s,search:a,hash:o}=r.location;return ms("",{pathname:s,search:a,hash:o},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(r,l){return typeof l=="string"?l:Tr(l)}return cg(t,n,null,e)}function ie(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function dl(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ug(){return Math.random().toString(36).substr(2,8)}function rd(e,t){return{usr:e.state,key:e.key,idx:t}}function ms(e,t,n,r){return n===void 0&&(n=null),be({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ur(t):t,{state:n,key:t&&t.key||r||ug()})}function Tr(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ur(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function cg(e,t,n,r){r===void 0&&(r={});let{window:l=document.defaultView,v5Compat:s=!1}=r,a=l.history,o=$e.Pop,u=null,c=m();c==null&&(c=0,a.replaceState(be({},a.state,{idx:c}),""));function m(){return(a.state||{idx:null}).idx}function p(){o=$e.Pop;let P=m(),g=P==null?null:P-c;c=P,u&&u({action:o,location:k.location,delta:g})}function h(P,g){o=$e.Push;let d=ms(k.location,P,g);c=m()+1;let v=rd(d,c),C=k.createHref(d);try{a.pushState(v,"",C)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;l.location.assign(C)}s&&u&&u({action:o,location:k.location,delta:1})}function y(P,g){o=$e.Replace;let d=ms(k.location,P,g);c=m();let v=rd(d,c),C=k.createHref(d);a.replaceState(v,"",C),s&&u&&u({action:o,location:k.location,delta:0})}function N(P){let g=l.location.origin!=="null"?l.location.origin:l.location.href,d=typeof P=="string"?P:Tr(P);return d=d.replace(/ $/,"%20"),ie(g,"No window.location.(origin|href) available to create URL for href: "+d),new URL(d,g)}let k={get action(){return o},get location(){return e(l,a)},listen(P){if(u)throw new Error("A history only accepts one active listener");return l.addEventListener(nd,p),u=P,()=>{l.removeEventListener(nd,p),u=null}},createHref(P){return t(l,P)},createURL:N,encodeLocation(P){let g=N(P);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:y,go(P){return a.go(P)}};return k}var we;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(we||(we={}));const dg=new Set(["lazy","caseSensitive","path","id","index","children"]);function fg(e){return e.index===!0}function Ri(e,t,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),e.map((l,s)=>{let a=[...n,String(s)],o=typeof l.id=="string"?l.id:a.join("-");if(ie(l.index!==!0||!l.children,"Cannot specify children on an index route"),ie(!r[o],'Found a route id collision on id "'+o+`".  Route id's must be globally unique within Data Router usages`),fg(l)){let u=be({},l,t(l),{id:o});return r[o]=u,u}else{let u=be({},l,t(l),{id:o,children:void 0});return r[o]=u,l.children&&(u.children=Ri(l.children,t,a,r)),u}})}function vr(e,t,n){return n===void 0&&(n="/"),ai(e,t,n,!1)}function ai(e,t,n,r){let l=typeof t=="string"?ur(t):t,s=Pn(l.pathname||"/",n);if(s==null)return null;let a=Kp(e);mg(a);let o=null;for(let u=0;o==null&&u<a.length;++u){let c=Cg(s);o=Sg(a[u],c,r)}return o}function pg(e,t){let{route:n,pathname:r,params:l}=e;return{id:n.id,pathname:r,params:l,data:t[n.id],handle:n.handle}}function Kp(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let l=(s,a,o)=>{let u={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};u.relativePath.startsWith("/")&&(ie(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=Cn([r,u.relativePath]),m=n.concat(u);s.children&&s.children.length>0&&(ie(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Kp(s.children,t,m,c)),!(s.path==null&&!s.index)&&t.push({path:c,score:jg(c,s.index),routesMeta:m})};return e.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))l(s,a);else for(let u of Gp(s.path))l(s,a,u)}),t}function Gp(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,l=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return l?[s,""]:[s];let a=Gp(r.join("/")),o=[];return o.push(...a.map(u=>u===""?s:[s,u].join("/"))),l&&o.push(...a),o.map(u=>e.startsWith("/")&&u===""?"/":u)}function mg(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Ng(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const hg=/^:[\w-]+$/,vg=3,gg=2,xg=1,yg=10,wg=-2,ld=e=>e==="*";function jg(e,t){let n=e.split("/"),r=n.length;return n.some(ld)&&(r+=wg),t&&(r+=gg),n.filter(l=>!ld(l)).reduce((l,s)=>l+(hg.test(s)?vg:s===""?xg:yg),r)}function Ng(e,t){return e.length===t.length&&e.slice(0,-1).every((r,l)=>r===t[l])?e[e.length-1]-t[t.length-1]:0}function Sg(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,l={},s="/",a=[];for(let o=0;o<r.length;++o){let u=r[o],c=o===r.length-1,m=s==="/"?t:t.slice(s.length)||"/",p=Mi({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},m),h=u.route;if(!p&&c&&n&&!r[r.length-1].route.index&&(p=Mi({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},m)),!p)return null;Object.assign(l,p.params),a.push({params:l,pathname:Cn([s,p.pathname]),pathnameBase:bg(Cn([s,p.pathnameBase])),route:h}),p.pathnameBase!=="/"&&(s=Cn([s,p.pathnameBase]))}return a}function Mi(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=kg(e.path,e.caseSensitive,e.end),l=t.match(n);if(!l)return null;let s=l[0],a=s.replace(/(.)\/+$/,"$1"),o=l.slice(1);return{params:r.reduce((c,m,p)=>{let{paramName:h,isOptional:y}=m;if(h==="*"){let k=o[p]||"";a=s.slice(0,s.length-k.length).replace(/(.)\/+$/,"$1")}const N=o[p];return y&&!N?c[h]=void 0:c[h]=(N||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:e}}function kg(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),dl(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,u)=>(r.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),r]}function Cg(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return dl(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Pn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Eg(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:l=""}=typeof e=="string"?ur(e):e;return{pathname:n?n.startsWith("/")?n:_g(n,t):t,search:Tg(r),hash:Pg(l)}}function _g(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function Da(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Yp(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Zi(e,t){let n=Yp(e);return t?n.map((r,l)=>l===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function ea(e,t,n,r){r===void 0&&(r=!1);let l;typeof e=="string"?l=ur(e):(l=be({},e),ie(!l.pathname||!l.pathname.includes("?"),Da("?","pathname","search",l)),ie(!l.pathname||!l.pathname.includes("#"),Da("#","pathname","hash",l)),ie(!l.search||!l.search.includes("#"),Da("#","search","hash",l)));let s=e===""||l.pathname==="",a=s?"/":l.pathname,o;if(a==null)o=n;else{let p=t.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),p-=1;l.pathname=h.join("/")}o=p>=0?t[p]:"/"}let u=Eg(l,o),c=a&&a!=="/"&&a.endsWith("/"),m=(s||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||m)&&(u.pathname+="/"),u}const Cn=e=>e.join("/").replace(/\/\/+/g,"/"),bg=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Tg=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Pg=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class Di{constructor(t,n,r,l){l===void 0&&(l=!1),this.status=t,this.statusText=n||"",this.internal=l,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function hs(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Xp=["post","put","patch","delete"],Lg=new Set(Xp),Rg=["get",...Xp],Mg=new Set(Rg),Dg=new Set([301,302,303,307,308]),Fg=new Set([307,308]),Fa={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Og={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ll={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Ou=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ig=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),qp="remix-router-transitions";function zg(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",r=!n;ie(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let l;if(e.mapRouteProperties)l=e.mapRouteProperties;else if(e.detectErrorBoundary){let x=e.detectErrorBoundary;l=S=>({hasErrorBoundary:x(S)})}else l=Ig;let s={},a=Ri(e.routes,l,void 0,s),o,u=e.basename||"/",c=e.dataStrategy||Bg,m=e.patchRoutesOnNavigation,p=be({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},e.future),h=null,y=new Set,N=null,k=null,P=null,g=e.hydrationData!=null,d=vr(a,e.history.location,u),v=!1,C=null;if(d==null&&!m){let x=gt(404,{pathname:e.history.location.pathname}),{matches:S,route:E}=hd(a);d=S,C={[E.id]:x}}d&&!e.hydrationData&&hn(d,a,e.history.location.pathname).active&&(d=null);let b;if(d)if(d.some(x=>x.route.lazy))b=!1;else if(!d.some(x=>x.route.loader))b=!0;else if(p.v7_partialHydration){let x=e.hydrationData?e.hydrationData.loaderData:null,S=e.hydrationData?e.hydrationData.errors:null;if(S){let E=d.findIndex(T=>S[T.route.id]!==void 0);b=d.slice(0,E+1).every(T=>!zo(T.route,x,S))}else b=d.every(E=>!zo(E.route,x,S))}else b=e.hydrationData!=null;else if(b=!1,d=[],p.v7_partialHydration){let x=hn(null,a,e.history.location.pathname);x.active&&x.matches&&(v=!0,d=x.matches)}let D,w={historyAction:e.history.action,location:e.history.location,matches:d,initialized:b,navigation:Fa,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||C,fetchers:new Map,blockers:new Map},_=$e.Pop,B=!1,F,J=!1,oe=new Map,K=null,G=!1,ae=!1,se=[],fe=new Set,R=new Map,z=0,U=-1,le=new Map,Y=new Set,ue=new Map,Ne=new Map,q=new Set,pe=new Map,Ue=new Map,Z;function xe(){if(h=e.history.listen(x=>{let{action:S,location:E,delta:T}=x;if(Z){Z(),Z=void 0;return}dl(Ue.size===0||T!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let I=Ns({currentLocation:w.location,nextLocation:E,historyAction:S});if(I&&T!=null){let X=new Promise(te=>{Z=te});e.history.go(T*-1),pn(I,{state:"blocked",location:E,proceed(){pn(I,{state:"proceeding",proceed:void 0,reset:void 0,location:E}),X.then(()=>e.history.go(T))},reset(){let te=new Map(w.blockers);te.set(I,Ll),ye({blockers:te})}});return}return Ve(S,E)}),n){nx(t,oe);let x=()=>rx(t,oe);t.addEventListener("pagehide",x),K=()=>t.removeEventListener("pagehide",x)}return w.initialized||Ve($e.Pop,w.location,{initialHydration:!0}),D}function Xe(){h&&h(),K&&K(),y.clear(),F&&F.abort(),w.fetchers.forEach((x,S)=>A(S)),w.blockers.forEach((x,S)=>xl(S))}function ut(x){return y.add(x),()=>y.delete(x)}function ye(x,S){S===void 0&&(S={}),w=be({},w,x);let E=[],T=[];p.v7_fetcherPersist&&w.fetchers.forEach((I,X)=>{I.state==="idle"&&(q.has(X)?T.push(X):E.push(X))}),q.forEach(I=>{!w.fetchers.has(I)&&!R.has(I)&&T.push(I)}),[...y].forEach(I=>I(w,{deletedFetchers:T,viewTransitionOpts:S.viewTransitionOpts,flushSync:S.flushSync===!0})),p.v7_fetcherPersist?(E.forEach(I=>w.fetchers.delete(I)),T.forEach(I=>A(I))):T.forEach(I=>q.delete(I))}function He(x,S,E){var T,I;let{flushSync:X}=E===void 0?{}:E,te=w.actionData!=null&&w.navigation.formMethod!=null&&Gt(w.navigation.formMethod)&&w.navigation.state==="loading"&&((T=x.state)==null?void 0:T._isRedirect)!==!0,Q;S.actionData?Object.keys(S.actionData).length>0?Q=S.actionData:Q=null:te?Q=w.actionData:Q=null;let W=S.loaderData?pd(w.loaderData,S.loaderData,S.matches||[],S.errors):w.loaderData,$=w.blockers;$.size>0&&($=new Map($),$.forEach((re,Fe)=>$.set(Fe,Ll)));let H=B===!0||w.navigation.formMethod!=null&&Gt(w.navigation.formMethod)&&((I=x.state)==null?void 0:I._isRedirect)!==!0;o&&(a=o,o=void 0),G||_===$e.Pop||(_===$e.Push?e.history.push(x,x.state):_===$e.Replace&&e.history.replace(x,x.state));let ne;if(_===$e.Pop){let re=oe.get(w.location.pathname);re&&re.has(x.pathname)?ne={currentLocation:w.location,nextLocation:x}:oe.has(x.pathname)&&(ne={currentLocation:x,nextLocation:w.location})}else if(J){let re=oe.get(w.location.pathname);re?re.add(x.pathname):(re=new Set([x.pathname]),oe.set(w.location.pathname,re)),ne={currentLocation:w.location,nextLocation:x}}ye(be({},S,{actionData:Q,loaderData:W,historyAction:_,location:x,initialized:!0,navigation:Fa,revalidation:"idle",restoreScrollPosition:Fn(x,S.matches||w.matches),preventScrollReset:H,blockers:$}),{viewTransitionOpts:ne,flushSync:X===!0}),_=$e.Pop,B=!1,J=!1,G=!1,ae=!1,se=[]}async function dn(x,S){if(typeof x=="number"){e.history.go(x);return}let E=Io(w.location,w.matches,u,p.v7_prependBasename,x,p.v7_relativeSplatPath,S==null?void 0:S.fromRouteId,S==null?void 0:S.relative),{path:T,submission:I,error:X}=sd(p.v7_normalizeFormMethod,!1,E,S),te=w.location,Q=ms(w.location,T,S&&S.state);Q=be({},Q,e.history.encodeLocation(Q));let W=S&&S.replace!=null?S.replace:void 0,$=$e.Push;W===!0?$=$e.Replace:W===!1||I!=null&&Gt(I.formMethod)&&I.formAction===w.location.pathname+w.location.search&&($=$e.Replace);let H=S&&"preventScrollReset"in S?S.preventScrollReset===!0:void 0,ne=(S&&S.flushSync)===!0,re=Ns({currentLocation:te,nextLocation:Q,historyAction:$});if(re){pn(re,{state:"blocked",location:Q,proceed(){pn(re,{state:"proceeding",proceed:void 0,reset:void 0,location:Q}),dn(x,S)},reset(){let Fe=new Map(w.blockers);Fe.set(re,Ll),ye({blockers:Fe})}});return}return await Ve($,Q,{submission:I,pendingError:X,preventScrollReset:H,replace:S&&S.replace,enableViewTransition:S&&S.viewTransition,flushSync:ne})}function kt(){if(Dn(),ye({revalidation:"loading"}),w.navigation.state!=="submitting"){if(w.navigation.state==="idle"){Ve(w.historyAction,w.location,{startUninterruptedRevalidation:!0});return}Ve(_||w.historyAction,w.navigation.location,{overrideNavigation:w.navigation,enableViewTransition:J===!0})}}async function Ve(x,S,E){F&&F.abort(),F=null,_=x,G=(E&&E.startUninterruptedRevalidation)===!0,ks(w.location,w.matches),B=(E&&E.preventScrollReset)===!0,J=(E&&E.enableViewTransition)===!0;let T=o||a,I=E&&E.overrideNavigation,X=E!=null&&E.initialHydration&&w.matches&&w.matches.length>0&&!v?w.matches:vr(T,S,u),te=(E&&E.flushSync)===!0;if(X&&w.initialized&&!ae&&Gg(w.location,S)&&!(E&&E.submission&&Gt(E.submission.formMethod))){He(S,{matches:X},{flushSync:te});return}let Q=hn(X,T,S.pathname);if(Q.active&&Q.matches&&(X=Q.matches),!X){let{error:he,notFoundMatches:de,route:Ee}=dr(S.pathname);He(S,{matches:de,loaderData:{},errors:{[Ee.id]:he}},{flushSync:te});return}F=new AbortController;let W=zr(e.history,S,F.signal,E&&E.submission),$;if(E&&E.pendingError)$=[gr(X).route.id,{type:we.error,error:E.pendingError}];else if(E&&E.submission&&Gt(E.submission.formMethod)){let he=await Zt(W,S,E.submission,X,Q.active,{replace:E.replace,flushSync:te});if(he.shortCircuited)return;if(he.pendingActionResult){let[de,Ee]=he.pendingActionResult;if(_t(Ee)&&hs(Ee.error)&&Ee.error.status===404){F=null,He(S,{matches:he.matches,loaderData:{},errors:{[de]:Ee.error}});return}}X=he.matches||X,$=he.pendingActionResult,I=Oa(S,E.submission),te=!1,Q.active=!1,W=zr(e.history,W.url,W.signal)}let{shortCircuited:H,matches:ne,loaderData:re,errors:Fe}=await en(W,S,X,Q.active,I,E&&E.submission,E&&E.fetcherSubmission,E&&E.replace,E&&E.initialHydration===!0,te,$);H||(F=null,He(S,be({matches:ne||X},md($),{loaderData:re,errors:Fe})))}async function Zt(x,S,E,T,I,X){X===void 0&&(X={}),Dn();let te=ex(S,E);if(ye({navigation:te},{flushSync:X.flushSync===!0}),I){let $=await On(T,S.pathname,x.signal);if($.type==="aborted")return{shortCircuited:!0};if($.type==="error"){let H=gr($.partialMatches).route.id;return{matches:$.partialMatches,pendingActionResult:[H,{type:we.error,error:$.error}]}}else if($.matches)T=$.matches;else{let{notFoundMatches:H,error:ne,route:re}=dr(S.pathname);return{matches:H,pendingActionResult:[re.id,{type:we.error,error:ne}]}}}let Q,W=$l(T,S);if(!W.route.action&&!W.route.lazy)Q={type:we.error,error:gt(405,{method:x.method,pathname:S.pathname,routeId:W.route.id})};else if(Q=(await Bt("action",w,x,[W],T,null))[W.route.id],x.signal.aborted)return{shortCircuited:!0};if(jr(Q)){let $;return X&&X.replace!=null?$=X.replace:$=cd(Q.response.headers.get("Location"),new URL(x.url),u)===w.location.pathname+w.location.search,await ht(x,Q,!0,{submission:E,replace:$}),{shortCircuited:!0}}if(Yn(Q))throw gt(400,{type:"defer-action"});if(_t(Q)){let $=gr(T,W.route.id);return(X&&X.replace)!==!0&&(_=$e.Push),{matches:T,pendingActionResult:[$.route.id,Q]}}return{matches:T,pendingActionResult:[W.route.id,Q]}}async function en(x,S,E,T,I,X,te,Q,W,$,H){let ne=I||Oa(S,X),re=X||te||gd(ne),Fe=!G&&(!p.v7_partialHydration||!W);if(T){if(Fe){let _e=mt(H);ye(be({navigation:ne},_e!==void 0?{actionData:_e}:{}),{flushSync:$})}let ve=await On(E,S.pathname,x.signal);if(ve.type==="aborted")return{shortCircuited:!0};if(ve.type==="error"){let _e=gr(ve.partialMatches).route.id;return{matches:ve.partialMatches,loaderData:{},errors:{[_e]:ve.error}}}else if(ve.matches)E=ve.matches;else{let{error:_e,notFoundMatches:zn,route:An}=dr(S.pathname);return{matches:zn,loaderData:{},errors:{[An.id]:_e}}}}let he=o||a,[de,Ee]=ad(e.history,w,E,re,S,p.v7_partialHydration&&W===!0,p.v7_skipActionErrorRevalidation,ae,se,fe,q,ue,Y,he,u,H);if(mn(ve=>!(E&&E.some(_e=>_e.route.id===ve))||de&&de.some(_e=>_e.route.id===ve)),U=++z,de.length===0&&Ee.length===0){let ve=De();return He(S,be({matches:E,loaderData:{},errors:H&&_t(H[1])?{[H[0]]:H[1].error}:null},md(H),ve?{fetchers:new Map(w.fetchers)}:{}),{flushSync:$}),{shortCircuited:!0}}if(Fe){let ve={};if(!T){ve.navigation=ne;let _e=mt(H);_e!==void 0&&(ve.actionData=_e)}Ee.length>0&&(ve.fetchers=nt(Ee)),ye(ve,{flushSync:$})}Ee.forEach(ve=>{Pe(ve.key),ve.controller&&R.set(ve.key,ve.controller)});let In=()=>Ee.forEach(ve=>Pe(ve.key));F&&F.signal.addEventListener("abort",In);let{loaderResults:fr,fetcherResults:Dt}=await Mn(w,E,de,Ee,x);if(x.signal.aborted)return{shortCircuited:!0};F&&F.signal.removeEventListener("abort",In),Ee.forEach(ve=>R.delete(ve.key));let Ct=Qs(fr);if(Ct)return await ht(x,Ct.result,!0,{replace:Q}),{shortCircuited:!0};if(Ct=Qs(Dt),Ct)return Y.add(Ct.key),await ht(x,Ct.result,!0,{replace:Q}),{shortCircuited:!0};let{loaderData:wl,errors:pr}=fd(w,E,fr,H,Ee,Dt,pe);pe.forEach((ve,_e)=>{ve.subscribe(zn=>{(zn||ve.done)&&pe.delete(_e)})}),p.v7_partialHydration&&W&&w.errors&&(pr=be({},w.errors,pr));let vn=De(),Fr=Je(U),Or=vn||Fr||Ee.length>0;return be({matches:E,loaderData:wl,errors:pr},Or?{fetchers:new Map(w.fetchers)}:{})}function mt(x){if(x&&!_t(x[1]))return{[x[0]]:x[1].data};if(w.actionData)return Object.keys(w.actionData).length===0?null:w.actionData}function nt(x){return x.forEach(S=>{let E=w.fetchers.get(S.key),T=Rl(void 0,E?E.data:void 0);w.fetchers.set(S.key,T)}),new Map(w.fetchers)}function tn(x,S,E,T){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Pe(x);let I=(T&&T.flushSync)===!0,X=o||a,te=Io(w.location,w.matches,u,p.v7_prependBasename,E,p.v7_relativeSplatPath,S,T==null?void 0:T.relative),Q=vr(X,te,u),W=hn(Q,X,te);if(W.active&&W.matches&&(Q=W.matches),!Q){vt(x,S,gt(404,{pathname:te}),{flushSync:I});return}let{path:$,submission:H,error:ne}=sd(p.v7_normalizeFormMethod,!0,te,T);if(ne){vt(x,S,ne,{flushSync:I});return}let re=$l(Q,$),Fe=(T&&T.preventScrollReset)===!0;if(H&&Gt(H.formMethod)){nn(x,S,$,re,Q,W.active,I,Fe,H);return}ue.set(x,{routeId:S,path:$}),rt(x,S,$,re,Q,W.active,I,Fe,H)}async function nn(x,S,E,T,I,X,te,Q,W){Dn(),ue.delete(x);function $(Oe){if(!Oe.route.action&&!Oe.route.lazy){let gn=gt(405,{method:W.formMethod,pathname:E,routeId:S});return vt(x,S,gn,{flushSync:te}),!0}return!1}if(!X&&$(T))return;let H=w.fetchers.get(x);qe(x,tx(W,H),{flushSync:te});let ne=new AbortController,re=zr(e.history,E,ne.signal,W);if(X){let Oe=await On(I,new URL(re.url).pathname,re.signal,x);if(Oe.type==="aborted")return;if(Oe.type==="error"){vt(x,S,Oe.error,{flushSync:te});return}else if(Oe.matches){if(I=Oe.matches,T=$l(I,E),$(T))return}else{vt(x,S,gt(404,{pathname:E}),{flushSync:te});return}}R.set(x,ne);let Fe=z,de=(await Bt("action",w,re,[T],I,x))[T.route.id];if(re.signal.aborted){R.get(x)===ne&&R.delete(x);return}if(p.v7_fetcherPersist&&q.has(x)){if(jr(de)||_t(de)){qe(x,Bn(void 0));return}}else{if(jr(de))if(R.delete(x),U>Fe){qe(x,Bn(void 0));return}else return Y.add(x),qe(x,Rl(W)),ht(re,de,!1,{fetcherSubmission:W,preventScrollReset:Q});if(_t(de)){vt(x,S,de.error);return}}if(Yn(de))throw gt(400,{type:"defer-action"});let Ee=w.navigation.location||w.location,In=zr(e.history,Ee,ne.signal),fr=o||a,Dt=w.navigation.state!=="idle"?vr(fr,w.navigation.location,u):w.matches;ie(Dt,"Didn't find any matches after fetcher action");let Ct=++z;le.set(x,Ct);let wl=Rl(W,de.data);w.fetchers.set(x,wl);let[pr,vn]=ad(e.history,w,Dt,W,Ee,!1,p.v7_skipActionErrorRevalidation,ae,se,fe,q,ue,Y,fr,u,[T.route.id,de]);vn.filter(Oe=>Oe.key!==x).forEach(Oe=>{let gn=Oe.key,Cs=w.fetchers.get(gn),la=Rl(void 0,Cs?Cs.data:void 0);w.fetchers.set(gn,la),Pe(gn),Oe.controller&&R.set(gn,Oe.controller)}),ye({fetchers:new Map(w.fetchers)});let Fr=()=>vn.forEach(Oe=>Pe(Oe.key));ne.signal.addEventListener("abort",Fr);let{loaderResults:Or,fetcherResults:ve}=await Mn(w,Dt,pr,vn,In);if(ne.signal.aborted)return;ne.signal.removeEventListener("abort",Fr),le.delete(x),R.delete(x),vn.forEach(Oe=>R.delete(Oe.key));let _e=Qs(Or);if(_e)return ht(In,_e.result,!1,{preventScrollReset:Q});if(_e=Qs(ve),_e)return Y.add(_e.key),ht(In,_e.result,!1,{preventScrollReset:Q});let{loaderData:zn,errors:An}=fd(w,Dt,Or,void 0,vn,ve,pe);if(w.fetchers.has(x)){let Oe=Bn(de.data);w.fetchers.set(x,Oe)}Je(Ct),w.navigation.state==="loading"&&Ct>U?(ie(_,"Expected pending action"),F&&F.abort(),He(w.navigation.location,{matches:Dt,loaderData:zn,errors:An,fetchers:new Map(w.fetchers)})):(ye({errors:An,loaderData:pd(w.loaderData,zn,Dt,An),fetchers:new Map(w.fetchers)}),ae=!1)}async function rt(x,S,E,T,I,X,te,Q,W){let $=w.fetchers.get(x);qe(x,Rl(W,$?$.data:void 0),{flushSync:te});let H=new AbortController,ne=zr(e.history,E,H.signal);if(X){let de=await On(I,new URL(ne.url).pathname,ne.signal,x);if(de.type==="aborted")return;if(de.type==="error"){vt(x,S,de.error,{flushSync:te});return}else if(de.matches)I=de.matches,T=$l(I,E);else{vt(x,S,gt(404,{pathname:E}),{flushSync:te});return}}R.set(x,H);let re=z,he=(await Bt("loader",w,ne,[T],I,x))[T.route.id];if(Yn(he)&&(he=await Iu(he,ne.signal,!0)||he),R.get(x)===H&&R.delete(x),!ne.signal.aborted){if(q.has(x)){qe(x,Bn(void 0));return}if(jr(he))if(U>re){qe(x,Bn(void 0));return}else{Y.add(x),await ht(ne,he,!1,{preventScrollReset:Q});return}if(_t(he)){vt(x,S,he.error);return}ie(!Yn(he),"Unhandled fetcher deferred data"),qe(x,Bn(he.data))}}async function ht(x,S,E,T){let{submission:I,fetcherSubmission:X,preventScrollReset:te,replace:Q}=T===void 0?{}:T;S.response.headers.has("X-Remix-Revalidate")&&(ae=!0);let W=S.response.headers.get("Location");ie(W,"Expected a Location header on the redirect Response"),W=cd(W,new URL(x.url),u);let $=ms(w.location,W,{_isRedirect:!0});if(n){let de=!1;if(S.response.headers.has("X-Remix-Reload-Document"))de=!0;else if(Ou.test(W)){const Ee=e.history.createURL(W);de=Ee.origin!==t.location.origin||Pn(Ee.pathname,u)==null}if(de){Q?t.location.replace(W):t.location.assign(W);return}}F=null;let H=Q===!0||S.response.headers.has("X-Remix-Replace")?$e.Replace:$e.Push,{formMethod:ne,formAction:re,formEncType:Fe}=w.navigation;!I&&!X&&ne&&re&&Fe&&(I=gd(w.navigation));let he=I||X;if(Fg.has(S.response.status)&&he&&Gt(he.formMethod))await Ve(H,$,{submission:be({},he,{formAction:W}),preventScrollReset:te||B,enableViewTransition:E?J:void 0});else{let de=Oa($,I);await Ve(H,$,{overrideNavigation:de,fetcherSubmission:X,preventScrollReset:te||B,enableViewTransition:E?J:void 0})}}async function Bt(x,S,E,T,I,X){let te,Q={};try{te=await Vg(c,x,S,E,T,I,X,s,l)}catch(W){return T.forEach($=>{Q[$.route.id]={type:we.error,error:W}}),Q}for(let[W,$]of Object.entries(te))if(Yg($)){let H=$.result;Q[W]={type:we.redirect,response:Hg(H,E,W,I,u,p.v7_relativeSplatPath)}}else Q[W]=await Wg($);return Q}async function Mn(x,S,E,T,I){let X=x.matches,te=Bt("loader",x,I,E,S,null),Q=Promise.all(T.map(async H=>{if(H.matches&&H.match&&H.controller){let re=(await Bt("loader",x,zr(e.history,H.path,H.controller.signal),[H.match],H.matches,H.key))[H.match.route.id];return{[H.key]:re}}else return Promise.resolve({[H.key]:{type:we.error,error:gt(404,{pathname:H.path})}})})),W=await te,$=(await Q).reduce((H,ne)=>Object.assign(H,ne),{});return await Promise.all([Jg(S,W,I.signal,X,x.loaderData),Zg(S,$,T)]),{loaderResults:W,fetcherResults:$}}function Dn(){ae=!0,se.push(...mn()),ue.forEach((x,S)=>{R.has(S)&&fe.add(S),Pe(S)})}function qe(x,S,E){E===void 0&&(E={}),w.fetchers.set(x,S),ye({fetchers:new Map(w.fetchers)},{flushSync:(E&&E.flushSync)===!0})}function vt(x,S,E,T){T===void 0&&(T={});let I=gr(w.matches,S);A(x),ye({errors:{[I.route.id]:E},fetchers:new Map(w.fetchers)},{flushSync:(T&&T.flushSync)===!0})}function fn(x){return Ne.set(x,(Ne.get(x)||0)+1),q.has(x)&&q.delete(x),w.fetchers.get(x)||Og}function A(x){let S=w.fetchers.get(x);R.has(x)&&!(S&&S.state==="loading"&&le.has(x))&&Pe(x),ue.delete(x),le.delete(x),Y.delete(x),p.v7_fetcherPersist&&q.delete(x),fe.delete(x),w.fetchers.delete(x)}function me(x){let S=(Ne.get(x)||0)-1;S<=0?(Ne.delete(x),q.add(x),p.v7_fetcherPersist||A(x)):Ne.set(x,S),ye({fetchers:new Map(w.fetchers)})}function Pe(x){let S=R.get(x);S&&(S.abort(),R.delete(x))}function ze(x){for(let S of x){let E=fn(S),T=Bn(E.data);w.fetchers.set(S,T)}}function De(){let x=[],S=!1;for(let E of Y){let T=w.fetchers.get(E);ie(T,"Expected fetcher: "+E),T.state==="loading"&&(Y.delete(E),x.push(E),S=!0)}return ze(x),S}function Je(x){let S=[];for(let[E,T]of le)if(T<x){let I=w.fetchers.get(E);ie(I,"Expected fetcher: "+E),I.state==="loading"&&(Pe(E),le.delete(E),S.push(E))}return ze(S),S.length>0}function gl(x,S){let E=w.blockers.get(x)||Ll;return Ue.get(x)!==S&&Ue.set(x,S),E}function xl(x){w.blockers.delete(x),Ue.delete(x)}function pn(x,S){let E=w.blockers.get(x)||Ll;ie(E.state==="unblocked"&&S.state==="blocked"||E.state==="blocked"&&S.state==="blocked"||E.state==="blocked"&&S.state==="proceeding"||E.state==="blocked"&&S.state==="unblocked"||E.state==="proceeding"&&S.state==="unblocked","Invalid blocker state transition: "+E.state+" -> "+S.state);let T=new Map(w.blockers);T.set(x,S),ye({blockers:T})}function Ns(x){let{currentLocation:S,nextLocation:E,historyAction:T}=x;if(Ue.size===0)return;Ue.size>1&&dl(!1,"A router only supports one blocker at a time");let I=Array.from(Ue.entries()),[X,te]=I[I.length-1],Q=w.blockers.get(X);if(!(Q&&Q.state==="proceeding")&&te({currentLocation:S,nextLocation:E,historyAction:T}))return X}function dr(x){let S=gt(404,{pathname:x}),E=o||a,{matches:T,route:I}=hd(E);return mn(),{notFoundMatches:T,route:I,error:S}}function mn(x){let S=[];return pe.forEach((E,T)=>{(!x||x(T))&&(E.cancel(),S.push(T),pe.delete(T))}),S}function yl(x,S,E){if(N=x,P=S,k=E||null,!g&&w.navigation===Fa){g=!0;let T=Fn(w.location,w.matches);T!=null&&ye({restoreScrollPosition:T})}return()=>{N=null,P=null,k=null}}function Ss(x,S){return k&&k(x,S.map(T=>pg(T,w.loaderData)))||x.key}function ks(x,S){if(N&&P){let E=Ss(x,S);N[E]=P()}}function Fn(x,S){if(N){let E=Ss(x,S),T=N[E];if(typeof T=="number")return T}return null}function hn(x,S,E){if(m)if(x){if(Object.keys(x[0].params).length>0)return{active:!0,matches:ai(S,E,u,!0)}}else return{active:!0,matches:ai(S,E,u,!0)||[]};return{active:!1,matches:null}}async function On(x,S,E,T){if(!m)return{type:"success",matches:x};let I=x;for(;;){let X=o==null,te=o||a,Q=s;try{await m({signal:E,path:S,matches:I,fetcherKey:T,patch:(H,ne)=>{E.aborted||ud(H,ne,te,Q,l)}})}catch(H){return{type:"error",error:H,partialMatches:I}}finally{X&&!E.aborted&&(a=[...a])}if(E.aborted)return{type:"aborted"};let W=vr(te,S,u);if(W)return{type:"success",matches:W};let $=ai(te,S,u,!0);if(!$||I.length===$.length&&I.every((H,ne)=>H.route.id===$[ne].route.id))return{type:"success",matches:null};I=$}}function Vt(x){s={},o=Ri(x,l,void 0,s)}function ra(x,S){let E=o==null;ud(x,S,o||a,s,l),E&&(a=[...a],ye({}))}return D={get basename(){return u},get future(){return p},get state(){return w},get routes(){return a},get window(){return t},initialize:xe,subscribe:ut,enableScrollRestoration:yl,navigate:dn,fetch:tn,revalidate:kt,createHref:x=>e.history.createHref(x),encodeLocation:x=>e.history.encodeLocation(x),getFetcher:fn,deleteFetcher:me,dispose:Xe,getBlocker:gl,deleteBlocker:xl,patchRoutes:ra,_internalFetchControllers:R,_internalActiveDeferreds:pe,_internalSetRoutes:Vt},D}function Ag(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Io(e,t,n,r,l,s,a,o){let u,c;if(a){u=[];for(let p of t)if(u.push(p),p.route.id===a){c=p;break}}else u=t,c=t[t.length-1];let m=ea(l||".",Zi(u,s),Pn(e.pathname,n)||e.pathname,o==="path");if(l==null&&(m.search=e.search,m.hash=e.hash),(l==null||l===""||l===".")&&c){let p=zu(m.search);if(c.route.index&&!p)m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&p){let h=new URLSearchParams(m.search),y=h.getAll("index");h.delete("index"),y.filter(k=>k).forEach(k=>h.append("index",k));let N=h.toString();m.search=N?"?"+N:""}}return r&&n!=="/"&&(m.pathname=m.pathname==="/"?n:Cn([n,m.pathname])),Tr(m)}function sd(e,t,n,r){if(!r||!Ag(r))return{path:n};if(r.formMethod&&!qg(r.formMethod))return{path:n,error:gt(405,{method:r.formMethod})};let l=()=>({path:n,error:gt(400,{type:"invalid-body"})}),s=r.formMethod||"get",a=e?s.toUpperCase():s.toLowerCase(),o=em(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Gt(a))return l();let h=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((y,N)=>{let[k,P]=N;return""+y+k+"="+P+`
`},""):String(r.body);return{path:n,submission:{formMethod:a,formAction:o,formEncType:r.formEncType,formData:void 0,json:void 0,text:h}}}else if(r.formEncType==="application/json"){if(!Gt(a))return l();try{let h=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:a,formAction:o,formEncType:r.formEncType,formData:void 0,json:h,text:void 0}}}catch{return l()}}}ie(typeof FormData=="function","FormData is not available in this environment");let u,c;if(r.formData)u=Ao(r.formData),c=r.formData;else if(r.body instanceof FormData)u=Ao(r.body),c=r.body;else if(r.body instanceof URLSearchParams)u=r.body,c=dd(u);else if(r.body==null)u=new URLSearchParams,c=new FormData;else try{u=new URLSearchParams(r.body),c=dd(u)}catch{return l()}let m={formMethod:a,formAction:o,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Gt(m.formMethod))return{path:n,submission:m};let p=ur(n);return t&&p.search&&zu(p.search)&&u.append("index",""),p.search="?"+u,{path:Tr(p),submission:m}}function id(e,t,n){n===void 0&&(n=!1);let r=e.findIndex(l=>l.route.id===t);return r>=0?e.slice(0,n?r+1:r):e}function ad(e,t,n,r,l,s,a,o,u,c,m,p,h,y,N,k){let P=k?_t(k[1])?k[1].error:k[1].data:void 0,g=e.createURL(t.location),d=e.createURL(l),v=n;s&&t.errors?v=id(n,Object.keys(t.errors)[0],!0):k&&_t(k[1])&&(v=id(n,k[0]));let C=k?k[1].statusCode:void 0,b=a&&C&&C>=400,D=v.filter((_,B)=>{let{route:F}=_;if(F.lazy)return!0;if(F.loader==null)return!1;if(s)return zo(F,t.loaderData,t.errors);if(Ug(t.loaderData,t.matches[B],_)||u.some(K=>K===_.route.id))return!0;let J=t.matches[B],oe=_;return od(_,be({currentUrl:g,currentParams:J.params,nextUrl:d,nextParams:oe.params},r,{actionResult:P,actionStatus:C,defaultShouldRevalidate:b?!1:o||g.pathname+g.search===d.pathname+d.search||g.search!==d.search||Jp(J,oe)}))}),w=[];return p.forEach((_,B)=>{if(s||!n.some(G=>G.route.id===_.routeId)||m.has(B))return;let F=vr(y,_.path,N);if(!F){w.push({key:B,routeId:_.routeId,path:_.path,matches:null,match:null,controller:null});return}let J=t.fetchers.get(B),oe=$l(F,_.path),K=!1;h.has(B)?K=!1:c.has(B)?(c.delete(B),K=!0):J&&J.state!=="idle"&&J.data===void 0?K=o:K=od(oe,be({currentUrl:g,currentParams:t.matches[t.matches.length-1].params,nextUrl:d,nextParams:n[n.length-1].params},r,{actionResult:P,actionStatus:C,defaultShouldRevalidate:b?!1:o})),K&&w.push({key:B,routeId:_.routeId,path:_.path,matches:F,match:oe,controller:new AbortController})}),[D,w]}function zo(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let r=t!=null&&t[e.id]!==void 0,l=n!=null&&n[e.id]!==void 0;return!r&&l?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!r&&!l}function Ug(e,t,n){let r=!t||n.route.id!==t.route.id,l=e[n.route.id]===void 0;return r||l}function Jp(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function od(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function ud(e,t,n,r,l){var s;let a;if(e){let c=r[e];ie(c,"No route found to patch children into: routeId = "+e),c.children||(c.children=[]),a=c.children}else a=n;let o=t.filter(c=>!a.some(m=>Zp(c,m))),u=Ri(o,l,[e||"_","patch",String(((s=a)==null?void 0:s.length)||"0")],r);a.push(...u)}function Zp(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,r)=>{var l;return(l=t.children)==null?void 0:l.some(s=>Zp(n,s))}):!1}async function $g(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let l=n[e.id];ie(l,"No route found in manifest");let s={};for(let a in r){let u=l[a]!==void 0&&a!=="hasErrorBoundary";dl(!u,'Route "'+l.id+'" has a static property "'+a+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+a+'" will be ignored.')),!u&&!dg.has(a)&&(s[a]=r[a])}Object.assign(l,s),Object.assign(l,be({},t(l),{lazy:void 0}))}async function Bg(e){let{matches:t}=e,n=t.filter(l=>l.shouldLoad);return(await Promise.all(n.map(l=>l.resolve()))).reduce((l,s,a)=>Object.assign(l,{[n[a].route.id]:s}),{})}async function Vg(e,t,n,r,l,s,a,o,u,c){let m=s.map(y=>y.route.lazy?$g(y.route,u,o):void 0),p=s.map((y,N)=>{let k=m[N],P=l.some(d=>d.route.id===y.route.id);return be({},y,{shouldLoad:P,resolve:async d=>(d&&r.method==="GET"&&(y.route.lazy||y.route.loader)&&(P=!0),P?Qg(t,r,y,k,d,c):Promise.resolve({type:we.data,result:void 0}))})}),h=await e({matches:p,request:r,params:s[0].params,fetcherKey:a,context:c});try{await Promise.all(m)}catch{}return h}async function Qg(e,t,n,r,l,s){let a,o,u=c=>{let m,p=new Promise((N,k)=>m=k);o=()=>m(),t.signal.addEventListener("abort",o);let h=N=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+e+'" [routeId: '+n.route.id+"]"))):c({request:t,params:n.params,context:s},...N!==void 0?[N]:[]),y=(async()=>{try{return{type:"data",result:await(l?l(k=>h(k)):h())}}catch(N){return{type:"error",result:N}}})();return Promise.race([y,p])};try{let c=n.route[e];if(r)if(c){let m,[p]=await Promise.all([u(c).catch(h=>{m=h}),r]);if(m!==void 0)throw m;a=p}else if(await r,c=n.route[e],c)a=await u(c);else if(e==="action"){let m=new URL(t.url),p=m.pathname+m.search;throw gt(405,{method:t.method,pathname:p,routeId:n.route.id})}else return{type:we.data,result:void 0};else if(c)a=await u(c);else{let m=new URL(t.url),p=m.pathname+m.search;throw gt(404,{pathname:p})}ie(a.result!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:we.error,result:c}}finally{o&&t.signal.removeEventListener("abort",o)}return a}async function Wg(e){let{result:t,type:n}=e;if(tm(t)){let p;try{let h=t.headers.get("Content-Type");h&&/\bapplication\/json\b/.test(h)?t.body==null?p=null:p=await t.json():p=await t.text()}catch(h){return{type:we.error,error:h}}return n===we.error?{type:we.error,error:new Di(t.status,t.statusText,p),statusCode:t.status,headers:t.headers}:{type:we.data,data:p,statusCode:t.status,headers:t.headers}}if(n===we.error){if(vd(t)){var r,l;if(t.data instanceof Error){var s,a;return{type:we.error,error:t.data,statusCode:(s=t.init)==null?void 0:s.status,headers:(a=t.init)!=null&&a.headers?new Headers(t.init.headers):void 0}}return{type:we.error,error:new Di(((r=t.init)==null?void 0:r.status)||500,void 0,t.data),statusCode:hs(t)?t.status:void 0,headers:(l=t.init)!=null&&l.headers?new Headers(t.init.headers):void 0}}return{type:we.error,error:t,statusCode:hs(t)?t.status:void 0}}if(Xg(t)){var o,u;return{type:we.deferred,deferredData:t,statusCode:(o=t.init)==null?void 0:o.status,headers:((u=t.init)==null?void 0:u.headers)&&new Headers(t.init.headers)}}if(vd(t)){var c,m;return{type:we.data,data:t.data,statusCode:(c=t.init)==null?void 0:c.status,headers:(m=t.init)!=null&&m.headers?new Headers(t.init.headers):void 0}}return{type:we.data,data:t}}function Hg(e,t,n,r,l,s){let a=e.headers.get("Location");if(ie(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!Ou.test(a)){let o=r.slice(0,r.findIndex(u=>u.route.id===n)+1);a=Io(new URL(t.url),o,l,!0,a,s),e.headers.set("Location",a)}return e}function cd(e,t,n){if(Ou.test(e)){let r=e,l=r.startsWith("//")?new URL(t.protocol+r):new URL(r),s=Pn(l.pathname,n)!=null;if(l.origin===t.origin&&s)return l.pathname+l.search+l.hash}return e}function zr(e,t,n,r){let l=e.createURL(em(t)).toString(),s={signal:n};if(r&&Gt(r.formMethod)){let{formMethod:a,formEncType:o}=r;s.method=a.toUpperCase(),o==="application/json"?(s.headers=new Headers({"Content-Type":o}),s.body=JSON.stringify(r.json)):o==="text/plain"?s.body=r.text:o==="application/x-www-form-urlencoded"&&r.formData?s.body=Ao(r.formData):s.body=r.formData}return new Request(l,s)}function Ao(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function dd(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function Kg(e,t,n,r,l){let s={},a=null,o,u=!1,c={},m=n&&_t(n[1])?n[1].error:void 0;return e.forEach(p=>{if(!(p.route.id in t))return;let h=p.route.id,y=t[h];if(ie(!jr(y),"Cannot handle redirect results in processLoaderData"),_t(y)){let N=y.error;m!==void 0&&(N=m,m=void 0),a=a||{};{let k=gr(e,h);a[k.route.id]==null&&(a[k.route.id]=N)}s[h]=void 0,u||(u=!0,o=hs(y.error)?y.error.status:500),y.headers&&(c[h]=y.headers)}else Yn(y)?(r.set(h,y.deferredData),s[h]=y.deferredData.data,y.statusCode!=null&&y.statusCode!==200&&!u&&(o=y.statusCode),y.headers&&(c[h]=y.headers)):(s[h]=y.data,y.statusCode&&y.statusCode!==200&&!u&&(o=y.statusCode),y.headers&&(c[h]=y.headers))}),m!==void 0&&n&&(a={[n[0]]:m},s[n[0]]=void 0),{loaderData:s,errors:a,statusCode:o||200,loaderHeaders:c}}function fd(e,t,n,r,l,s,a){let{loaderData:o,errors:u}=Kg(t,n,r,a);return l.forEach(c=>{let{key:m,match:p,controller:h}=c,y=s[m];if(ie(y,"Did not find corresponding fetcher result"),!(h&&h.signal.aborted))if(_t(y)){let N=gr(e.matches,p==null?void 0:p.route.id);u&&u[N.route.id]||(u=be({},u,{[N.route.id]:y.error})),e.fetchers.delete(m)}else if(jr(y))ie(!1,"Unhandled fetcher revalidation redirect");else if(Yn(y))ie(!1,"Unhandled fetcher deferred data");else{let N=Bn(y.data);e.fetchers.set(m,N)}}),{loaderData:o,errors:u}}function pd(e,t,n,r){let l=be({},t);for(let s of n){let a=s.route.id;if(t.hasOwnProperty(a)?t[a]!==void 0&&(l[a]=t[a]):e[a]!==void 0&&s.route.loader&&(l[a]=e[a]),r&&r.hasOwnProperty(a))break}return l}function md(e){return e?_t(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function gr(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function hd(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function gt(e,t){let{pathname:n,routeId:r,method:l,type:s,message:a}=t===void 0?{}:t,o="Unknown Server Error",u="Unknown @remix-run/router error";return e===400?(o="Bad Request",l&&n&&r?u="You made a "+l+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?u="defer() is not supported in actions":s==="invalid-body"&&(u="Unable to encode submission body")):e===403?(o="Forbidden",u='Route "'+r+'" does not match URL "'+n+'"'):e===404?(o="Not Found",u='No route matches URL "'+n+'"'):e===405&&(o="Method Not Allowed",l&&n&&r?u="You made a "+l.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":l&&(u='Invalid request method "'+l.toUpperCase()+'"')),new Di(e||500,o,new Error(u),!0)}function Qs(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[r,l]=t[n];if(jr(l))return{key:r,result:l}}}function em(e){let t=typeof e=="string"?ur(e):e;return Tr(be({},t,{hash:""}))}function Gg(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function Yg(e){return tm(e.result)&&Dg.has(e.result.status)}function Yn(e){return e.type===we.deferred}function _t(e){return e.type===we.error}function jr(e){return(e&&e.type)===we.redirect}function vd(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function Xg(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function tm(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function qg(e){return Mg.has(e.toLowerCase())}function Gt(e){return Lg.has(e.toLowerCase())}async function Jg(e,t,n,r,l){let s=Object.entries(t);for(let a=0;a<s.length;a++){let[o,u]=s[a],c=e.find(h=>(h==null?void 0:h.route.id)===o);if(!c)continue;let m=r.find(h=>h.route.id===c.route.id),p=m!=null&&!Jp(m,c)&&(l&&l[c.route.id])!==void 0;Yn(u)&&p&&await Iu(u,n,!1).then(h=>{h&&(t[o]=h)})}}async function Zg(e,t,n){for(let r=0;r<n.length;r++){let{key:l,routeId:s,controller:a}=n[r],o=t[l];e.find(c=>(c==null?void 0:c.route.id)===s)&&Yn(o)&&(ie(a,"Expected an AbortController for revalidating fetcher deferred result"),await Iu(o,a.signal,!0).then(c=>{c&&(t[l]=c)}))}}async function Iu(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:we.data,data:e.deferredData.unwrappedData}}catch(l){return{type:we.error,error:l}}return{type:we.data,data:e.deferredData.data}}}function zu(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function $l(e,t){let n=typeof t=="string"?ur(t).search:t.search;if(e[e.length-1].route.index&&zu(n||""))return e[e.length-1];let r=Yp(e);return r[r.length-1]}function gd(e){let{formMethod:t,formAction:n,formEncType:r,text:l,formData:s,json:a}=e;if(!(!t||!n||!r)){if(l!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:l};if(s!=null)return{formMethod:t,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(a!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:a,text:void 0}}}function Oa(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function ex(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Rl(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function tx(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Bn(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function nx(e,t){try{let n=e.sessionStorage.getItem(qp);if(n){let r=JSON.parse(n);for(let[l,s]of Object.entries(r||{}))s&&Array.isArray(s)&&t.set(l,new Set(s||[]))}}catch{}}function rx(e,t){if(t.size>0){let n={};for(let[r,l]of t)n[r]=[...l];try{e.sessionStorage.setItem(qp,JSON.stringify(n))}catch(r){dl(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fi(){return Fi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fi.apply(this,arguments)}const js=f.createContext(null),Au=f.createContext(null),Rn=f.createContext(null),Uu=f.createContext(null),un=f.createContext({outlet:null,matches:[],isDataRoute:!1}),nm=f.createContext(null);function lx(e,t){let{relative:n}=t===void 0?{}:t;vl()||ie(!1);let{basename:r,navigator:l}=f.useContext(Rn),{hash:s,pathname:a,search:o}=ta(e,{relative:n}),u=a;return r!=="/"&&(u=a==="/"?r:Cn([r,a])),l.createHref({pathname:u,search:o,hash:s})}function vl(){return f.useContext(Uu)!=null}function cn(){return vl()||ie(!1),f.useContext(Uu).location}function rm(e){f.useContext(Rn).static||f.useLayoutEffect(e)}function cr(){let{isDataRoute:e}=f.useContext(un);return e?yx():sx()}function sx(){vl()||ie(!1);let e=f.useContext(js),{basename:t,future:n,navigator:r}=f.useContext(Rn),{matches:l}=f.useContext(un),{pathname:s}=cn(),a=JSON.stringify(Zi(l,n.v7_relativeSplatPath)),o=f.useRef(!1);return rm(()=>{o.current=!0}),f.useCallback(function(c,m){if(m===void 0&&(m={}),!o.current)return;if(typeof c=="number"){r.go(c);return}let p=ea(c,JSON.parse(a),s,m.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Cn([t,p.pathname])),(m.replace?r.replace:r.push)(p,m.state,m)},[t,r,a,s,e])}const ix=f.createContext(null);function ax(e){let t=f.useContext(un).outlet;return t&&f.createElement(ix.Provider,{value:e},t)}function ox(){let{matches:e}=f.useContext(un),t=e[e.length-1];return t?t.params:{}}function ta(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=f.useContext(Rn),{matches:l}=f.useContext(un),{pathname:s}=cn(),a=JSON.stringify(Zi(l,r.v7_relativeSplatPath));return f.useMemo(()=>ea(e,JSON.parse(a),s,n==="path"),[e,a,s,n])}function ux(e,t,n,r){vl()||ie(!1);let{navigator:l}=f.useContext(Rn),{matches:s}=f.useContext(un),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let c=cn(),m;m=c;let p=m.pathname||"/",h=p;if(u!=="/"){let k=u.replace(/^\//,"").split("/");h="/"+p.replace(/^\//,"").split("/").slice(k.length).join("/")}let y=vr(e,{pathname:h});return mx(y&&y.map(k=>Object.assign({},k,{params:Object.assign({},o,k.params),pathname:Cn([u,l.encodeLocation?l.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?u:Cn([u,l.encodeLocation?l.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),s,n,r)}function cx(){let e=xx(),t=hs(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},t),n?f.createElement("pre",{style:l},n):null,null)}const dx=f.createElement(cx,null);class fx extends f.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?f.createElement(un.Provider,{value:this.props.routeContext},f.createElement(nm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function px(e){let{routeContext:t,match:n,children:r}=e,l=f.useContext(js);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),f.createElement(un.Provider,{value:t},r)}function mx(e,t,n,r){var l;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=(l=n)==null?void 0:l.errors;if(o!=null){let m=a.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);m>=0||ie(!1),a=a.slice(0,Math.min(a.length,m+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let m=0;m<a.length;m++){let p=a[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=m),p.route.id){let{loaderData:h,errors:y}=n,N=p.route.loader&&h[p.route.id]===void 0&&(!y||y[p.route.id]===void 0);if(p.route.lazy||N){u=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((m,p,h)=>{let y,N=!1,k=null,P=null;n&&(y=o&&p.route.id?o[p.route.id]:void 0,k=p.route.errorElement||dx,u&&(c<0&&h===0?(wx("route-fallback"),N=!0,P=null):c===h&&(N=!0,P=p.route.hydrateFallbackElement||null)));let g=t.concat(a.slice(0,h+1)),d=()=>{let v;return y?v=k:N?v=P:p.route.Component?v=f.createElement(p.route.Component,null):p.route.element?v=p.route.element:v=m,f.createElement(px,{match:p,routeContext:{outlet:m,matches:g,isDataRoute:n!=null},children:v})};return n&&(p.route.ErrorBoundary||p.route.errorElement||h===0)?f.createElement(fx,{location:n.location,revalidation:n.revalidation,component:k,error:y,children:d(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):d()},null)}var lm=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(lm||{}),sm=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(sm||{});function hx(e){let t=f.useContext(js);return t||ie(!1),t}function vx(e){let t=f.useContext(Au);return t||ie(!1),t}function gx(e){let t=f.useContext(un);return t||ie(!1),t}function im(e){let t=gx(),n=t.matches[t.matches.length-1];return n.route.id||ie(!1),n.route.id}function xx(){var e;let t=f.useContext(nm),n=vx(sm.UseRouteError),r=im();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function yx(){let{router:e}=hx(lm.UseNavigateStable),t=im(),n=f.useRef(!1);return rm(()=>{n.current=!0}),f.useCallback(function(l,s){s===void 0&&(s={}),n.current&&(typeof l=="number"?e.navigate(l):e.navigate(l,Fi({fromRouteId:t},s)))},[e,t])}const xd={};function wx(e,t,n){xd[e]||(xd[e]=!0)}function jx(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function $u(e){let{to:t,replace:n,state:r,relative:l}=e;vl()||ie(!1);let{future:s,static:a}=f.useContext(Rn),{matches:o}=f.useContext(un),{pathname:u}=cn(),c=cr(),m=ea(t,Zi(o,s.v7_relativeSplatPath),u,l==="path"),p=JSON.stringify(m);return f.useEffect(()=>c(JSON.parse(p),{replace:n,state:r,relative:l}),[c,p,l,n,r]),null}function am(e){return ax(e.context)}function Nx(e){let{basename:t="/",children:n=null,location:r,navigationType:l=$e.Pop,navigator:s,static:a=!1,future:o}=e;vl()&&ie(!1);let u=t.replace(/^\/*/,"/"),c=f.useMemo(()=>({basename:u,navigator:s,static:a,future:Fi({v7_relativeSplatPath:!1},o)}),[u,o,s,a]);typeof r=="string"&&(r=ur(r));let{pathname:m="/",search:p="",hash:h="",state:y=null,key:N="default"}=r,k=f.useMemo(()=>{let P=Pn(m,u);return P==null?null:{location:{pathname:P,search:p,hash:h,state:y,key:N},navigationType:l}},[u,m,p,h,y,N,l]);return k==null?null:f.createElement(Rn.Provider,{value:c},f.createElement(Uu.Provider,{children:n,value:k}))}new Promise(()=>{});function Sx(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:f.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:f.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:f.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fl(){return fl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fl.apply(this,arguments)}function om(e,t){if(e==null)return{};var n={},r=Object.keys(e),l,s;for(s=0;s<r.length;s++)l=r[s],!(t.indexOf(l)>=0)&&(n[l]=e[l]);return n}function kx(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Cx(e,t){return e.button===0&&(!t||t==="_self")&&!kx(e)}const Ex=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],_x=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],bx="6";try{window.__reactRouterVersion=bx}catch{}function Tx(e,t){return zg({basename:void 0,future:fl({},void 0,{v7_prependBasename:!0}),history:og({window:void 0}),hydrationData:Px(),routes:e,mapRouteProperties:Sx,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function Px(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=fl({},t,{errors:Lx(t.errors)})),t}function Lx(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,l]of t)if(l&&l.__type==="RouteErrorResponse")n[r]=new Di(l.status,l.statusText,l.data,l.internal===!0);else if(l&&l.__type==="Error"){if(l.__subType){let s=window[l.__subType];if(typeof s=="function")try{let a=new s(l.message);a.stack="",n[r]=a}catch{}}if(n[r]==null){let s=new Error(l.message);s.stack="",n[r]=s}}else n[r]=l;return n}const um=f.createContext({isTransitioning:!1}),Rx=f.createContext(new Map),Mx="startTransition",yd=Ym[Mx],Dx="flushSync",wd=ag[Dx];function Fx(e){yd?yd(e):e()}function Ml(e){wd?wd(e):e()}class Ox{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function Ix(e){let{fallbackElement:t,router:n,future:r}=e,[l,s]=f.useState(n.state),[a,o]=f.useState(),[u,c]=f.useState({isTransitioning:!1}),[m,p]=f.useState(),[h,y]=f.useState(),[N,k]=f.useState(),P=f.useRef(new Map),{v7_startTransition:g}=r||{},d=f.useCallback(_=>{g?Fx(_):_()},[g]),v=f.useCallback((_,B)=>{let{deletedFetchers:F,flushSync:J,viewTransitionOpts:oe}=B;_.fetchers.forEach((G,ae)=>{G.data!==void 0&&P.current.set(ae,G.data)}),F.forEach(G=>P.current.delete(G));let K=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!oe||K){J?Ml(()=>s(_)):d(()=>s(_));return}if(J){Ml(()=>{h&&(m&&m.resolve(),h.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:oe.currentLocation,nextLocation:oe.nextLocation})});let G=n.window.document.startViewTransition(()=>{Ml(()=>s(_))});G.finished.finally(()=>{Ml(()=>{p(void 0),y(void 0),o(void 0),c({isTransitioning:!1})})}),Ml(()=>y(G));return}h?(m&&m.resolve(),h.skipTransition(),k({state:_,currentLocation:oe.currentLocation,nextLocation:oe.nextLocation})):(o(_),c({isTransitioning:!0,flushSync:!1,currentLocation:oe.currentLocation,nextLocation:oe.nextLocation}))},[n.window,h,m,P,d]);f.useLayoutEffect(()=>n.subscribe(v),[n,v]),f.useEffect(()=>{u.isTransitioning&&!u.flushSync&&p(new Ox)},[u]),f.useEffect(()=>{if(m&&a&&n.window){let _=a,B=m.promise,F=n.window.document.startViewTransition(async()=>{d(()=>s(_)),await B});F.finished.finally(()=>{p(void 0),y(void 0),o(void 0),c({isTransitioning:!1})}),y(F)}},[d,a,m,n.window]),f.useEffect(()=>{m&&a&&l.location.key===a.location.key&&m.resolve()},[m,h,l.location,a]),f.useEffect(()=>{!u.isTransitioning&&N&&(o(N.state),c({isTransitioning:!0,flushSync:!1,currentLocation:N.currentLocation,nextLocation:N.nextLocation}),k(void 0))},[u.isTransitioning,N]),f.useEffect(()=>{},[]);let C=f.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:_=>n.navigate(_),push:(_,B,F)=>n.navigate(_,{state:B,preventScrollReset:F==null?void 0:F.preventScrollReset}),replace:(_,B,F)=>n.navigate(_,{replace:!0,state:B,preventScrollReset:F==null?void 0:F.preventScrollReset})}),[n]),b=n.basename||"/",D=f.useMemo(()=>({router:n,navigator:C,static:!1,basename:b}),[n,C,b]),w=f.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return f.useEffect(()=>jx(r,n.future),[r,n.future]),f.createElement(f.Fragment,null,f.createElement(js.Provider,{value:D},f.createElement(Au.Provider,{value:l},f.createElement(Rx.Provider,{value:P.current},f.createElement(um.Provider,{value:u},f.createElement(Nx,{basename:b,location:l.location,navigationType:l.historyAction,navigator:C,future:w},l.initialized||n.future.v7_partialHydration?f.createElement(zx,{routes:n.routes,future:n.future,state:l}):t))))),null)}const zx=f.memo(Ax);function Ax(e){let{routes:t,future:n,state:r}=e;return ux(t,void 0,r,n)}const Ux=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$x=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tt=f.forwardRef(function(t,n){let{onClick:r,relative:l,reloadDocument:s,replace:a,state:o,target:u,to:c,preventScrollReset:m,viewTransition:p}=t,h=om(t,Ex),{basename:y}=f.useContext(Rn),N,k=!1;if(typeof c=="string"&&$x.test(c)&&(N=c,Ux))try{let v=new URL(window.location.href),C=c.startsWith("//")?new URL(v.protocol+c):new URL(c),b=Pn(C.pathname,y);C.origin===v.origin&&b!=null?c=b+C.search+C.hash:k=!0}catch{}let P=lx(c,{relative:l}),g=Qx(c,{replace:a,state:o,target:u,preventScrollReset:m,relative:l,viewTransition:p});function d(v){r&&r(v),v.defaultPrevented||g(v)}return f.createElement("a",fl({},h,{href:N||P,onClick:k||s?r:d,ref:n,target:u}))}),Bx=f.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:l=!1,className:s="",end:a=!1,style:o,to:u,viewTransition:c,children:m}=t,p=om(t,_x),h=ta(u,{relative:p.relative}),y=cn(),N=f.useContext(Au),{navigator:k,basename:P}=f.useContext(Rn),g=N!=null&&Wx(h)&&c===!0,d=k.encodeLocation?k.encodeLocation(h).pathname:h.pathname,v=y.pathname,C=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;l||(v=v.toLowerCase(),C=C?C.toLowerCase():null,d=d.toLowerCase()),C&&P&&(C=Pn(C,P)||C);const b=d!=="/"&&d.endsWith("/")?d.length-1:d.length;let D=v===d||!a&&v.startsWith(d)&&v.charAt(b)==="/",w=C!=null&&(C===d||!a&&C.startsWith(d)&&C.charAt(d.length)==="/"),_={isActive:D,isPending:w,isTransitioning:g},B=D?r:void 0,F;typeof s=="function"?F=s(_):F=[s,D?"active":null,w?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let J=typeof o=="function"?o(_):o;return f.createElement(Tt,fl({},p,{"aria-current":B,className:F,ref:n,style:J,to:u,viewTransition:c}),typeof m=="function"?m(_):m)});var Uo;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Uo||(Uo={}));var jd;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(jd||(jd={}));function Vx(e){let t=f.useContext(js);return t||ie(!1),t}function Qx(e,t){let{target:n,replace:r,state:l,preventScrollReset:s,relative:a,viewTransition:o}=t===void 0?{}:t,u=cr(),c=cn(),m=ta(e,{relative:a});return f.useCallback(p=>{if(Cx(p,n)){p.preventDefault();let h=r!==void 0?r:Tr(c)===Tr(m);u(e,{replace:h,state:l,preventScrollReset:s,relative:a,viewTransition:o})}},[c,u,m,r,l,n,e,s,a,o])}function Wx(e,t){t===void 0&&(t={});let n=f.useContext(um);n==null&&ie(!1);let{basename:r}=Vx(Uo.useViewTransitionState),l=ta(e,{relative:t.relative});if(!n.isTransitioning)return!1;let s=Pn(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Pn(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Mi(l.pathname,a)!=null||Mi(l.pathname,s)!=null}const cm=f.createContext(null);function Hx({children:e}){const[t,n]=f.useState(null),[r,l]=f.useState(!1),s=f.useCallback(async()=>{try{const m=await fetch("/api/me",{credentials:"include"});if(!m.ok)return m.status===401&&n(null),null;const p=await m.json();return n(p),p}catch(m){return console.error("Не удалось обновить данные пользователя",m),null}},[]);f.useEffect(()=>{s().finally(()=>l(!0))},[s]);const a=async(m,p)=>{const h=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:m,password:p})});if(!h.ok)throw new Error("Не удалось войти. Проверьте данные и попробуйте снова.");const y=await h.json();return n(y),await s(),y},o=async(m,p,h)=>{const y=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:m,email:p,password:h})});if(!y.ok)throw new Error("Не удалось создать аккаунт. Попробуйте ещё раз.");const N=await y.json();return n(N),await s(),N},u=async()=>{await fetch("/api/auth/logout",{method:"POST",credentials:"include"}),n(null)},c=async(m,p,h)=>{const y=await fetch("/api/admin/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:m,password:p,secretKey:h})});if(!y.ok)throw new Error("Не удалось войти в админ-панель.");const N=await y.json();return n(N),await s(),N};return i.jsx(cm.Provider,{value:{user:t,setUser:n,loaded:r,login:a,register:o,logout:u,adminLogin:c,refreshUser:s},children:e})}function St(){return f.useContext(cm)}let Dl=0,Ia=null;function dm(e){f.useEffect(()=>{if(!(!e||typeof document>"u"))return Dl+=1,Dl===1&&(Ia=document.body.style.overflow||"",document.body.style.overflow="hidden"),()=>{Dl=Math.max(0,Dl-1),Dl===0&&typeof document<"u"&&(document.body.style.overflow=Ia||"",Ia=null)}},[e])}function Rr({open:e,title:t,message:n,confirmLabel:r="Подтвердить",cancelLabel:l="Отмена",confirmTone:s="primary",busy:a=!1,onConfirm:o,onCancel:u}){if(dm(e),!e)return null;const c=["btn"];s==="primary"?c.push("primary"):s==="danger"&&c.push("danger");const m=l!==null&&l!==!1,p=()=>n?typeof n=="string"?i.jsx("p",{className:"text-muted mt-2 whitespace-pre-line leading-relaxed",children:n}):i.jsx("div",{className:"mt-2",children:n}):null;return i.jsx("div",{className:"modal-backdrop",children:i.jsxs("div",{className:"modal-card",children:[t&&i.jsx("h3",{className:"font-serif text-[1.4rem]",children:t}),p(),i.jsxs("div",{className:"flex justify-end gap-2 mt-4 modal-actions",children:[m&&i.jsx("button",{type:"button",className:"btn",onClick:u,disabled:a,children:l}),i.jsx("button",{type:"button",className:c.join(" "),onClick:o,disabled:a,children:r})]})]})})}const Kx="/assets/logo-CXbNjLo8.png";function na({className:e="",alt:t="Fate",loading:n="lazy"}){return i.jsx("img",{src:Kx,alt:t,loading:n,className:`block h-auto w-auto ${e}`.trim()})}function Mr(){const{user:e,logout:t}=St(),[n,r]=f.useState(!1),l=cr(),s=e?"/dashboard":"/",a=async()=>{await t(),r(!1),l("/")};return i.jsxs("header",{className:"sticky top-0 z-40 backdrop-blur-md bg-[rgba(250,247,242,.75)] border-b border-line",children:[i.jsx("div",{className:"container mx-auto px-4",children:i.jsxs("div",{className:"flex items-center justify-between py-3",children:[i.jsx(Tt,{to:s,className:"inline-flex items-center",children:i.jsx(na,{className:"h-10 max-w-[50px]",loading:"eager"})}),i.jsx("nav",{className:"flex items-center gap-2",children:e?i.jsxs(i.Fragment,{children:[i.jsx(Tt,{className:"btn",to:"/dashboard",children:"Личный кабинет"}),i.jsx("button",{className:"btn",onClick:()=>r(!0),children:"Выйти"})]}):i.jsxs(i.Fragment,{children:[i.jsx(Tt,{className:"btn",to:"/login",children:"Войти"}),i.jsx(Tt,{className:"btn primary",to:"/register",children:"Зарегистрироваться"})]})})]})}),i.jsx(Rr,{open:n,title:"Выйти из аккаунта?",message:"После выхода нужно будет снова войти, чтобы продолжить работу.",confirmLabel:"Выйти",cancelLabel:"Отмена",onConfirm:a,onCancel:()=>r(!1)})]})}function Dr(){return i.jsx("footer",{className:"border-t border-line py-8 text-muted bg-gradient-to-t from-white/60 to-transparent",children:i.jsxs("div",{className:"container mx-auto px-4 flex items-center justify-between gap-4 flex-wrap",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-serif text-[1.1rem]",children:i.jsx(na,{className:"h-12 max-w-[50px]"})}),i.jsx("div",{className:"mt-1",children:"© 2025 Fate. Все права защищены."})]}),i.jsxs("div",{children:[i.jsxs("div",{children:["Напишите нам:"," ",i.jsx("a",{className:"underline",href:"mailto:hello@fate.books",children:"hello@my-fate.ru"})]}),i.jsx("div",{className:"mt-1",children:"Москва · Санкт-Петербург"})]})]})})}const fm="/assets/main_temp-Cl738mSK.png",Gx=[{title:"Заполните анкету",description:"Ответьте на вопросы и поделитесь историями — это поможет нам собрать основу для будущей книги."},{title:"Интервью с редактором",description:"Мы уточним детали, поможем выделить ключевые моменты и соберём дополнительные материалы."},{title:"Дизайн и печать",description:"Команда оформит книгу, подготовит макет и организует печать тиража для вашей семьи."}];function Yx(){return i.jsxs("div",{children:[i.jsx(Mr,{}),i.jsx("section",{className:"py-16",children:i.jsxs("div",{className:"container mx-auto px-4 grid gap-8 items-center md:grid-cols-[1.1fr_.9fr]",children:[i.jsxs("div",{children:[i.jsx("div",{className:"uppercase tracking-[.18em] text-sm text-muted",children:"Книга о вашей жизни"}),i.jsx("h1",{className:"font-serif font-semibold text-[clamp(2.1rem,4.4vw,3.4rem)] leading-tight mt-2",children:"Собирайте воспоминания и превращайте их в книгу."}),i.jsx("p",{className:"text-muted max-w-[55ch] mt-4",children:"Fate помогает собирать сообщения, фотографии и моменты от близких и бережно превращает их в красивую книгу архивного качества — интимный подарок на всю жизнь."}),i.jsxs("div",{className:"mt-6 flex gap-3 flex-wrap",children:[i.jsx(Tt,{className:"btn primary",to:"/register",children:"Зарегистрироваться"}),i.jsx("a",{className:"btn",href:"#how",children:"Как это работает"})]})]}),i.jsx("div",{className:"grid place-items-center",children:i.jsx("div",{className:"relative w-[min(88vw,340px)] h-[min(120vw,460px)] rounded-[18px] overflow-hidden shadow-[0_30px_60px_rgba(80,60,40,.18),0_10px_20px_rgba(80,60,40,.12)]",children:i.jsx("img",{src:fm,alt:"Пример печатной обложки Fate",className:"absolute inset-0 h-full w-full object-cover",loading:"eager"})})})]})}),i.jsx("section",{id:"how",className:"py-12",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsx("h2",{className:"font-serif font-semibold text-[clamp(1.6rem,3vw,2.1rem)] mb-2",children:"Как работает Fate"}),i.jsx("p",{className:"text-muted max-w-[60ch]",children:"Мы бережно работаем с личными историями и оформляем их в авторские книги. Редакторы и дизайнеры помогают собирать материалы, обрабатывать тексты и готовить печатный тираж."}),i.jsx("div",{className:"grid gap-4 md:grid-cols-3 mt-5",children:Gx.map((e,t)=>i.jsxs("article",{className:"paper p-4 grid grid-cols-[56px_1fr] gap-4 items-center",children:[i.jsx("div",{className:"w-14 h-14 grid place-items-center rounded-[14px] bg-gradient-to-b from-gold to-blush shadow-tiny",children:i.jsx("span",{className:"text-[#5b5246]",children:t+1})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold",children:e.title}),i.jsx("p",{className:"text-muted mt-1",children:e.description})]})]},e.title))})]})}),i.jsx(Dr,{})]})}function pm(){const e="Fate_supportbot",{setUser:t,refreshUser:n}=St(),[r,l]=f.useState(!1),[s,a]=f.useState(""),[o,u]=f.useState(""),c=f.useRef(null),m=f.useRef(null),p=f.useRef(!1);f.useEffect(()=>()=>{c.current&&clearInterval(c.current)},[]);const h=f.useCallback(()=>{c.current&&(clearInterval(c.current),c.current=null),m.current=null},[]),y=f.useCallback(async P=>{t(P),await n(),window.location.href="/dashboard"},[n,t]),N=f.useCallback(P=>{c.current=window.setInterval(async()=>{try{const g=await fetch(`/api/auth/tg_poll?nonce=${P}`,{credentials:"include"});if(!g.ok){if(g.status===404)throw new Error("NONCE_NOT_FOUND");return}const d=await g.json();if(d&&d.ready===!1)return;d&&d.id&&(h(),y(d))}catch(g){console.error("Telegram poll error",g),h(),a(""),u("Связь с Telegram потеряна. Попробуйте ещё раз."),l(!1)}},2500)},[y,h]),k=f.useCallback(async()=>{if(p.current)return;p.current=!0,h(),u(""),a("Ждём подтверждения в Telegram…"),l(!0);let P;try{if(P=window.open("","_blank"),P)try{P.opener=null}catch{}const g=await fetch("/api/auth/tg_init",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({})});if(!g.ok)throw new Error(`INIT_${g.status}`);const d=await g.json();if(!(d!=null&&d.nonce))throw new Error("MISSING_NONCE");m.current=d.nonce;const v=d.tme||`https://t.me/${e}?start=${d.nonce}`;if(P){P.location.replace(v);try{P.focus()}catch{}}else window.location.href=v;N(d.nonce)}catch(g){console.error("Telegram init error",g),P&&!P.closed&&P.close(),u("Не удалось открыть Telegram. Попробуйте ещё раз."),a(""),l(!1),h()}finally{p.current=!1}},[e,N,h]);return f.useMemo(()=>{const g="my-fate.ru,www.my-fate.ru".split(",").map(v=>v.trim().toLowerCase()).filter(Boolean);if(!g.length||typeof window>"u")return!1;const d=window.location.hostname.toLowerCase();return g.includes(d)},[e]),i.jsxs("div",{className:"space-y-3",children:[i.jsx("button",{type:"button",className:"btn w-full justify-center",onClick:k,disabled:r,children:r?"Ждём подтверждения...":"Открыть бота для входа"}),s&&i.jsx("div",{className:"text-sm text-muted text-center",children:s}),o&&i.jsx("div",{className:"text-sm text-red-600 text-center",children:o})]})}function Bu({className:e="",revealLabel:t="Показать пароль",hideLabel:n="Скрыть пароль",...r}){const[l,s]=f.useState(!1),a=()=>{s(m=>!m)},o=["input pr-12",e].filter(Boolean).join(" "),u=l,c=u?n:t;return i.jsxs("div",{className:"password-field",children:[i.jsx("input",{...r,type:u?"text":"password",className:o}),i.jsx("button",{type:"button",className:"password-toggle",onClick:a,"aria-label":c,title:c,children:u?i.jsx(qx,{}):i.jsx(Xx,{})})]})}function Xx(){return i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round",className:"password-toggle__icon",children:[i.jsx("path",{d:"M1.5 12s3.5-6.5 10.5-6.5 10.5 6.5 10.5 6.5-3.5 6.5-10.5 6.5S1.5 12 1.5 12Z"}),i.jsx("circle",{cx:"12",cy:"12",r:"3.2"})]})}function qx(){return i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round",className:"password-toggle__icon",children:[i.jsx("path",{d:"m3 3 18 18"}),i.jsx("path",{d:"M10.58 10.58A2 2 0 0 0 11 14a2 2 0 0 0 2.83 0"}),i.jsx("path",{d:"M9.88 4.27A10.42 10.42 0 0 1 12 4c7 0 10.5 8 10.5 8a17.9 17.9 0 0 1-3.24 4.78"}),i.jsx("path",{d:"M6.18 6.18C3.51 8.2 1.5 12 1.5 12a17.91 17.91 0 0 0 5.07 5.23"})]})}function Jx(){const{register:e}=St(),t=cr(),[n,r]=f.useState(""),[l,s]=f.useState(""),[a,o]=f.useState(""),[u,c]=f.useState(""),m=async p=>{p.preventDefault();try{await e(n.trim(),l.trim(),a),t("/dashboard")}catch{c("Не удалось создать аккаунт. Попробуйте ещё раз.")}};return i.jsxs("div",{children:[i.jsx(Mr,{}),i.jsx("section",{className:"min-h-[100dvh] grid place-items-center py-12 px-4",children:i.jsxs("div",{className:"card-glass w-[min(480px,92vw)] p-8 space-y-6",children:[i.jsx("div",{className:"grid place-items-center",children:i.jsx("div",{className:"font-serif text-[1.6rem]",children:i.jsx(na,{className:"h-16 max-w-[240px]"})})}),i.jsx("h1",{className:"font-serif text-[clamp(1.6rem,3vw,2.2rem)]",children:"Создайте профиль Fate"}),i.jsx("p",{className:"text-muted",children:"Заполните форму, чтобы начать работу над семейной историей. Вы сможете изменить данные позднее в личном кабинете."}),i.jsxs("form",{onSubmit:m,className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block mb-1",htmlFor:"register-name",children:"ФИО"}),i.jsx("input",{id:"register-name",className:"input",value:n,onChange:p=>r(p.target.value),placeholder:"Иван Иванов",autoComplete:"name"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block mb-1",htmlFor:"register-email",children:"Электронная почта"}),i.jsx("input",{id:"register-email",className:"input",type:"email",value:l,onChange:p=>s(p.target.value),placeholder:"ivan@example.com",autoComplete:"email"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block mb-1",htmlFor:"register-password",children:"Пароль"}),i.jsx(Bu,{id:"register-password",value:a,onChange:p=>o(p.target.value),placeholder:"Придумайте надёжный пароль",autoComplete:"new-password"})]}),u&&i.jsx("div",{className:"text-red-600",children:u}),i.jsx("div",{className:"pt-1",children:i.jsx("button",{className:"btn primary w-full justify-center",type:"submit",children:"Создать аккаунт"})})]}),i.jsx("div",{className:"border-t border-white/40 pt-4",children:i.jsx(pm,{})})]})}),i.jsx(Dr,{})]})}function Zx(){const{login:e}=St(),t=cr(),n=cn(),[r,l]=f.useState(""),[s,a]=f.useState(""),[o,u]=f.useState(""),c=async m=>{var p,h;m.preventDefault();try{await e(r.trim(),s),t(((h=(p=n.state)==null?void 0:p.from)==null?void 0:h.pathname)||"/dashboard",{replace:!0})}catch{u("Неверный email или пароль.")}};return i.jsxs("div",{children:[i.jsx(Mr,{}),i.jsx("section",{className:"min-h-[60dvh] grid place-items-center py-12 px-4",children:i.jsxs("div",{className:"paper w-[min(420px,92vw)] p-6 space-y-6",children:[i.jsx("h1",{className:"font-serif text-2xl",children:"Вход"}),i.jsxs("form",{onSubmit:c,className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block mb-1",htmlFor:"login-email",children:"Электронная почта"}),i.jsx("input",{id:"login-email",className:"input",type:"email",value:r,onChange:m=>l(m.target.value),placeholder:"ivan@example.com",autoComplete:"email"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block mb-1",htmlFor:"login-password",children:"Пароль"}),i.jsx(Bu,{id:"login-password",value:s,onChange:m=>a(m.target.value),autoComplete:"current-password"})]}),o&&i.jsx("div",{className:"text-red-600",children:o}),i.jsxs("div",{className:"flex flex-col gap-2 pt-1",children:[i.jsx("button",{className:"btn primary w-full justify-center",type:"submit",children:"Войти"}),i.jsx(Tt,{to:"/register",className:"btn w-full justify-center text-center",children:"Создать аккаунт"})]})]}),i.jsx("div",{className:"border-t border-line pt-4",children:i.jsx(pm,{})})]})}),i.jsx(Dr,{})]})}let za=null;async function Vu(){return za||(za=fetch("/api/csrf",{credentials:"include"}).then(e=>e.json()).then(e=>e.token)),za}async function jn(e,t){const n=await Vu(),r=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json","x-csrf-token":n},credentials:"include",body:JSON.stringify(t||{})});if(!r.ok){let l=null;try{l=await r.json()}catch{}const s=typeof(l==null?void 0:l.message)=="string"&&l.message.length?l.message:"Запрос не выполнен.",a=new Error(s);throw a.status=r.status,a.details=l,l&&typeof l.error=="string"&&(a.code=l.error),a}return r.json()}async function mm(e,t){const n=await Vu(),r=await fetch(e,{method:"PUT",headers:{"Content-Type":"application/json","x-csrf-token":n},credentials:"include",body:JSON.stringify(t||{})});if(!r.ok){let l=null;try{l=await r.json()}catch{}const s=typeof(l==null?void 0:l.message)=="string"&&l.message.length?l.message:"�-�����?�?�? �?�� �?�<���?�>�?��?.",a=new Error(s);throw a.status=r.status,a.details=l,l&&typeof l.error=="string"&&(a.code=l.error),a}return r.status===204?null:r.json()}async function Oi(e){const t=await Vu(),n=await fetch(e,{method:"DELETE",headers:{"x-csrf-token":t},credentials:"include"});if(!n.ok){let r=null;try{r=await n.json()}catch{}const l=typeof(r==null?void 0:r.message)=="string"&&r.message.length?r.message:"Запрос не выполнен.",s=new Error(l);throw s.status=n.status,s.details=r,r&&typeof r.error=="string"&&(s.code=r.error),s}return n.status===204?null:n.json()}const hm=f.createContext(null);function ey({children:e}){const{user:t}=St(),n=!!(t!=null&&t.status),r=f.useRef({}),[l,s]=f.useState([]),[a,o]=f.useState([]),[u,c]=f.useState({}),[m,p]=f.useState(0),[h,y]=f.useState(!1),[N,k]=f.useState(!1),[P,g]=f.useState(null),[d,v]=f.useState(null),C=f.useCallback(()=>{s([]),o([]),r.current={},c({}),p(K=>K+1),y(!1),k(!0),g(null),v(null)},[]),b=f.useCallback(async()=>{if(!t||n){C();return}y(!0),k(!1);let K=!0;try{const[G,ae]=await Promise.all([fetch("/api/questions",{credentials:"include"}),fetch("/api/answers",{credentials:"include"})]);if(!K)return;const se=G.ok?await G.json():[],fe=ae.ok?await ae.json():[],R={};fe.forEach(Y=>{Y&&Number.isFinite(Number(Y.questionIndex))&&(R[Number(Y.questionIndex)]=String(Y.text??""))});let z=[],U=[];Array.isArray(se)?z=se:se&&typeof se=="object"&&(z=(Array.isArray(se.questions)?se.questions:[]).map(ue=>typeof ue=="string"?ue:ue&&typeof ue.text=="string"?ue.text:""),U=Array.isArray(se.chapters)?se.chapters.map(ue=>({id:ue.id??null,title:ue.title??"",position:Number(ue.position??0),questionCount:Number(ue.questionCount??0),startIndex:Number(ue.startIndex??0)})):[]),U.length||(U=[{id:null,title:"",position:0,questionCount:z.length,startIndex:0}]),r.current=R,o(U);const le={};Object.keys(R).forEach(Y=>{const ue=Number(Y);if(!Number.isFinite(ue))return;const Ne=R[ue];typeof Ne=="string"&&Ne.trim()&&(le[ue]=!0)}),s(z),c(le),p(Y=>Y+1),g(null)}catch(G){if(console.error("Failed to load questions:",G),!K)return;s([]),o([]),c({}),r.current={},p(ae=>ae+1),v(null)}finally{if(!K)return;y(!1),k(!0)}return()=>{K=!1}},[t,n,C]);f.useEffect(()=>{let K;return b().then(G=>{K=G}),()=>{typeof K=="function"&&K()}},[b]);const D=f.useCallback((K,G)=>{const ae=Number(K);if(!Number.isFinite(ae))return;const se=typeof G=="string"?G:"",fe=r.current||{};(fe[ae]??"")!==se&&(fe[ae]=se,r.current=fe,c(z=>{const U=se.trim().length>0,le=z[ae]??!1;if(U===le)return z;const Y={...z};return U?Y[ae]=!0:delete Y[ae],Y}),p(z=>z+1))},[]),w=f.useMemo(()=>l.length?l.reduce((K,G,ae)=>u[ae]?K+1:K,0):0,[u,l]),_=f.useMemo(()=>l.length,[l]),B=f.useMemo(()=>_?Math.round(w/_*100):0,[w,_]),F=f.useCallback(async()=>{if(n)throw new Error("Анкета уже отправлена и недоступна для редактирования.");const K=new Set;l.forEach((se,fe)=>K.add(fe));const G=r.current||{};Object.keys(G).forEach(se=>{const fe=Number(se);Number.isFinite(fe)&&K.add(fe)});const ae=Array.from(K).sort((se,fe)=>se-fe).map(se=>({questionIndex:se,text:G[se]??""}));await jn("/api/answers",{entries:ae}),g(new Date().toISOString())},[l,n,r]),J=f.useCallback(K=>{const G=Number(K);return Number.isFinite(G)?(r.current||{})[G]??"":""},[]),oe=f.useMemo(()=>({questions:l,getAnswer:J,updateAnswer:D,answeredCount:w,totalCount:_,progress:B,saveAnswers:F,loading:h,loaded:N,lastSaved:P,interviewLocked:n,reload:b,answersVersion:m,chapters:a,resumeIndex:d}),[l,J,D,w,_,B,F,h,N,P,n,b,m,a,d]);return f.useEffect(()=>{if(!l.length){v(null);return}let K=null;for(let G=0;G<l.length;G+=1)if(!u[G]){K=G;break}K===null&&(K=l.length-1),v(K)},[l,u]),i.jsx(hm.Provider,{value:oe,children:e})}function vm(){const e=f.useContext(hm);if(!e)throw new Error("useQuestions must be used within QuestionsProvider");return e}const ty="/assets/temp_1-BuUGwm9V.png",rl=[{slug:"custom",title:"Индивидуальный дизайн",subtitle:"Создадим обложку специально под вашу историю",description:"✨ Индивидуальный дизайн активирован. Это дополнительная услуга — мы свяжемся, чтобы уточнить детали и стоимость.",isCustom:!0,gradient:"from-lav to-sky",aliases:["Индивидуальный дизайн — Создадим обложку специально под вашу историю"]},{slug:"temp-1",title:"Нежный архив",subtitle:"Тёплые оттенки и мягкая фактура для семейных историй",image:ty,aliases:["Нежный архив — Тёплые оттенки и мягкая фактура для семейных историй"]},{slug:"temp-2",title:"Современная геометрия",subtitle:"Выразительная композиция и лаконичные линии",image:fm,aliases:["Современная геометрия — Выразительная композиция и лаконичные линии","main_temp"]}];function ny(e){return e?rl.find(t=>t.slug===e)??null:null}function ry(e){if(!e)return null;const t=e.trim().toLowerCase();if(!t)return null;const n=rl.find(l=>{const s=l.title.trim().toLowerCase();return t===s});if(n)return n;const r=rl.find(l=>{const s=l.title.trim().toLowerCase();return t.startsWith(s)});return r||rl.find(l=>Array.isArray(l.aliases)?l.aliases.some(s=>typeof s=="string"&&t===s.trim().toLowerCase()):!1)}function ly(e){if(!e)return null;if(typeof e=="object"&&e!==null){const{slug:n=null,label:r=null,subtitle:l=null}=e;return{slug:n,label:r,subtitle:l}}if(typeof e!="string")return null;try{const n=JSON.parse(e);if(n&&typeof n=="object"){const{slug:r=null,label:l=null,subtitle:s=null}=n;if(r||l)return{slug:r,label:l,subtitle:s}}}catch{}const t=e.trim();return t?{slug:null,label:t,subtitle:null}:null}function Qu(e){const t=ly(e);if(!t)return{slug:null,title:null,subtitle:null,template:null,label:null};let n=t.slug?ny(t.slug):null;!n&&t.label&&(n=ry(t.label));let r=t.subtitle??(n==null?void 0:n.subtitle)??null;if(!t.subtitle&&t.label){const l=t.label.split("—");if(l.length>1){const s=l.slice(1).join("—").trim();s.length&&(r=s)}}return{slug:t.slug??(n==null?void 0:n.slug)??null,title:(n==null?void 0:n.title)??(t.label?t.label.split("—")[0].trim():null),subtitle:r,template:n}}function sy(){var k,P,g;const{user:e}=St(),{loaded:t,loading:n,totalCount:r,answeredCount:l,interviewLocked:s}=vm(),a=e!=null&&e.name?`Добро пожаловать, ${e.name}`:"Добро пожаловать",o=t&&r>0,u=o&&!s?`Ответов: ${l} из ${r}`:null,c=o&&!s,m=n||!t,p={slug:((k=e==null?void 0:e.cover)==null?void 0:k.slug)??(e==null?void 0:e.coverSlug)??null,label:((P=e==null?void 0:e.cover)==null?void 0:P.label)??(e==null?void 0:e.coverTitle)??(e==null?void 0:e.coverLabel)??null,subtitle:((g=e==null?void 0:e.cover)==null?void 0:g.subtitle)??(e==null?void 0:e.coverSubtitle)??null},h=Qu(p),y=h.template,N=!!h.title;return i.jsxs("div",{children:[i.jsx(Mr,{}),i.jsxs("section",{className:"container mx-auto px-4 mt-4 grid gap-4 md:grid-cols-[280px_1fr] items-start",children:[i.jsxs("aside",{className:"paper p-4 space-y-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"font-serif text-[clamp(1.4rem,3.2vw,2rem)]",children:a}),i.jsx("p",{className:"text-muted",children:"Здесь собрана основная информация о вашем проекте. При необходимости вы всегда можете перейти к заполнению вопросов."})]}),i.jsxs("div",{className:"border-t border-dashed border-line pt-4 space-y-2",children:[i.jsx("div",{className:"font-semibold",children:"Обложка"}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[i.jsx("div",{className:"w-[110px] h-[150px] rounded-[16px] overflow-hidden shadow-tiny border border-line bg-gradient-to-br from-lav to-sky",children:y!=null&&y.image?i.jsx("img",{src:y.image,alt:h.title??"Выбранный шаблон обложки",className:"h-full w-full object-cover"}):i.jsx("div",{className:"grid h-full place-items-center px-3 text-center text-sm text-white/90",children:N?h.title:"Шаблон не выбран"})}),i.jsxs("div",{className:"space-y-1 min-w-[200px]",children:[i.jsx("div",{className:"font-semibold",children:h.title??"Обложка ещё не выбрана"}),i.jsx("div",{className:"text-muted text-sm",children:h.subtitle??"Выберите шаблон, чтобы мы могли подготовить обложку."}),i.jsx(Tt,{className:"btn mt-2",to:"/covers",children:N?"Изменить обложку":"Выбрать обложку"})]})]})]}),(e==null?void 0:e.email)&&i.jsxs("div",{className:"border-t border-dashed border-line pt-4 space-y-1",children:[i.jsx("div",{className:"font-semibold",children:"Учётная запись"}),i.jsxs("div",{className:"text-muted text-sm",children:["Email: ",e.email]}),(e==null?void 0:e.createdAt)&&i.jsxs("div",{className:"text-muted text-sm",children:["Вы с нами с"," ",new Date(e.createdAt).toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric"})]})]})]}),i.jsxs("main",{className:"paper p-4 space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"font-serif text-xl",children:"Ваш проект"}),i.jsx("p",{className:"text-muted",children:"Здесь отображаются актуальные данные по интервью."})]}),m?i.jsx("div",{className:"text-center text-muted py-10",children:"Загружаем информацию..."}):s?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-start gap-3 p-4 border border-line rounded-[14px] bg-[rgba(255,255,255,.65)]",children:[i.jsx("span",{className:"text-xl","aria-hidden":"true",children:"✅"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold",children:"Ответы отправлены редакции"}),i.jsx("div",{className:"text-muted",children:"Мы изучим ваши материалы и свяжемся, если потребуются уточнения. Следите за статусом проекта на итоговой странице."})]})]}),i.jsx(Tt,{className:"btn",to:"/complete",children:"Открыть итоговую страницу"})]}):c?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-start gap-3 p-4 border border-line rounded-[14px] bg-[rgba(255,255,255,.65)]",children:[i.jsx("span",{className:"text-xl","aria-hidden":"true",children:"✍️"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold",children:"Вопросы готовы к заполнению"}),i.jsx("div",{className:"text-muted",children:"Вы можете отвечать в удобном темпе. Все изменения сохраняются на странице вопросов."}),u&&i.jsx("div",{className:"text-muted text-sm mt-2",children:u})]})]}),i.jsx(Tt,{className:"btn primary",to:"/qa",children:"Перейти к вопросам"})]}):i.jsxs("div",{className:"flex items-start gap-3 p-4 border border-line rounded-[14px] bg-[rgba(255,255,255,.65)]",children:[i.jsx("span",{className:"text-xl","aria-hidden":"true",children:"⏳"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold",children:"Вопросы ещё не назначены"}),i.jsx("div",{className:"text-muted",children:"Как только редакция подготовит список вопросов, мы отправим уведомление и вы сможете перейти к заполнению."})]})]})]})]}),i.jsx(Dr,{})]})}function gm({value:e=0}){const t=Math.max(0,Math.min(100,e));return i.jsx("div",{className:"h-[10px] bg-[#efe7dc] rounded-full overflow-hidden border border-line",children:i.jsx("span",{className:"block h-full bg-gradient-to-r from-gold to-accent",style:{width:`${t}%`}})})}function iy(){return i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("div",{className:"font-serif text-[clamp(1.4rem,3.4vw,2rem)]",children:"Вопросы пока не назначены."}),i.jsx("div",{className:"text-muted",children:"Мы подготовим перечень и отправим уведомление, как только интервью будет готово к заполнению."})]})}const ay=1500,oy=4e3,uy=4e3,Nd="~30 минут";function xm(e,t){return e&&e.id!==void 0&&e.id!==null?String(e.id):`index-${t}`}function xn(e,t){if(t<=0)return 0;const n=Number(e);return Number.isFinite(n)?Math.min(Math.max(Math.floor(n),0),t-1):0}function cy(e,t){const n=Math.max(0,t),l=[...Array.isArray(e)?e:[]].sort((a,o)=>{const u=Number.isFinite(Number(a==null?void 0:a.position))?Number(a.position):Number((a==null?void 0:a.startIndex)??0),c=Number.isFinite(Number(o==null?void 0:o.position))?Number(o.position):Number((o==null?void 0:o.startIndex)??0);return u-c});let s=0;return l.map((a,o)=>{const u=Number.isFinite(Number(a==null?void 0:a.startIndex))?Math.max(0,Math.floor(Number(a.startIndex))):s,c=Number.isFinite(Number(a==null?void 0:a.questionCount))?Math.max(0,Math.floor(Number(a.questionCount))):0,m=Math.max(0,n-s),p=c>0?Math.min(c,m):0;let h=u;if(p>0){const N=Math.max(0,n-p);h=Math.min(Math.max(h,s),N)}else h=Math.min(Math.max(h,s),n);let y=p>0?h+p-1:h-1;if(p>0&&n>0){const N=n-1;y>N&&(y=N,h=Math.max(0,y-p+1))}return s=p>0?y+1:Math.max(s,h),{...a,__idx:o,key:xm(a,o),title:typeof(a==null?void 0:a.title)=="string"?a.title.trim():"",start:h,end:y,count:p,originalStartIndex:u}})}function dy(e,t){const n=Math.max(0,e),r=new Array(n).fill(-1);return t.forEach((l,s)=>{const a=Number.isFinite(l==null?void 0:l.count)?Math.max(0,l.count):0,o=Number.isFinite(l==null?void 0:l.start)?Math.max(0,Math.floor(l.start)):0,u=Number.isFinite(l==null?void 0:l.end)?Math.max(o,Math.floor(l.end)):o+a-1;if(!(a<=0||u<o))for(let c=o;c<=u&&c<n;c+=1)r[c]=s}),r}function Sd(e){if(Number.isFinite(e==null?void 0:e.count))return Math.max(0,e.count);if(Number.isFinite(e==null?void 0:e.questionCount))return Math.max(0,e.questionCount);const t=Number.isFinite(e==null?void 0:e.start)?e.start:0,n=Number.isFinite(e==null?void 0:e.end)?e.end:t-1;return Math.max(0,Math.floor(n)-Math.floor(t)+1)}function kd(e,t){const n=`Глава ${t+1}.`,r=e!=null&&e.title?e.title:null;return{heading:n,subtitle:r}}function fy(){var fn;const e=cr(),{refreshUser:t,setUser:n,user:r}=St(),{questions:l,chapters:s,getAnswer:a,updateAnswer:o,progress:u,answeredCount:c,totalCount:m,saveAnswers:p,loaded:h,loading:y,interviewLocked:N,answersVersion:k,resumeIndex:P}=vm(),[g,d]=f.useState(0),[v,C]=f.useState(null),[b,D]=f.useState(""),[w,_]=f.useState(null),[B,F]=f.useState(!1),[J,oe]=f.useState(!1),[K,G]=f.useState("idle"),[ae,se]=f.useState(!1),fe=f.useRef(null),R=f.useRef(null),z=f.useRef(null),U=f.useRef(null),le=f.useRef(""),Y=f.useRef(!1),ue=f.useRef(0),Ne=f.useRef(!1),q=l.length,pe=f.useMemo(()=>cy(s,q),[s,q]),Ue=f.useMemo(()=>dy(q,pe),[q,pe]),Z=f.useMemo(()=>v===null?-1:pe.findIndex(A=>A.key===String(v)),[pe,v]),xe=Z>=0?pe[Z]:null,Xe=q>0,ut=xe?Sd(xe):q,ye=xe&&Xe?xn((xe==null?void 0:xe.start)??0,q):0,He=(()=>{if(!Xe)return 0;if(!xe)return Math.max(q-1,0);if(ut===0)return ye;const A=Number.isFinite(Number(xe.end))?Number(xe.end):Number(xe.start??0);return Math.max(ye,xn(A,q))})(),dn=f.useCallback(()=>{R.current&&(clearTimeout(R.current),R.current=null),z.current&&(clearTimeout(z.current),z.current=null),U.current&&(clearTimeout(U.current),U.current=null)},[]);f.useEffect(()=>dn,[dn]),f.useEffect(()=>{if(!q){d(0);return}d(A=>xn(A,q))},[q]),f.useEffect(()=>{if(v===null)return;pe.some(me=>me.key===String(v))||C(null)},[pe,v]),f.useEffect(()=>{if(!q){D(""),le.current="";return}const A=xn(g,q),me=a(A)??"";le.current!==me&&(D(me),le.current=me)},[g,k,a,q]),f.useEffect(()=>{if(v===null)return;const A=fe.current;A&&requestAnimationFrame(()=>{A.focus();const me=A.value.length;A.setSelectionRange(me,me)})},[v,g]),f.useEffect(()=>{if(Ne.current||!h||y)return;if(!pe.length||!q){Ne.current=!0;return}let A=null;if(typeof window<"u"&&(r!=null&&r.id))try{const De=window.localStorage.getItem(`fate:last-position:${r.id}`);if(De){const Je=JSON.parse(De);Je&&Number.isFinite(Number(Je.index))&&(A=Number(Je.index))}}catch{}let me=A;if(me===null&&Number.isFinite(P)&&(me=P),me===null){Ne.current=!0;return}const Pe=xn(me,q),ze=Ue[Pe];if(!Number.isInteger(ze)||ze<0||ze>=pe.length){Ne.current=!0;return}C(pe[ze].key),d(Pe),Ne.current=!0},[h,y,pe,Ue,q,P,r==null?void 0:r.id]),f.useEffect(()=>{if(typeof window>"u"||!(r!=null&&r.id)||!q||v===null)return;const A=xn(g,q);try{window.localStorage.setItem(`fate:last-position:${r.id}`,JSON.stringify({index:A}))}catch{}},[r==null?void 0:r.id,g,q,v]);const kt=f.useCallback((A,me="info")=>{_({message:A,tone:me}),U.current&&clearTimeout(U.current),U.current=window.setTimeout(()=>{_(null),U.current=null},uy)},[]),Ve=f.useCallback(()=>{G("saved"),z.current&&clearTimeout(z.current),z.current=window.setTimeout(()=>{G("idle"),z.current=null},oy)},[]),Zt=f.useCallback(A=>{R.current&&clearTimeout(R.current),R.current=window.setTimeout(async()=>{if(R.current=null,!!Y.current){G("saving");try{await p(),ue.current===A?(Y.current=!1,Ve()):G("dirty")}catch(me){console.error("Failed to auto-save answers",me),G("error")}}},ay)},[p,Ve]),en=f.useCallback((A,me)=>{const Pe=xm(A,me),ze=Number.isFinite(Number(A==null?void 0:A.start))?Number(A.start):Number((A==null?void 0:A.startIndex)??0),De=xn(ze,q||1);C(Pe),d(De)},[q]),mt=f.useCallback(()=>C(null),[]),nt=f.useCallback(()=>d(A=>Math.max(A-1,ye)),[ye]),tn=f.useCallback(()=>d(A=>Math.min(A+1,He)),[He]),nn=f.useCallback(A=>{if(!q)return;const me=A.target.value;D(me),le.current=me;const Pe=xn(g,q);o(Pe,me),ue.current+=1,Y.current=!0;const ze=ue.current;G(De=>De==="saving"?De:"dirty"),Zt(ze)},[g,q,o,Zt]),rt=f.useCallback(async()=>{if(!B){R.current&&(clearTimeout(R.current),R.current=null),F(!0),G("saving");try{await p(),Y.current=!1,Ve(),kt("Ответы сохранены","success")}catch(A){console.error("Failed to save answers",A),G("error"),kt((A==null?void 0:A.message)||"Не удалось сохранить ответы. Попробуйте ещё раз.","error")}finally{F(!1)}}},[B,p,kt,Ve]),ht=f.useCallback(async()=>{if(!J){R.current&&(clearTimeout(R.current),R.current=null),oe(!0),G("saving");try{await p(),await jn("/api/complete"),Y.current=!1,Ve();const A=await t();A&&n(A),kt("Ответы отправлены редакции","success"),e("/complete",{replace:!0})}catch(A){console.error("Failed to complete interview",A),G("error"),kt((A==null?void 0:A.message)||"Не удалось отправить ответы. Попробуйте позже.","error")}finally{oe(!1),se(!1)}}},[J,p,t,n,e,kt,Ve]);if(N)return i.jsx($u,{to:"/complete",replace:!0});const Bt=y&&!h,Mn=q>0,Dn=!Bt&&Mn&&v===null;let qe=null;if(Bt)qe=i.jsx("section",{className:"paper p-6 text-center text-muted",children:"Загружаем вопросы…"});else if(!Mn)qe=i.jsxs("section",{className:"paper p-6 space-y-6 text-center",children:[i.jsx(iy,{}),i.jsx("div",{children:i.jsx(Tt,{className:"btn",to:"/dashboard",children:"Вернуться в кабинет"})})]});else if(Dn)qe=i.jsxs("section",{className:"paper p-6 space-y-6",children:[i.jsxs("div",{className:"space-y-2 text-center",children:[i.jsx("h1",{className:"font-serif text-[clamp(1.6rem,3.6vw,2.2rem)]",children:"Выберите главу"}),i.jsx("p",{className:"text-muted",children:"Ответы распределены по главам. Работайте постепенно — сохраняем черновик автоматически."})]}),pe.length===0?i.jsx("div",{className:"text-center text-muted",children:"Главы ещё не сформированы. Как только редакция подготовит вопросы, они появятся здесь."}):i.jsx("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:pe.map((A,me)=>{const{heading:Pe,subtitle:ze}=kd(A,me),De=Sd(A);return i.jsxs("div",{className:"paper px-4 py-5 flex flex-col gap-4 text-center",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("div",{className:"font-serif text-lg",children:Pe}),ze?i.jsx("div",{className:"text-muted text-sm whitespace-pre-wrap break-words",children:ze}):null]}),i.jsxs("div",{className:"text-muted text-sm",children:["Вопросов: ",De," · ",Nd]}),i.jsx("div",{className:"mt-auto flex justify-center",children:i.jsx("button",{type:"button",className:"btn primary",onClick:()=>en(A,me),children:"Открыть"})})]},A.key)})}),i.jsx("div",{className:"flex justify-center",children:i.jsx(Tt,{className:"btn",to:"/dashboard",children:"Вернуться в кабинет"})})]});else{const A=xn(g,q),me=typeof l[A]=="string"?l[A]:((fn=l[A])==null?void 0:fn.text)??"",Pe=Z>=0?Z+1:A+1,{heading:ze,subtitle:De}=kd(xe,Pe-1),Je=ut>0?Math.max(1,A-ye+1):0;qe=i.jsxs("section",{className:"paper p-6 space-y-6",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[i.jsx("button",{className:"btn",type:"button",onClick:mt,children:"← Ко всем главам"}),i.jsxs("div",{className:"text-sm text-muted",children:["Ответов: ",c," из ",m]})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("h1",{className:"font-serif text-[clamp(1.6rem,3.6vw,2.2rem)]",children:ze}),De?i.jsx("div",{className:"text-muted whitespace-pre-wrap break-words",children:De}):null,i.jsxs("div",{className:"text-muted text-sm",children:["Вопросов в главе: ",ut," · ",Nd]})]}),i.jsx(gm,{value:u}),ut===0?i.jsxs("div",{className:"border border-dashed border-line rounded-[16px] bg-[rgba(255,255,255,.65)] p-6 text-center space-y-2",children:[i.jsx("div",{className:"font-semibold",children:"В этой главе пока нет вопросов"}),i.jsx("div",{className:"text-muted text-sm",children:"Дождитесь, когда редакция добавит вопросы, или выберите другую главу."})]}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[i.jsxs("div",{className:"font-semibold",children:["Вопрос ",Je," из ",ut]}),i.jsxs("div",{className:"text-muted text-sm",children:["Общий номер: ",A+1]})]}),i.jsx("div",{className:"border border-dashed border-line rounded-[16px] bg-[rgba(255,255,255,.75)] p-4 text-[1.05rem] leading-relaxed whitespace-pre-wrap break-words",children:me||"Текст вопроса недоступен."})]}),i.jsx("textarea",{ref:fe,className:"input min-h-[220px] w-full",value:b,onChange:nn,placeholder:"Введите ответ…"}),i.jsx("div",{className:"text-sm text-muted",children:K==="saving"?"Сохраняем черновик…":K==="dirty"?"Есть несохранённые изменения.":K==="saved"?"Черновик сохранён.":K==="error"?"Автосохранение не удалось. Сохраните ответы вручную.":null}),i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[i.jsx("button",{className:"btn",type:"button",onClick:nt,disabled:A<=ye,children:"← Предыдущий вопрос"}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx("button",{className:"btn",type:"button",onClick:rt,disabled:B,children:B?"Сохраняем…":"Сохранить"}),i.jsx("button",{className:"btn danger",type:"button",onClick:()=>se(!0),disabled:J,children:"Отправить ответы"})]}),i.jsx("button",{className:"btn",type:"button",onClick:tn,disabled:A>=He,children:"Следующий вопрос →"})]})]})]})}const vt=w?i.jsx("div",{className:`fixed bottom-6 left-1/2 -translate-x-1/2 px-5 py-3 rounded-[16px] shadow-lg border ${w.tone==="error"?"bg-[#fdecea] border-[#f3b8b5] text-[#8a2a21]":w.tone==="success"?"bg-[#e7f6ee] border-[#b7ddc3] text-[#1f5c3d]":"bg-[rgba(255,255,255,.95)] border-line text-[#2b2a27]"}`,children:w.message}):null;return i.jsxs("div",{children:[i.jsx(Mr,{}),i.jsx("main",{className:"container mx-auto px-4 mt-6 mb-10 space-y-6",children:qe}),i.jsx(Dr,{}),vt,i.jsx(Rr,{open:ae,title:"Отправить ответы редакции?",message:J?"Отправляем ответы…":"После отправки редактирование будет недоступно. Убедитесь, что сохранили все изменения.",confirmLabel:J?"Отправляем…":"Отправить",confirmTone:"primary",busy:J,onConfirm:ht,onCancel:()=>se(!1)})]})}function py(){const e=cr(),{user:t,refreshUser:n}=St(),r=f.useMemo(()=>{var C,b,D;const v={slug:((C=t==null?void 0:t.cover)==null?void 0:C.slug)??(t==null?void 0:t.coverSlug)??null,label:((b=t==null?void 0:t.cover)==null?void 0:b.label)??(t==null?void 0:t.coverTitle)??(t==null?void 0:t.coverLabel)??null,subtitle:((D=t==null?void 0:t.cover)==null?void 0:D.subtitle)??(t==null?void 0:t.coverSubtitle)??null};return Qu(v)},[t==null?void 0:t.cover,t==null?void 0:t.coverSlug,t==null?void 0:t.coverTitle,t==null?void 0:t.coverLabel,t==null?void 0:t.coverSubtitle]),[l,s]=f.useState(r.slug),[a,o]=f.useState(!1),[u,c]=f.useState(!1),[m,p]=f.useState(""),[h,y]=f.useState(!1);f.useEffect(()=>{s(r.slug)},[r.slug]);const N=f.useMemo(()=>rl.find(v=>v.slug===l)??null,[l]),k=f.useMemo(()=>N?N.subtitle?`${N.title} — ${N.subtitle}`:N.title:null,[N]),P=async v=>{if(u)return;const C=!!v.isCustom;y(C),c(!0),p("");try{await jn("/api/cover",{slug:v.slug,label:v.title,subtitle:v.subtitle??null}),s(v.slug),C&&await new Promise(b=>setTimeout(b,2200)),await n(),o(!0)}catch(b){console.error("Failed to save cover template",b),p("Не удалось сохранить обложку. Попробуйте ещё раз позже.")}finally{c(!1)}},g=()=>{u||(y(!1),o(!1))},d=()=>{y(!1),o(!1),typeof window<"u"&&window.history.length>1?e(-1):e("/dashboard")};return i.jsxs("div",{className:"cover-page",children:[i.jsx(Mr,{}),i.jsx(Rr,{open:a,title:"Обложка выбрана",message:i.jsxs("div",{className:"space-y-3 text-muted leading-relaxed",children:[k?i.jsxs("p",{children:["Мы сохранили шаблон"," ",i.jsx("span",{className:"font-medium text-[#5b5246]",children:k}),"."]}):null,i.jsx("p",{children:"Вы всегда можете изменить выбор позже на этой странице."})]}),cancelLabel:"Остаться здесь",confirmLabel:"Назад в кабинет",onCancel:g,onConfirm:d}),i.jsx("div",{className:"topbar",children:i.jsx("div",{className:"container mx-auto px-4 py-3 text-muted",children:"Выберите шаблон обложки для своего проекта"})}),i.jsxs("section",{className:"container mx-auto px-4 mt-4 space-y-4",children:[m&&i.jsx("div",{className:"card-glass px-4 py-3 text-sm text-[#a23a2f]",children:m}),i.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:rl.map(v=>{const C=v.slug===l,b=!!v.isCustom,D=b&&h;return i.jsxs("label",{className:`cover cover-card transition-transform duration-200 ${u?"pointer-events-none":""} ${C?"ring-4 ring-[#d0b8a8]/80 ring-offset-2":""} ${b?"cover-card--custom":""} ${D?"cover-card--flipped":""}`,children:[i.jsx("input",{type:"radio",name:"cover",className:"cover-input absolute inset-0 opacity-0 cursor-pointer",onChange:()=>P(v),disabled:u,"aria-label":`Выбрать обложку ${v.title}`}),i.jsxs("div",{className:"cover-outer",children:[i.jsxs("div",{className:`cover-face cover-front ${b?`bg-gradient-to-br ${v.gradient}`:""}`,style:v.image?{backgroundImage:`url(${v.image})`,backgroundSize:"cover",backgroundPosition:"center"}:void 0,children:[i.jsx("span",{className:"tag",children:v.title}),i.jsx("div",{className:"meta font-serif",children:v.subtitle})]}),i.jsxs("div",{className:`cover-face cover-back ${b?`bg-gradient-to-br ${v.gradient}`:""} ${b?"cover-face--center":""}`,style:v.image?{backgroundImage:`url(${v.image})`,backgroundSize:"cover",backgroundPosition:"center"}:void 0,children:[!b&&i.jsx("span",{className:"tag",children:v.title}),i.jsx("div",{className:`meta font-serif ${b?"meta--center":""}`,children:b?i.jsx("span",{className:"cover-copy",children:v.description}):v.subtitle})]}),i.jsx("span",{className:"cover-spine","aria-hidden":"true"}),i.jsx("span",{className:"cover-edge","aria-hidden":"true"})]})]},v.slug)})})]}),i.jsx(Dr,{})]})}const ym={in_review:"Редакция изучает материалы",in_design:"Дизайн и вёрстка",printing:"Печать тиража",ready:"Готово к выдаче",shipped:"Отправлено",delivered:"Доставлено"};Object.entries(ym).map(([e,t])=>({value:e,label:t}));function my(e){return e?ym[e]??null:null}function hy(){const{user:e,refreshUser:t}=St(),n=!!(e!=null&&e.ordered),r=(e==null?void 0:e.statusLabel)??my(e==null?void 0:e.status);f.useEffect(()=>{t()},[t]);const l=n?"Заказ подтверждён":"Ожидает подтверждения",s=n?"Мы уже работаем над вашей книгой и будем обновлять статус по мере продвижения.":"Подтвердите заказ, чтобы мы могли перейти к подготовке книги.",a=r?`Этап проекта: ${r}.`:"Статус проекта появится, как только редакция начнёт работу.";return i.jsxs("div",{children:[i.jsx(Mr,{}),i.jsx("div",{className:"topbar",children:i.jsx("div",{className:"container mx-auto px-4 py-3 text-muted",children:"Интервью отправлено редакции"})}),i.jsx("section",{className:"container mx-auto px-4 py-6",children:i.jsxs("div",{className:"paper p-5 space-y-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"font-serif text-[1.6rem] mb-1",children:"Спасибо! Мы получили ваши ответы."}),i.jsx("p",{className:"text-muted",children:"Редакционная команда уже приступила к подготовке рукописи. Если появятся дополнительные вопросы, куратор свяжется с вами."})]}),i.jsx("hr",{className:"hairline"}),i.jsxs("div",{children:[i.jsx("h3",{className:"mb-2",children:"Что будет дальше"}),i.jsxs("div",{className:"grid md:grid-cols-[160px_1fr] gap-3 items-center",children:[i.jsx("div",{className:"cover bg-gradient-to-br from-blush to-lav w-[160px]",children:i.jsx("div",{className:"meta",children:"Обложка: выбрана в кабинете"})}),i.jsx("p",{className:"text-muted m-0",children:"Мы соберём текст, подготовим редакторский конспект и передадим материалы дизайнеру. После утверждения макета организуем печать тиража."})]})]}),i.jsx("hr",{className:"hairline"}),i.jsxs("div",{children:[i.jsx("h3",{className:"mb-2",children:"Готовность интервью"}),i.jsx(gm,{value:100}),i.jsx("p",{className:"mt-2",children:"100% вопросов заполнено — дальше команда Fate ведёт работу над книгой и будет держать вас в курсе."})]}),i.jsx("hr",{className:"hairline"}),i.jsxs("div",{children:[i.jsx("h3",{className:"mb-2",children:"Статус производства"}),i.jsxs("div",{className:"status",children:[i.jsx("span",{className:"text-lg","aria-hidden":"true",children:"ℹ️"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold",children:l}),i.jsx("div",{className:"text-muted",children:s}),i.jsx("div",{className:"text-muted mt-1",children:a})]})]}),i.jsx("p",{className:"text-muted mt-2",children:"(Эта страница всегда доступна в кабинете, чтобы вы могли отслеживать ход работы и обновления проекта.)"})]})]})}),i.jsx(Dr,{})]})}function vy(){const{adminLogin:e}=St(),t=cr(),n=cn(),[r,l]=f.useState(""),[s,a]=f.useState(""),[o,u]=f.useState(""),[c,m]=f.useState(""),p=async h=>{var y,N;h.preventDefault();try{await e(r.trim(),s,o.trim()),t(((N=(y=n.state)==null?void 0:y.from)==null?void 0:N.pathname)||"/admin",{replace:!0})}catch{m("Не удалось войти. Проверьте данные и попробуйте снова.")}};return i.jsx("section",{className:"min-h-[100dvh] grid place-items-center py-12 px-4",children:i.jsxs("div",{className:"paper w-[min(420px,92vw)] p-6",children:[i.jsx("h1",{className:"font-serif text-2xl mb-2",children:"Вход в админ-панель"}),i.jsxs("form",{onSubmit:p,className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block mb-1",htmlFor:"admin-email",children:"Электронная почта"}),i.jsx("input",{id:"admin-email",className:"input",value:r,onChange:h=>l(h.target.value),placeholder:"admin@example.com",autoComplete:"email"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block mb-1",htmlFor:"admin-password",children:"Пароль"}),i.jsx(Bu,{id:"admin-password",value:s,onChange:h=>a(h.target.value),autoComplete:"current-password"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block mb-1",htmlFor:"admin-secret",children:"Секретный ключ"}),i.jsx("input",{id:"admin-secret",className:"input",value:o,onChange:h=>u(h.target.value),placeholder:"ADMIN_SECRET_KEY",autoComplete:"one-time-code"})]}),c&&i.jsx("div",{className:"text-red-600",children:c}),i.jsx("div",{className:"flex gap-2",children:i.jsx("button",{className:"btn primary",type:"submit",children:"Войти"})})]})]})})}function gy(){return i.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:[i.jsxs("defs",{children:[i.jsxs("linearGradient",{id:"clientsGradientHead",x1:"6",y1:"4",x2:"12",y2:"14",gradientUnits:"userSpaceOnUse",children:[i.jsx("stop",{stopColor:"#C084FC"}),i.jsx("stop",{offset:"1",stopColor:"#7C3AED"})]}),i.jsxs("linearGradient",{id:"clientsGradientBody",x1:"5",y1:"12",x2:"14",y2:"22",gradientUnits:"userSpaceOnUse",children:[i.jsx("stop",{stopColor:"#A855F7"}),i.jsx("stop",{offset:"1",stopColor:"#5B21B6"})]}),i.jsxs("linearGradient",{id:"clientsGradientBooks",x1:"4",y1:"17",x2:"20",y2:"21",gradientUnits:"userSpaceOnUse",children:[i.jsx("stop",{stopColor:"#FDE68A"}),i.jsx("stop",{offset:"1",stopColor:"#FDBA74"})]})]}),i.jsx("circle",{cx:"8.4",cy:"8",r:"2.9",fill:"url(#clientsGradientHead)"}),i.jsx("circle",{cx:"14.9",cy:"9",r:"2.4",fill:"#A855F7",opacity:"0.85"}),i.jsx("path",{d:"M4.5 18.5c1-2.8 3.3-4.6 6-4.6s5 1.8 6 4.6",fill:"url(#clientsGradientBody)"}),i.jsx("path",{d:"M6 19.2h5.5",stroke:"#EDE9FE",strokeWidth:"1.1",strokeLinecap:"round",opacity:"0.8"}),i.jsx("path",{d:"M13.5 18.6c.6-1.7 2.1-2.7 3.7-2.7",stroke:"#C4B5FD",strokeWidth:"1",strokeLinecap:"round",opacity:"0.8"}),i.jsx("rect",{x:"4.2",y:"19",width:"6.2",height:"1.9",rx:"0.8",fill:"url(#clientsGradientBooks)"}),i.jsx("rect",{x:"11.2",y:"19.4",width:"6.8",height:"1.6",rx:"0.7",fill:"#F97316",opacity:"0.85"}),i.jsx("path",{d:"M5.3 19.8h3.2",stroke:"#B45309",strokeWidth:"0.8",strokeLinecap:"round",opacity:"0.65"})]})}function xy(){return i.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:[i.jsxs("defs",{children:[i.jsxs("linearGradient",{id:"templatesPaper",x1:"5",y1:"4",x2:"16",y2:"20",gradientUnits:"userSpaceOnUse",children:[i.jsx("stop",{stopColor:"#DDD6FE"}),i.jsx("stop",{offset:"1",stopColor:"#C7D2FE"})]}),i.jsxs("linearGradient",{id:"templatesTab",x1:"6",y1:"6",x2:"18",y2:"8",gradientUnits:"userSpaceOnUse",children:[i.jsx("stop",{stopColor:"#A855F7"}),i.jsx("stop",{offset:"1",stopColor:"#6366F1"})]}),i.jsxs("linearGradient",{id:"templatesBook",x1:"5",y1:"16",x2:"19",y2:"22",gradientUnits:"userSpaceOnUse",children:[i.jsx("stop",{stopColor:"#F3F4FF"}),i.jsx("stop",{offset:"1",stopColor:"#E0E7FF"})]})]}),i.jsx("rect",{x:"5",y:"4.5",width:"12.5",height:"14.5",rx:"2",fill:"url(#templatesPaper)"}),i.jsx("path",{d:"M7 7h8.5",stroke:"url(#templatesTab)",strokeWidth:"1.6",strokeLinecap:"round"}),i.jsx("path",{d:"M7 10.2h9.5",stroke:"#A78BFA",strokeWidth:"1.2",strokeLinecap:"round",opacity:"0.85"}),i.jsx("path",{d:"M7 13.4h6.8",stroke:"#8B5CF6",strokeWidth:"1.2",strokeLinecap:"round",opacity:"0.85"}),i.jsx("rect",{x:"4",y:"16.8",width:"15.6",height:"3.2",rx:"1.3",fill:"url(#templatesBook)"}),i.jsx("path",{d:"M6 18.2h4",stroke:"#6366F1",strokeWidth:"1",strokeLinecap:"round",opacity:"0.75"}),i.jsx("path",{d:"M12.5 18.2h4.5",stroke:"#6366F1",strokeWidth:"1",strokeLinecap:"round",opacity:"0.55"}),i.jsx("rect",{x:"13.6",y:"5.2",width:"4.8",height:"5",rx:"1.2",fill:"#C084FC",opacity:"0.6"})]})}function yy(){return i.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:[i.jsxs("defs",{children:[i.jsxs("radialGradient",{id:"settingsGlow",cx:"50%",cy:"40%",r:"70%",children:[i.jsx("stop",{offset:"0%",stopColor:"#F5F5F5"}),i.jsx("stop",{offset:"70%",stopColor:"#D1D5DB"}),i.jsx("stop",{offset:"100%",stopColor:"#9CA3AF"})]}),i.jsxs("linearGradient",{id:"settingsGear",x1:"8",y1:"8",x2:"16",y2:"16",gradientUnits:"userSpaceOnUse",children:[i.jsx("stop",{stopColor:"#FFFFFF"}),i.jsx("stop",{offset:"1",stopColor:"#D1D5DB"})]}),i.jsx("filter",{id:"settingsShadow",x:"-20%",y:"-20%",width:"140%",height:"140%",children:i.jsx("feDropShadow",{dx:"0",dy:"1",stdDeviation:"1.2",floodColor:"#4B5563",floodOpacity:"0.35"})})]}),i.jsx("circle",{cx:"12",cy:"12",r:"9.4",fill:"url(#settingsGlow)",filter:"url(#settingsShadow)"}),i.jsx("path",{d:"M12 9.2a2.8 2.8 0 1 1 0 5.6 2.8 2.8 0 0 1 0-5.6Zm0-3.4 1 1.9 2.1-.2.3 2.1 1.8.9-.9 1.9.9 1.9-1.8.9-.3 2.1-2.1-.2-1 1.9-1-1.9-2.1.2-.3-2.1-1.8-.9.9-1.9-.9-1.9 1.8-.9.3-2.1 2.1.2 1-1.9Z",fill:"url(#settingsGear)",stroke:"#6B7280",strokeWidth:"0.8",strokeLinecap:"round",strokeLinejoin:"round"})]})}const Aa={clients:i.jsx(gy,{}),templates:i.jsx(xy,{}),settings:i.jsx(yy,{})};function Ua({to:e,end:t,icon:n,children:r}){return i.jsxs(Bx,{to:e,end:t,className:({isActive:l})=>["admin-nav__item flex items-center gap-3 px-3 py-2 rounded-[14px] border transition",l?"bg-white/80 border-line shadow-tiny":"border-transparent hover:bg-white/50"].join(" "),children:[n?i.jsx("span",{className:"flex h-6 w-6 items-center justify-center text-[1.1rem]","aria-hidden":"true",children:n}):null,i.jsx("span",{className:"font-medium",children:r})]})}function wy(){const{logout:e}=St(),[t,n]=f.useState(!1),r=()=>{e(),n(!1)};return i.jsxs("div",{className:"admin-layout min-h-screen bg-[radial-gradient(90rem_60rem_at_-10%_-10%,#F1E6D6_0%,transparent_60%),_radial-gradient(80rem_60rem_at_110%_10%,#F7EDE4_0%,transparent_55%),_#F5EFE6]",children:[i.jsxs("div",{className:"admin-shell container mx-auto px-4 py-6 grid gap-6 md:grid-cols-[260px_1fr]",children:[i.jsxs("aside",{className:"admin-nav paper p-4 h-min sticky top-6",children:[i.jsxs("div",{className:"admin-nav__header flex flex-col gap-2 mb-3",children:[i.jsx(na,{className:"h-10 max-w-[50px]"}),i.jsx("div",{className:"font-serif text-[1.2rem]",children:"Админка"})]}),i.jsxs("nav",{className:"admin-nav__list space-y-2",children:[i.jsx(Ua,{to:"/admin",end:!0,icon:Aa.clients,children:"Клиенты"}),i.jsx(Ua,{to:"/admin/templates",icon:Aa.templates,children:"Шаблоны"}),i.jsx(Ua,{to:"/admin/settings",icon:Aa.settings,children:"Настройки"})]}),i.jsx("hr",{className:"hairline admin-nav__divider"}),i.jsx("button",{className:"btn w-full admin-nav__logout",onClick:()=>n(!0),children:"Выйти"})]}),i.jsx("main",{className:"admin-content space-y-4",children:i.jsx(am,{})})]}),i.jsx(Rr,{open:t,title:"Выйти из аккаунта?",message:"После выхода нужно будет снова войти, чтобы продолжить работу в админ панели.",confirmLabel:"Выйти",cancelLabel:"Отмена",onConfirm:r,onCancel:()=>n(!1)})]})}function jy(e){if(!e)return i.jsx("span",{className:"text-muted text-sm",children:"не подключен"});const t=e.username&&e.username.length?`@${e.username}`:[e.first_name,e.last_name].filter(Boolean).join(" ").trim()||`ID ${e.id}`,n=[`id: ${e.id}`];return e.phone&&n.push(e.phone),i.jsxs("div",{className:"leading-tight",children:[i.jsx("div",{children:t}),i.jsx("div",{className:"text-xs text-muted",children:n.join(" | ")})]})}function Ny(e){const t=[e.id,e.name,e.email,e.answersCount,e.status,e.ordered?"заказ подтверждён":"ожидает подтверждения"],n=e.telegram;return n&&t.push(n.username,n.first_name,n.last_name,n.phone,n.id&&`id${n.id}`),t.filter(r=>r!=null).join(" ").toLowerCase()}function Sy(){const{user:e}=St(),[t,n]=f.useState([]),[r,l]=f.useState(""),[s,a]=f.useState(null),[o,u]=f.useState(!1),[c,m]=f.useState("");f.useEffect(()=>{fetch("/api/admin/users",{credentials:"include"}).then(d=>d.json()).then(n)},[]);const p=f.useMemo(()=>{const d=r.trim().toLowerCase();return d?t.filter(v=>Ny(v).includes(d)):t},[t,r]),h=r.trim().length?`Найдено: ${p.length} из ${t.length}`:`Всего пользователей: ${t.length}`,y=d=>{a(d),m("")},N=()=>{o||a(null)},k=async()=>{var d;if(!(!s||o)){m("");try{u(!0),await Oi(`/api/admin/users/${s.id}`),n(v=>v.filter(C=>C.id!==s.id)),a(null)}catch(v){console.error("Failed to delete user",v);const C=(d=v==null?void 0:v.details)==null?void 0:d.error;let b="Не удалось удалить пользователя. Попробуйте позже.";C==="CANNOT_DELETE_ADMIN"?b="Нельзя удалить административный аккаунт.":C==="CANNOT_DELETE_SELF"?b="Нельзя удалить собственный аккаунт.":C==="NOT_FOUND"&&(b="Пользователь уже удалён."),m(b)}finally{u(!1)}}},P=s&&typeof s.email=="string"&&s.email.trim().length?` (${s.email.trim()})`:"",g=s?i.jsxs("div",{className:"space-y-3 text-muted leading-relaxed",children:[i.jsx("p",{children:`Удалить аккаунт ${s.name&&s.name.trim().length?s.name:"без имени"}${P}? Это действие необратимо.`}),i.jsx("p",{children:"Будут стерты ответы, вопросы и связанные данные пользователя."}),c&&i.jsx("p",{className:"text-sm text-[#b23a2f]",children:c})]}):null;return i.jsxs("div",{className:"paper p-4 space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[i.jsx("h2",{className:"font-serif text-xl",children:"Пользователи"}),i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i.jsx("span",{className:"text-sm text-muted",children:h}),i.jsx("input",{className:"input w-[260px]",placeholder:"Поиск по имени, email, Telegram или ID",value:r,onChange:d=>l(d.target.value)})]})]}),i.jsx("div",{className:"overflow-auto",children:i.jsxs("table",{className:"w-full border border-line rounded-[14px] overflow-hidden",children:[i.jsx("thead",{className:"bg-[#fffaf2] text-[#6f6457]",children:i.jsxs("tr",{children:[i.jsx("th",{className:"w-[64px] text-left p-3","aria-label":"Действия"}),i.jsx("th",{className:"text-left p-3",children:"Имя"}),i.jsx("th",{className:"text-left p-3",children:"Email"}),i.jsx("th",{className:"text-left p-3",children:"Telegram"}),i.jsx("th",{className:"text-left p-3",children:"Статус заказа"}),i.jsx("th",{className:"text-left p-3",children:"Ответов"}),i.jsx("th",{className:"text-left p-3",children:"Действия"})]})}),i.jsxs("tbody",{children:[p.map(d=>{const v=(e==null?void 0:e.id)===d.id,C=d.isAdmin||v;return i.jsxs("tr",{className:"border-t border-line",children:[i.jsx("td",{className:"p-3",children:i.jsx("button",{type:"button",className:"btn icon-btn danger",onClick:()=>y(d),disabled:C,title:C?"Удаление недоступно для этого аккаунта":"Удалить аккаунт","aria-label":`Удалить ${d.name||"пользователя"}`,children:"🗑️"})}),i.jsx("td",{className:"p-3",children:d.name}),i.jsx("td",{className:"p-3 break-all",children:d.email}),i.jsx("td",{className:"p-3",children:jy(d.telegram)}),i.jsx("td",{className:"p-3",children:d.ordered?"заказ подтверждён":"ожидает подтверждения"}),i.jsx("td",{className:"p-3",children:d.answersCount}),i.jsx("td",{className:"p-3",children:i.jsx(Tt,{className:"btn",to:`/admin/users/${d.id}`,children:"Открыть"})})]},d.id)}),p.length===0&&i.jsx("tr",{children:i.jsx("td",{className:"p-4 text-center text-muted",colSpan:7,children:"Пользователи не найдены. Попробуйте изменить условия поиска."})})]})]})}),i.jsx(Rr,{open:!!s,title:"Удалить аккаунт?",message:g,confirmLabel:"Удалить",cancelLabel:"Отмена",confirmTone:"danger",busy:o,onConfirm:k,onCancel:N})]})}function Ws(e){return(Array.isArray(e)?e:[]).map(t=>typeof t=="string"?t.trim():"").filter(t=>t.length)}const $a=[{value:"",label:"Без статуса"},{value:"in_review",label:"Материалы на редактуре"},{value:"in_design",label:"Вёрстка и дизайн"},{value:"printing",label:"Печать"},{value:"ready",label:"Готово к доставке"},{value:"shipped",label:"Отправлено"},{value:"delivered",label:"Доставлено"}],Cd=4e3,Ba=24*60*60*1e3,Ed=new Intl.DateTimeFormat("ru-RU",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"});function Hs(e){const t=Math.abs(e),n=t%10,r=t%100;return n===1&&r!==11?`${e} день`:n>=2&&n<=4&&(r<10||r>=20)?`${e} дня`:`${e} дней`}function Fl(e){const t=Math.abs(e),n=t%10,r=t%100;return n===1&&r!==11?"вопрос":n>=2&&n<=4&&(r<10||r>=20)?"вопроса":"вопросов"}function _d(e,t,n){const r=Number.isFinite(Number(t))?Number(t):0,l=Number.isFinite(Number(n==null?void 0:n.questionCount))?Number(n.questionCount):null;return e==="replace"?l===0?"Глава очищена: вопросов нет.":l!=null?`Глава обновлена: сохранено ${l} ${Fl(l)}.`:"Глава обновлена.":r===0?l==null?"Новые вопросы не добавлены.":`Новые вопросы не добавлены. В главе по-прежнему ${l} ${Fl(l)}.`:l==null?`Добавлено ${r} ${Fl(r)}.`:`Добавлено ${r} ${Fl(r)}. В главе теперь ${l} ${Fl(l)}.`}function Ks(e,t){return e?e.code==="DUPLICATE_QUESTION"?"Не удалось сохранить: конфликт позиций вопросов. Обновите список и попробуйте снова.":e.code==="INVALID_REFERENCE"?"Выбранная глава недоступна. Обновите данные и попробуйте ещё раз.":typeof e.message=="string"&&e.message.trim()?e.message:t:t}const Ol=200,ky=500;function Cy(){const{id:e}=ox(),[t,n]=f.useState(null),[r,l]=f.useState(""),[s,a]=f.useState(!1),[o,u]=f.useState(!1),c=f.useRef(null),[m,p]=f.useState(null),h=f.useRef(null),[y,N]=f.useState(!1),[k,P]=f.useState(null),g=f.useRef(null),[d,v]=f.useState("append"),[C,b]=f.useState(!1),[D,w]=f.useState("manual"),[_,B]=f.useState(null),[F,J]=f.useState(""),[oe,K]=f.useState(""),[G,ae]=f.useState(!1),[se,fe]=f.useState(null),[R,z]=f.useState(""),[U,le]=f.useState(!1),[Y,ue]=f.useState(null),[Ne,q]=f.useState(null),[pe,Ue]=f.useState(!1),[Z,xe]=f.useState(null),[Xe,ut]=f.useState([]),[ye,He]=f.useState("pick"),[dn,kt]=f.useState(null),[Ve,Zt]=f.useState([]),[en,mt]=f.useState([]),[nt,tn]=f.useState(!1),[nn,rt]=f.useState(null),[ht,Bt]=f.useState(!1),[Mn,Dn]=f.useState(null),[qe,vt]=f.useState(!1),[fn,A]=f.useState(null),[me,Pe]=f.useState(""),[ze,De]=f.useState([]),[Je,gl]=f.useState(!1),[xl,pn]=f.useState(null),[Ns,dr]=f.useState(!1),[mn,yl]=f.useState(null),[Ss,ks]=f.useState(!1);dm(C||qe);const Fn=f.useMemo(()=>{var L,O,ee;const j={slug:((L=t==null?void 0:t.cover)==null?void 0:L.slug)??(t==null?void 0:t.coverSlug)??null,label:((O=t==null?void 0:t.cover)==null?void 0:O.label)??(t==null?void 0:t.coverTitle)??(t==null?void 0:t.coverLabel)??null,subtitle:((ee=t==null?void 0:t.cover)==null?void 0:ee.subtitle)??(t==null?void 0:t.coverSubtitle)??null};return Qu(j)},[t==null?void 0:t.cover,t==null?void 0:t.coverSlug,t==null?void 0:t.coverTitle,t==null?void 0:t.coverLabel,t==null?void 0:t.coverSubtitle]),hn=Fn.template,On=f.useCallback((j,L="info")=>{p({message:j,tone:L}),h.current&&clearTimeout(h.current),h.current=window.setTimeout(()=>{p(null),h.current=null},Cd)},[]),Vt=f.useCallback((j,L="success")=>{P({message:j,tone:L}),g.current&&clearTimeout(g.current),g.current=window.setTimeout(()=>{P(null),g.current=null},Cd)},[]);f.useEffect(()=>()=>{h.current&&(clearTimeout(h.current),h.current=null),g.current&&(clearTimeout(g.current),g.current=null)},[]);const ra=f.useMemo(()=>Ws(en),[en]);f.useEffect(()=>{fetch(`/api/admin/users/${e}`,{credentials:"include"}).then(j=>j.json()).then(j=>{n(j),l(j.status||""),a(!!j.ordered)}).catch(j=>{console.error("Failed to load user",j)})},[e]);const x=f.useCallback(async()=>{const j=await fetch(`/api/admin/users/${e}`,{credentials:"include"}).then(L=>L.json());n(j),l(j.status||""),a(!!j.ordered)},[e]),S=async()=>{await jn(`/api/admin/users/${e}/order`,{ordered:s}),await x()},E=f.useCallback(async()=>{if(!y){N(!0);try{await jn(`/api/admin/users/${e}/status`,{status:r||null}),await x(),On("Статус обновлён","success")}catch(j){console.error("Failed to update user status",j),On((j==null?void 0:j.message)||"Не удалось сохранить статус. Попробуйте ещё раз.","error")}finally{N(!1)}}},[y,e,r,x,On]),T=f.useMemo(()=>Array.isArray(t==null?void 0:t.chapters)?t.chapters:[],[t]),I=f.useMemo(()=>$a.find(j=>j.value===r)||$a[0],[r]);f.useEffect(()=>{const j=O=>{c.current&&!c.current.contains(O.target)&&u(!1)},L=O=>{O.key==="Escape"&&u(!1)};return document.addEventListener("mousedown",j),document.addEventListener("keydown",L),()=>{document.removeEventListener("mousedown",j),document.removeEventListener("keydown",L)}},[]);const X=f.useCallback(()=>{u(j=>!j)},[]),te=f.useCallback(j=>{l(j),u(!1)},[]);f.useEffect(()=>{u(!1)},[r]);const Q=m?i.jsx("div",{className:`fixed bottom-6 left-1/2 -translate-x-1/2 px-5 py-3 rounded-[16px] shadow-lg border ${m.tone==="error"?"bg-[#fdecea] border-[#f3b8b5] text-[#8a2a21]":m.tone==="success"?"bg-[#e7f6ee] border-[#b7ddc3] text-[#1f5c3d]":"bg-[rgba(255,255,255,.95)] border-line text-[#2b2a27]"}`,children:m.message}):null;f.useEffect(()=>{if(!T.length){B(null);return}B(j=>j&&T.some(L=>String(L.id)===String(j))?j:T[0].id)},[T]);const W=f.useMemo(()=>_&&T.find(j=>String(j.id)===String(_))||null,[T,_]),$=f.useMemo(()=>_?T.findIndex(j=>String(j.id)===String(_)):-1,[T,_]),H=f.useMemo(()=>T.reduce((j,L)=>!L||!Array.isArray(L.questions)?j:j+L.questions.length,0),[T]),ne=f.useMemo(()=>{if(!(t!=null&&t.interviewLocked)||!Array.isArray(t==null?void 0:t.answers)||t.answers.length===0)return null;let j=null;for(const L of t.answers){if(!L||!L.createdAt)continue;const O=new Date(L.createdAt);Number.isNaN(O.getTime())||(!j||O>j)&&(j=O)}return j},[t==null?void 0:t.answers,t==null?void 0:t.interviewLocked]),re=f.useMemo(()=>{if(!ne)return null;const j=14,L=new Date,O=L.getTime()-ne.getTime(),ee=O>0?Math.floor(O/Ba):0,lt=Math.max(0,j-ee),Qt=new Date(ne.getTime()+j*Ba),Ft=L>Qt,aa=Ft?Math.max(0,Math.floor((L.getTime()-Qt.getTime())/Ba)):0;let Un="green";return ee>=10||Ft?Un="red":ee>=4&&(Un="orange"),{now:L,elapsedDays:ee,remainingDays:lt,deadlineDate:Qt,tone:Un,totalDays:j,overdue:Ft,overdueDays:aa}},[ne]),Fe=f.useMemo(()=>{const j=new Map;return Array.isArray(t==null?void 0:t.answers)&&t.answers.forEach(L=>{const O=Number(L==null?void 0:L.questionIndex);Number.isFinite(O)&&j.set(O,L)}),j},[t==null?void 0:t.answers]),he=f.useCallback((j,L)=>{const O=typeof(j==null?void 0:j.title)=="string"?j.title.trim():"";return O.length?O:`Глава ${L+1}`},[]),de=f.useMemo(()=>{const j=new Set,L=T.map((O,ee)=>{const Qt=(Array.isArray(O==null?void 0:O.questions)?O.questions:[]).map((Ft,aa)=>{const Un=Number(Ft==null?void 0:Ft.index);if(!Number.isFinite(Un))return null;const Es=Fe.get(Un),Hu=typeof(Es==null?void 0:Es.text)=="string"?Es.text.trim():"";return Hu?(j.add(Un),{chapterId:(O==null?void 0:O.id)??`chapter-${ee}`,chapterNumber:ee+1,chapterTitle:he(O,ee),questionIndex:Un,questionNumber:aa+1,questionText:typeof(Ft==null?void 0:Ft.text)=="string"?Ft.text:"",answerText:Hu}):null}).filter(Boolean);return{chapter:O,index:ee,title:he(O,ee),answers:Qt}}).filter(O=>O.answers.length>0);if(Fe.size>j.size){const O=[];Fe.forEach((ee,lt)=>{if(j.has(lt))return;const Qt=typeof(ee==null?void 0:ee.text)=="string"?ee.text.trim():"";Qt&&O.push({chapterId:null,chapterNumber:null,chapterTitle:"Без главы",questionIndex:lt,questionNumber:lt+1,questionText:"",answerText:Qt})}),O.length>0&&L.push({chapter:null,index:Number.MAX_SAFE_INTEGER,title:"Без главы",answers:O})}return L},[T,Fe,he]),Ee=f.useMemo(()=>de.reduce((j,L)=>j+L.answers.length,0),[de]),In=()=>{J(""),K(""),fe(null),ae(!1),z(""),ue(null),w("manual"),v("append"),He("pick"),tn(!1),rt(null),kt(null),Zt([]),mt([]),b(!0)},fr=()=>{b(!1)},Dt=j=>{w(j),j==="template"&&(He("pick"),rt(null),tn(!1),kt(null),Zt([]),mt([]),Ct())},Ct=f.useCallback(async()=>{Ue(!0),xe(null);try{const j=await fetch("/api/admin/templates",{credentials:"include"});if(!j.ok)throw new Error("Не удалось загрузить список шаблонов.");const L=await j.json();ut(Array.isArray(L.templates)?L.templates:[])}catch(j){console.error(j),xe(j.message||"Не удалось загрузить список шаблонов. Попробуйте ещё раз.")}finally{Ue(!1)}},[]),wl=async j=>{if(j.preventDefault(),!_){fe("Выберите главу, чтобы добавить вопросы.");return}const L=F.trim(),O=oe;if(!L&&!O.trim()&&d==="append"){fe("Добавьте хотя бы один вопрос или переключитесь на замену.");return}ae(!0),fe(null);try{const ee=await jn(`/api/admin/users/${e}/questions`,{mode:d,chapterId:_,questions:L?[L]:[],bulk:O});J(""),K(""),await x(),Vt(_d(d,ee==null?void 0:ee.added,ee==null?void 0:ee.chapter),"success")}catch(ee){console.error(ee),fe(Ks(ee,"Не удалось сохранить вопросы. Попробуйте ещё раз."))}finally{ae(!1)}},pr=async j=>{if(j.preventDefault(),!U){le(!0),ue(null);try{const L=await jn(`/api/admin/users/${e}/chapters`,{title:R.trim()||null});z(""),L!=null&&L.id&&B(L.id),await x()}catch(L){console.error(L),ue(L.message||"Не удалось создать главу. Попробуйте ещё раз.")}finally{le(!1)}}},vn=async j=>{if(j!=null&&j.id){rt(null),tn(!0);try{const L=await fetch(`/api/admin/templates/${j.id}`,{credentials:"include"});if(!L.ok)throw new Error("Не удалось открыть шаблон.");const O=await L.json(),ee=Ws(O.questions);kt({id:O.id,title:O.title,description:O.description??null}),Zt(ee),mt(ee),He("preview"),ee.length||rt("В шаблоне нет вопросов.")}catch(L){console.error(L),rt(L.message||"Не удалось открыть шаблон.")}finally{tn(!1)}}},Fr=()=>{mt([...Ve]),rt(null),He("edit")},Or=()=>{const j=Ws(en);Zt(j),mt(j),rt(null),He("preview")},ve=(j,L)=>{mt(O=>{const ee=[...O];return ee[j]=L,ee})},_e=j=>{mt(L=>L.filter((O,ee)=>ee!==j))},zn=()=>{mt(j=>[...j,""])},An=async j=>{if(!_){rt("Выберите главу, чтобы обновить вопросы.");return}const L=Ws(j);if(d==="append"&&L.length===0){rt("Добавьте хотя бы один вопрос или переключитесь на замену.");return}tn(!0),rt(null);try{const O=await jn(`/api/admin/users/${e}/questions`,{mode:d,chapterId:_,questions:L});await x(),He("pick"),kt(null),Zt([]),mt([]),Vt(_d(d,O==null?void 0:O.added,O==null?void 0:O.chapter),"success")}catch(O){console.error(O),rt(Ks(O,"Не удалось применить шаблон. Попробуйте ещё раз."))}finally{tn(!1)}},Oe=async j=>{q(null);try{await Oi(`/api/admin/users/${e}/questions/${j}`),await x(),Vt("Вопрос удалён.","success")}catch(L){console.error(L),q(Ks(L,"Не удалось удалить вопрос. Попробуйте ещё раз."))}},gn=f.useMemo(()=>`answers-${(typeof(t==null?void 0:t.name)=="string"&&t.name.trim()||typeof(t==null?void 0:t.email)=="string"&&t.email.trim()||`user-${e}`).replace(/[\\/:*?"<>|]+/g,"_").slice(0,80)||e}.docx`,[t==null?void 0:t.name,t==null?void 0:t.email,e]),Cs=f.useCallback(async()=>{if(!ht){Bt(!0),Dn(null);try{const j=await fetch(`/api/admin/users/${e}/export/answers`,{credentials:"include"});if(!j.ok){let lt=null;try{lt=await j.json()}catch{}const Qt=new Error(typeof(lt==null?void 0:lt.error)=="string"&&lt.error.length?lt.error:"Не удалось экспортировать файл. Попробуйте ещё раз.");throw Qt.code=lt==null?void 0:lt.error,Qt}const L=await j.blob(),O=window.URL.createObjectURL(L),ee=document.createElement("a");ee.href=O,ee.download=gn,document.body.appendChild(ee),ee.click(),ee.remove(),window.URL.revokeObjectURL(O),Vt("Файл с ответами выгружен.","success")}catch(j){console.error("Failed to export answers",j);const L=Ks(j,"Не удалось экспортировать файл. Попробуйте ещё раз.");Dn(L),Vt(L,"error")}finally{Bt(!1)}}},[ht,e,gn,Vt]),la=j=>{A(j),Pe(j.title||""),De(Array.isArray(j.questions)?j.questions.map(L=>L.text):[]),pn(null),gl(!1),vt(!0)},sa=()=>{vt(!1),A(null),Pe(""),De([]),pn(null)},wm=async j=>{if(j.preventDefault(),!!fn&&!Je){gl(!0),pn(null);try{await mm(`/api/admin/users/${e}/chapters/${fn.id}`,{title:me.trim()||null,questions:ze.filter(L=>L&&L.trim())}),await x(),sa(),Vt("Глава успешно обновлена.","success")}catch(L){console.error(L),pn(L.message||"Не удалось обновить главу. Попробуйте ещё раз.")}finally{gl(!1)}}},jm=(j,L)=>{De(O=>{const ee=[...O];return ee[j]=L,ee})},Nm=j=>{De(L=>L.filter((O,ee)=>ee!==j))},Sm=()=>{De(j=>[...j,""])},km=j=>{yl(j),dr(!0)},Cm=async()=>{if(mn){ks(!0),q(null);try{await Oi(`/api/admin/users/${e}/chapters/${mn.id}`),await x(),Vt("Глава успешно удалена.","success"),dr(!1),yl(null)}catch(j){console.error(j);const L=j.code==="CANNOT_DELETE_LAST_CHAPTER"?"Невозможно удалить последнюю главу.":j.message||"Не удалось удалить главу. Попробуйте ещё раз.";q(L),Vt(L,"error")}finally{ks(!1)}}},Em=()=>{dr(!1),yl(null)};if(!t)return null;const Ke=t.telegram||null,_m=Ke!=null&&Ke.username&&Ke.username.length?`@${Ke.username}`:"-",ia=[Ke==null?void 0:Ke.first_name,Ke==null?void 0:Ke.last_name].filter(Boolean).join(" "),bm=ia&&ia.trim().length?ia.trim():"-",Tm=(Ke==null?void 0:Ke.id)??"-",Pm=(Ke==null?void 0:Ke.phone)??"-",Lm=re?re.tone==="green"?"bg-[#dce6d5] border border-[#c2d6ba] text-[#2f4f2f]":re.tone==="orange"?"bg-[#f6e3cc] border border-[#e4c49b] text-[#7a4f24]":"bg-[#f8d9d6] border border-[#e9b4ac] text-[#7f2d2d]":t.interviewLocked?"bg-[#efe4d8] border border-[#dfc8b5] text-[#6c5b4a]":"bg-[#efe7dd] border border-dashed border-[#d8c9b8] text-[#7a6f64]";let jl="",Nl=null;re&&ne?(re.overdue?jl=`Срок истёк ${re.overdueDays?`${Hs(re.overdueDays)} назад`:"сегодня"}.`:jl=`Завершить до ${Ed.format(re.deadlineDate)} · осталось ${Hs(re.remainingDays)}.`,Nl=`Ответы отправлены ${Ed.format(ne)} · прошло ${Hs(re.elapsedDays)}.`):t.interviewLocked?(jl="Ответы отправлены, ожидается подтверждение даты.",Nl="Цветовая индикация обновится после получения отметки времени."):(jl="Ответы ещё не отправлены пользователем.",Nl="Контроль сроков начнётся после полной отправки ответов.");const Rm=`Общий срок: ${Hs((re==null?void 0:re.totalDays)??14)}.`,Wu=d==="replace"?"Режим: заменить вопросы главы.":"Режим: добавить вопросы к выбранной главе.",Mm=C?i.jsx("div",{className:"modal-backdrop",children:i.jsxs("div",{className:"modal-card w-[min(860px,96vw)] space-y-4",children:[i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("h3",{className:"font-serif text-[1.6rem]",children:"Управление вопросами"}),i.jsx("div",{className:"text-sm text-muted",children:Wu}),C&&k?i.jsx("div",{className:`text-sm ${k.tone==="error"?"text-[#b2563f]":"text-[#1f5c3d]"}`,children:k.message}):null,W?i.jsxs("div",{className:"text-sm",children:["Текущая глава:",i.jsxs("b",{children:[" ",he(W,$>=0?$:0)]})]}):i.jsx("div",{className:"text-sm text-[#b2563f]",children:"Выберите или создайте главу."})]}),i.jsx("button",{className:"btn icon-btn",onClick:fr,children:"X"})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-[240px_1fr]",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"border border-line rounded-[12px] bg-white/70 p-3 space-y-3",children:[i.jsx("div",{className:"text-xs uppercase tracking-wide text-muted",children:"Главы"}),i.jsx("div",{className:"space-y-2 max-h-[240px] overflow-y-auto pr-1",children:T.length===0?i.jsx("div",{className:"text-sm text-muted",children:"Создайте первую главу, чтобы добавить вопросы."}):T.map((j,L)=>{const O=String(j.id)===String(_);return i.jsx("button",{type:"button",className:`w-full text-left btn ${O?"primary":""}`,onClick:()=>B(j.id),children:he(j,L)},j.id)})}),i.jsxs("form",{className:"space-y-2",onSubmit:pr,children:[i.jsx("input",{className:"input",placeholder:"Название главы",value:R,onChange:j=>z(j.target.value),disabled:U}),i.jsx("button",{className:"btn",type:"submit",disabled:U,children:U?"Создаём...":"Создать главу"})]}),Y?i.jsx("div",{className:"text-sm text-[#b2563f]",children:Y}):null]}),i.jsxs("div",{className:"border border-line rounded-[12px] bg-white/70 p-3 space-y-2",children:[i.jsx("div",{className:"text-xs uppercase tracking-wide text-muted",children:"Режим"}),i.jsxs("label",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"radio",name:"chapter-mode",checked:d==="append",onChange:()=>v("append")}),"Добавить к выбранной главе"]}),i.jsxs("label",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"radio",name:"chapter-mode",checked:d==="replace",onChange:()=>v("replace")}),"Заменить вопросы главы"]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("button",{className:`btn ${D==="manual"?"primary":""}`,type:"button",onClick:()=>Dt("manual"),children:"Вручную"}),i.jsx("button",{className:`btn ${D==="template"?"primary":""}`,type:"button",onClick:()=>Dt("template"),children:"Из шаблона"})]}),D==="manual"?i.jsxs("form",{className:"space-y-3",onSubmit:wl,children:[i.jsxs("div",{className:"paper p-4",children:[i.jsx("div",{className:"font-semibold mb-2",children:"Добавить один вопрос"}),i.jsx("input",{className:"input",placeholder:"Введите текст вопроса",value:F,onChange:j=>J(j.target.value),disabled:G}),i.jsx("div",{className:"text-sm text-muted mt-2",children:"Короткие подсказки допустимы, HTML не поддерживается."})]}),i.jsxs("div",{className:"paper p-4",children:[i.jsx("div",{className:"font-semibold mb-2",children:'Добавить несколько вопросов (разделитель "$")'}),i.jsx("textarea",{className:"input min-h-[140px]",placeholder:"Вопрос 1 $ Вопрос 2 $ Вопрос 3",value:oe,onChange:j=>K(j.target.value),disabled:G}),i.jsxs("div",{className:"text-sm text-muted mt-2",children:["Используйте символ ",i.jsx("b",{children:"$"}),", чтобы разделить вопросы."]})]}),se?i.jsx("div",{className:"text-sm text-[#b2563f]",children:se}):null,i.jsx("div",{className:"flex justify-end modal-actions",children:i.jsx("button",{className:"btn primary",type:"submit",disabled:G||!_,children:G?"Сохраняем...":"Сохранить"})})]}):i.jsx("div",{className:"space-y-3",children:ye==="pick"?i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"text-sm text-muted",children:"Выберите шаблон, чтобы загрузить вопросы в главу."}),pe?i.jsx("div",{className:"text-muted text-sm",children:"Загрузка шаблонов..."}):Z?i.jsx("div",{className:"text-sm text-[#b2563f]",children:Z}):i.jsx("div",{className:"space-y-2 max-h-[55vh] overflow-y-auto pr-1",children:Xe.map(j=>i.jsxs("div",{className:"border border-line rounded-[12px] bg-white/70 p-3 space-y-2",children:[i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold",children:j.title}),j.description?i.jsx("div",{className:"text-muted text-sm",children:j.description}):null]}),i.jsx("div",{className:"text-right text-sm text-muted",children:i.jsxs("div",{children:["Вопросов: ",j.questionCount??0]})})]}),j.firstQuestion?i.jsx("div",{className:"text-sm text-muted whitespace-pre-wrap break-words border border-dashed border-line rounded-[10px] bg-white/80 p-2",children:j.firstQuestion}):null,i.jsx("div",{className:"flex justify-end modal-actions",children:i.jsx("button",{className:"btn primary",onClick:()=>vn(j),disabled:nt,children:nt?"Загрузка...":"Выбрать"})})]},j.id))}),i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsx("button",{className:"btn",onClick:Ct,disabled:pe,children:"Обновить"}),nn?i.jsx("div",{className:"text-[#b2563f] text-sm",children:nn}):null]})]}):ye==="preview"?i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"text-sm text-muted",children:Wu}),i.jsx("div",{className:"border border-line rounded-[12px] bg-white/70 p-3 max-h-[55vh] overflow-y-auto",children:Ve.length===0?i.jsx("div",{className:"text-muted text-sm",children:"В шаблоне нет вопросов."}):i.jsx("ol",{className:"list-decimal pl-5 space-y-1 text-sm",children:Ve.map((j,L)=>i.jsx("li",{className:"whitespace-pre-wrap break-words",children:j},`${(dn==null?void 0:dn.id)||"template"}-${L}`))})}),nn?i.jsx("div",{className:"text-[#b2563f] text-sm",children:nn}):null,i.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap modal-actions",children:[i.jsx("button",{className:"btn",onClick:()=>{He("pick"),rt(null)},disabled:nt,children:"Назад"}),i.jsxs("div",{className:"flex gap-2 flex-wrap",children:[i.jsx("button",{className:"btn",type:"button",onClick:Fr,disabled:nt,children:"Изменить"}),i.jsx("button",{className:"btn primary",type:"button",onClick:()=>An(Ve),disabled:nt,children:nt?"Применяем...":"Применить"})]})]})]}):i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap modal-actions",children:[i.jsxs("div",{className:"text-sm text-muted",children:["Вопросов: ",ra.length]}),i.jsx("button",{className:"btn",type:"button",onClick:zn,disabled:nt,children:"Добавить вопрос"})]}),i.jsx("div",{className:"space-y-3 max-h-[55vh] overflow-y-auto pr-1",children:en.length===0?i.jsx("div",{className:"text-muted text-sm",children:"Добавьте вопросы, чтобы отредактировать шаблон."}):en.map((j,L)=>i.jsxs("div",{className:"border border-line rounded-[12px] bg-white/70 p-3 space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsxs("span",{children:["Вопрос ",L+1]}),i.jsx("button",{className:"btn",type:"button",onClick:()=>_e(L),disabled:nt,children:"Удалить"})]}),i.jsx("textarea",{className:"input min-h-[80px]",value:j,onChange:O=>ve(L,O.target.value),disabled:nt})]},`editable-${L}`))}),nn?i.jsx("div",{className:"text-[#b2563f] text-sm",children:nn}):null,i.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap modal-actions",children:[i.jsx("button",{className:"btn",type:"button",onClick:Or,disabled:nt,children:"Назад"}),i.jsx("button",{className:"btn primary",type:"button",onClick:()=>An(en),disabled:nt,children:nt?"Применяем...":"Применить"})]})]})})]})]})]})}):null;return i.jsxs(i.Fragment,{children:[Q,i.jsxs("div",{className:"grid gap-4 md:grid-cols-[320px_1fr]",children:[i.jsxs("aside",{className:"paper p-4 space-y-4",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-serif text-xl mb-1",children:t.name}),i.jsx("div",{className:"text-muted break-all",children:t.email})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"font-semibold",children:"Обложка"}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[i.jsx("div",{className:"w-[120px] h-[160px] rounded-[16px] overflow-hidden shadow-tiny border border-line bg-gradient-to-br from-lav to-sky",children:hn!=null&&hn.image?i.jsx("img",{src:hn.image,alt:Fn.title??"Выбранный шаблон обложки",className:"h-full w-full object-cover"}):i.jsx("div",{className:"grid h-full place-items-center px-3 text-center text-sm text-white/90",children:Fn.title??"Шаблон не выбран"})}),i.jsxs("div",{className:"space-y-1 min-w-[200px]",children:[i.jsx("div",{className:"font-semibold",children:Fn.title??"Обложка не выбрана"}),i.jsx("div",{className:"text-muted text-sm",children:Fn.subtitle??"Пользователь пока не выбрал шаблон обложки."})]})]})]}),i.jsxs("div",{className:"paper p-3 space-y-3",children:[i.jsx("div",{className:"font-semibold text-sm tracking-wide uppercase text-[#7a6f64]",children:"Telegram"}),Ke?i.jsxs("dl",{className:"space-y-3 text-sm",children:[i.jsxs("div",{children:[i.jsx("dt",{className:"text-muted text-xs uppercase tracking-wide",children:"Ник"}),i.jsx("dd",{children:_m})]}),i.jsxs("div",{children:[i.jsx("dt",{className:"text-muted text-xs uppercase tracking-wide",children:"Имя"}),i.jsx("dd",{children:bm})]}),i.jsxs("div",{children:[i.jsx("dt",{className:"text-muted text-xs uppercase tracking-wide",children:"ID"}),i.jsx("dd",{children:Tm})]}),i.jsxs("div",{children:[i.jsx("dt",{className:"text-muted text-xs uppercase tracking-wide",children:"Телефон"}),i.jsx("dd",{children:Pm})]})]}):i.jsx("div",{className:"text-muted text-sm",children:"Telegram не подключен."})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:s,onChange:j=>a(j.target.checked)}),"Заказ оформлен"]}),i.jsx("button",{className:"btn mt-2",onClick:S,children:"Сохранить статус заказа"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold mb-2",children:"Статус проекта"}),i.jsxs("div",{className:`status-select${o?" status-select--open":""}`,ref:c,children:[i.jsx("button",{type:"button",className:"status-select__field",onClick:X,"aria-haspopup":"listbox","aria-expanded":o?"true":"false",children:i.jsx("span",{className:"status-select__label",children:I.label})}),i.jsx("ul",{className:"status-select__list",role:"listbox",children:$a.map(j=>{const L=j.value||"none",O=j.value===r;return i.jsx("li",{children:i.jsx("button",{type:"button",className:`status-select__option${O?" status-select__option--active":""}`,onClick:()=>te(j.value),role:"option","aria-selected":O?"true":"false",children:j.label})},L)})})]}),i.jsx("button",{className:"btn mt-2",onClick:E,disabled:y,type:"button",children:"Сохранить статус"})]}),i.jsxs("div",{className:`rounded-[14px] p-3 leading-snug ${Lm}`,children:[i.jsx("div",{className:"text-xs uppercase tracking-wide font-semibold opacity-80",children:"Срок по ответам"}),i.jsx("div",{className:"text-sm font-medium mt-1",children:jl}),Nl?i.jsx("div",{className:"text-xs mt-1 opacity-80",children:Nl}):null,i.jsx("div",{className:"text-xs mt-2 opacity-70",children:Rm})]})]}),i.jsxs("main",{className:"space-y-4",children:[i.jsxs("section",{className:"paper p-4 space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[i.jsx("h3",{className:"font-serif text-xl",children:"Вопросы пользователя"}),i.jsxs("div",{className:"text-muted",children:["Всего: ",H]})]}),i.jsx("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:i.jsx("button",{className:"btn primary",onClick:In,children:"Управление вопросами"})}),!C&&k?i.jsx("div",{className:`text-sm ${k.tone==="error"?"text-[#b2563f]":"text-[#1f5c3d]"}`,children:k.message}):null,Ne?i.jsx("div",{className:"text-sm text-[#b2563f]",children:Ne}):null,i.jsx("div",{className:"space-y-4 mt-2",children:T.map((j,L)=>i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"font-serif text-lg",children:he(j,L)}),i.jsx("button",{className:"btn",onClick:()=>la(j),title:"Редактировать главу",style:{padding:"4px 8px",fontSize:"0.875rem"},children:"✏️"}),i.jsx("button",{className:"btn",onClick:()=>km(j),title:"Удалить главу",style:{padding:"4px 8px",fontSize:"0.875rem"},children:"🗑️"})]}),i.jsxs("div",{className:"text-muted text-sm",children:["Вопросов: ",Array.isArray(j.questions)?j.questions.length:0]})]}),!j.questions||j.questions.length===0?i.jsxs("div",{className:"status",children:[i.jsx("span",{className:"text-lg",children:"В этой главе пока нет вопросов"}),i.jsx("div",{className:"text-muted",children:"Добавьте вопросы через кнопку «Управление вопросами»."})]}):i.jsx("div",{className:"grid gap-3",children:j.questions.map((O,ee)=>i.jsxs("div",{className:"p-3 border border-line rounded-[14px] bg-paper flex items-start gap-3",children:[i.jsx("div",{className:"w-6 h-6 grid place-items-center rounded-full bg-gradient-to-b from-gold to-blush text-[#5b5246] shrink-0",children:ee+1}),i.jsx("div",{className:"flex-1 whitespace-pre-wrap break-words",children:O.text}),i.jsx("button",{className:"btn",onClick:()=>Oe(O.id),title:"Удалить вопрос",children:"Удалить"})]},O.id))})]},j.id))})]}),i.jsxs("section",{className:"paper p-4 space-y-3",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[i.jsx("h3",{className:"font-serif text-xl mb-0",children:"Ответы пользователя"}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[i.jsxs("div",{className:"text-muted text-sm",children:["Ответов: ",Ee]}),i.jsx("button",{className:"btn",type:"button",onClick:Cs,disabled:ht,children:ht?"Готовим файл…":"Экспорт в Word"})]})]}),Mn?i.jsx("div",{className:"text-sm text-[#b2563f]",children:Mn}):null,de.length===0?i.jsx("div",{className:"text-muted",children:"Ответы пока не сохранены."}):i.jsx("div",{className:"space-y-4",children:de.map(j=>{var L;return i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"font-serif text-lg",children:j.title}),i.jsx("div",{className:"grid gap-3",children:j.answers.map(O=>i.jsx(Ey,{answer:O},O.questionIndex))})]},((L=j.chapter)==null?void 0:L.id)??`chapter-${j.index}`)})})]})]}),Mm,qe&&fn?i.jsx("div",{className:"modal-backdrop",children:i.jsxs("div",{className:"modal-card w-[min(720px,96vw)] space-y-4",children:[i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("h3",{className:"font-serif text-[1.6rem]",children:"Редактировать главу"}),i.jsx("div",{className:"text-sm text-muted",children:"Измените название главы и её вопросы."})]}),i.jsx("button",{className:"btn icon-btn",onClick:sa,children:"X"})]}),i.jsxs("form",{className:"space-y-4",onSubmit:wm,children:[i.jsx("div",{className:"paper p-4 space-y-3",children:i.jsxs("label",{className:"block",children:[i.jsx("span",{className:"font-semibold mb-2 block",children:"Название главы"}),i.jsx("input",{className:"input",placeholder:"Введите название главы",value:me,onChange:j=>Pe(j.target.value),disabled:Je}),i.jsx("div",{className:"text-sm text-muted mt-2",children:"Оставьте пустым для автоматического названия."})]})}),i.jsxs("div",{className:"paper p-4 space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsxs("span",{className:"font-semibold",children:["Вопросы (",ze.filter(j=>j&&j.trim()).length,")"]}),i.jsx("button",{className:"btn",type:"button",onClick:Sm,disabled:Je,children:"Добавить вопрос"})]}),i.jsx("div",{className:"space-y-3 max-h-[50vh] overflow-y-auto pr-1",children:ze.length===0?i.jsx("div",{className:"text-muted text-sm",children:"Добавьте вопросы для этой главы."}):ze.map((j,L)=>i.jsxs("div",{className:"border border-line rounded-[12px] bg-white/70 p-3 space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsxs("span",{className:"font-medium",children:["Вопрос ",L+1]}),i.jsx("button",{className:"btn",type:"button",onClick:()=>Nm(L),disabled:Je,children:"Удалить"})]}),i.jsx("textarea",{className:"input min-h-[80px]",value:j,onChange:O=>jm(L,O.target.value),disabled:Je,placeholder:"Введите текст вопроса"})]},`edit-chapter-q-${L}`))})]}),xl?i.jsx("div",{className:"text-sm text-[#b2563f]",children:xl}):null,i.jsxs("div",{className:"flex justify-end gap-2 modal-actions",children:[i.jsx("button",{className:"btn",type:"button",onClick:sa,disabled:Je,children:"Отмена"}),i.jsx("button",{className:"btn primary",type:"submit",disabled:Je,children:Je?"Сохраняем...":"Сохранить"})]})]})]})}):null,i.jsx(Rr,{open:Ns,title:"Удалить главу?",message:mn?`Вы уверены, что хотите удалить главу "${he(mn,T.indexOf(mn))}"? Все вопросы этой главы также будут удалены.`:"",confirmLabel:"Удалить",cancelLabel:"Отмена",confirmTone:"danger",busy:Ss,onConfirm:Cm,onCancel:Em})]})]})}function Ey({answer:e}){if(!e)return null;const{chapterNumber:t,questionNumber:n,questionIndex:r,questionText:l,answerText:s}=e,a=t!=null?`Вопрос ${t}.${n}`:`Вопрос ${n}`;return i.jsxs("div",{className:"answer-card p-3 border border-line rounded-[14px] bg-paper space-y-2",children:[i.jsxs("div",{className:"answer-card__question text-muted text-sm",children:[a," · #",r+1]}),l?i.jsx("div",{className:"answer-card__questionText text-sm font-medium whitespace-pre-wrap break-words",children:l}):null,i.jsx(_y,{text:s})]})}function _y({text:e}){const t=typeof e=="string"?e:"",n=t.length,[r,l]=f.useState(()=>Math.min(n,Ol));if(f.useEffect(()=>{l(Math.min(t.length,Ol))},[t]),!t.length)return i.jsx("div",{className:"answer-card__text text-muted text-sm",children:"Ответ отсутствует."});const s=t.slice(0,r),a=n>r,o=n>Ol&&r>Ol;return i.jsxs("div",{className:"answer-card__body space-y-2",children:[i.jsxs("div",{className:"answer-card__text whitespace-pre-wrap break-words",children:[s,a?i.jsx("span",{className:"answer-card__fade","aria-hidden":"true"}):null]}),i.jsxs("div",{className:"answer-card__controls",children:[a?i.jsx("button",{type:"button",className:"answer-card__control",onClick:()=>l(u=>Math.min(n,u+ky)),children:"Открыть больше"}):null,o?i.jsx("button",{type:"button",className:"answer-card__control",onClick:()=>l(Math.min(n,Ol)),children:"Свернуть"}):null]})]})}function Gs({children:e}){const{user:t,loaded:n}=St(),r=cn();return n?t?e:i.jsx($u,{to:"/login",state:{from:r},replace:!0}):null}function by({children:e}){const{user:t,loaded:n}=St(),r=cn();return n?!t||!t.isAdmin?i.jsx($u,{to:"/admin/login",state:{from:r},replace:!0}):e||i.jsx(am,{}):null}const Va=50;function bd(e){const t=typeof e=="string"?e.split("$"):[],n=[];let r=0;for(const l of t){const s=l.trim();s&&(r+=1,n.push(s))}return{list:n,total:r}}function Ty(e){if(!e)return null;try{return new Date(e).toLocaleString("ru-RU",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return null}}function Td({questions:e,total:t}){if(!e.length)return null;const n=e.slice(0,Va),r=e.length>Va;return i.jsxs("div",{className:"border border-dashed border-line rounded-[12px] bg-white/70 p-3 space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between text-xs uppercase tracking-wide text-[#7a6f64]",children:[i.jsx("span",{children:"Предпросмотр"}),i.jsxs("span",{children:["Вопросов: ",e.length,t>e.length?` из ${t}`:""]})]}),i.jsx("ol",{className:"list-decimal pl-5 text-sm space-y-1 max-h-56 overflow-y-auto",children:n.map((l,s)=>i.jsx("li",{className:"whitespace-pre-wrap break-words",children:l},`${s}-${l.slice(0,12)}`))}),r?i.jsxs("div",{className:"text-xs text-muted",children:["Показаны первые ",Va," вопросов."]}):null]})}function Py(){const[e,t]=f.useState([]),[n,r]=f.useState(!0),[l,s]=f.useState(null),[a,o]=f.useState(""),[u,c]=f.useState(""),[m,p]=f.useState(""),[h,y]=f.useState(!1),[N,k]=f.useState(null),[P,g]=f.useState(null),[d,v]=f.useState(!1),[C,b]=f.useState(!1),[D,w]=f.useState(!1),[_,B]=f.useState(!1),[F,J]=f.useState(null),[oe,K]=f.useState(null),[G,ae]=f.useState(""),[se,fe]=f.useState(""),[R,z]=f.useState(""),U=f.useMemo(()=>bd(m),[m]),le=f.useMemo(()=>bd(R),[R]),Y=f.useCallback(async()=>{r(!0),s(null);try{const Z=await fetch("/api/admin/templates",{credentials:"include"});if(!Z.ok)throw new Error("Не удалось получить список шаблонов.");const xe=await Z.json();t(Array.isArray(xe.templates)?xe.templates:[])}catch(Z){console.error(Z),s(Z.message||"Не удалось получить список шаблонов. Попробуйте позже.")}finally{r(!1)}},[]);f.useEffect(()=>{Y()},[Y]);const ue=async Z=>{Z.preventDefault();const xe=a.trim(),Xe=u.trim(),ut=U.list;if(!xe.length){k("Введите название шаблона.");return}if(ut.length===0){k("Добавьте хотя бы один вопрос.");return}y(!0),k(null);try{await jn("/api/admin/templates",{title:xe,description:Xe.length?Xe:void 0,questions:ut}),o(""),c(""),p(""),await Y()}catch(ye){console.error(ye),k(ye.message||"Не удалось сохранить шаблон.")}finally{y(!1)}},Ne=async Z=>{K(Z),b(!0),w(!0),B(!1),J(null);try{const xe=await fetch(`/api/admin/templates/${Z}`,{credentials:"include"});if(!xe.ok)throw new Error("Не удалось загрузить шаблон.");const Xe=await xe.json();ae(Xe.title??""),fe(Xe.description??""),z(Array.isArray(Xe.questions)?Xe.questions.join(" $ "):"")}catch(xe){console.error(xe),J(xe.message||"Не удалось загрузить шаблон.")}finally{w(!1)}},q=()=>{b(!1),w(!1),B(!1),J(null),K(null),ae(""),fe(""),z("")},pe=async Z=>{if(Z.preventDefault(),!oe)return;const xe=G.trim(),Xe=se.trim(),ut=le.list;if(!xe.length){J("Введите название шаблона.");return}if(ut.length===0){J("Добавьте хотя бы один вопрос.");return}B(!0),J(null);try{await mm(`/api/admin/templates/${oe}`,{title:xe,description:Xe.length?Xe:void 0,questions:ut}),await Y(),q()}catch(ye){console.error(ye),J(ye.message||"Не удалось обновить шаблон.")}finally{B(!1)}},Ue=async()=>{if(P){v(!0);try{await Oi(`/api/admin/templates/${P.id}`),g(null),await Y()}catch(Z){console.error(Z),s(Z.message||"Не удалось удалить шаблон.")}finally{v(!1)}}};return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("section",{className:"paper p-4 space-y-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"font-serif text-2xl",children:"Шаблоны вопросов"}),i.jsx("p",{className:"text-muted",children:"Сохраняйте готовые наборы вопросов, чтобы быстро отправлять их пользователям без повторного набора."})]}),i.jsxs("form",{onSubmit:ue,className:"space-y-4",children:[i.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-semibold block",htmlFor:"template-title",children:"Название шаблона"}),i.jsx("input",{id:"template-title",className:"input",placeholder:"Например: Вступительное интервью",value:a,onChange:Z=>o(Z.target.value),disabled:h})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-semibold block",htmlFor:"template-description",children:"Описание (необязательно)"}),i.jsx("input",{id:"template-description",className:"input",placeholder:"Краткое пояснение для админов",value:u,onChange:Z=>c(Z.target.value),disabled:h})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-semibold block",htmlFor:"template-questions",children:"Вопросы (разделяйте символом $)"}),i.jsx("textarea",{id:"template-questions",className:"input min-h-[140px]",placeholder:"Вопрос 1 $ Вопрос 2 $ Вопрос 3",value:m,onChange:Z=>p(Z.target.value),disabled:h}),i.jsxs("div",{className:"text-sm text-muted",children:["Questions: ",U.list.length]}),i.jsx(Td,{questions:U.list,total:U.total})]}),N?i.jsx("div",{className:"text-sm text-[#b2563f]",children:N}):null,i.jsx("button",{type:"submit",className:"btn primary",disabled:h,children:h?"Сохранение...":"Сохранить шаблон"})]})]}),i.jsxs("section",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"font-serif text-xl",children:"Доступные шаблоны"}),i.jsx("button",{className:"btn",onClick:Y,disabled:n,children:"Обновить"})]}),l?i.jsx("div",{className:"text-[#b2563f]",children:l}):null,n?i.jsx("div",{className:"paper p-4 text-muted",children:"Загрузка шаблонов..."}):e.length===0?i.jsx("div",{className:"paper p-4 text-muted",children:"Шаблонов пока нет. Создайте первый, используя форму выше."}):i.jsx("div",{className:"grid gap-3 lg:grid-cols-2",children:e.map(Z=>i.jsxs("div",{className:"paper p-4 space-y-3",children:[i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-serif text-lg",children:Z.title}),Z.description?i.jsx("div",{className:"text-muted text-sm",children:Z.description}):null]}),i.jsxs("div",{className:"text-right text-sm text-muted",children:[i.jsxs("div",{children:["Вопросов: ",Z.questionCount]}),Z.updatedAt?i.jsx("div",{className:"text-xs mt-1",children:Ty(Z.updatedAt)}):null]})]}),Z.firstQuestion?i.jsxs("div",{className:"border border-line rounded-[12px] bg-white/60 p-3",children:[i.jsx("div",{className:"text-xs uppercase tracking-wide text-[#7a6f64]",children:"Первый вопрос"}),i.jsx("div",{className:"mt-1 whitespace-pre-wrap break-words text-sm",children:Z.firstQuestion})]}):null,i.jsxs("div",{className:"flex items-center justify-end gap-2",children:[i.jsx("button",{className:"btn",onClick:()=>Ne(Z.id),children:"Редактировать"}),i.jsx("button",{className:"btn danger",onClick:()=>g(Z),children:"Удалить"})]})]},Z.id))})]}),C?i.jsx("div",{className:"modal-backdrop",children:i.jsxs("div",{className:"modal-card w-[min(680px,92vw)] space-y-4",children:[i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsx("h3",{className:"font-serif text-[1.6rem]",children:"Редактирование шаблона"}),i.jsx("button",{className:"btn icon-btn",onClick:q,children:"X"})]}),D?i.jsx("div",{className:"text-muted",children:"Загрузка данных шаблона..."}):i.jsxs("form",{onSubmit:pe,className:"space-y-3",children:[i.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-semibold block",htmlFor:"edit-title",children:"Название"}),i.jsx("input",{id:"edit-title",className:"input",value:G,onChange:Z=>ae(Z.target.value),disabled:_})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-semibold block",htmlFor:"edit-description",children:"Описание"}),i.jsx("input",{id:"edit-description",className:"input",value:se,onChange:Z=>fe(Z.target.value),disabled:_})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-semibold block",htmlFor:"edit-questions",children:"Вопросы"}),i.jsx("textarea",{id:"edit-questions",className:"input min-h-[160px]",value:R,onChange:Z=>z(Z.target.value),disabled:_}),i.jsxs("div",{className:"text-sm text-muted",children:["Questions: ",le.list.length]}),i.jsx(Td,{questions:le.list,total:le.total})]}),F?i.jsx("div",{className:"text-sm text-[#b2563f]",children:F}):null,i.jsxs("div",{className:"flex items-center justify-end gap-2",children:[i.jsx("button",{className:"btn",type:"button",onClick:q,children:"Отмена"}),i.jsx("button",{className:"btn primary",type:"submit",disabled:_,children:_?"Сохранение...":"Сохранить изменения"})]})]})]})}):null,i.jsx(Rr,{open:!!P,title:"Удалить шаблон?",message:P?`Шаблон «${P.title}» будет удален без возможности восстановления.`:"",confirmLabel:"Удалить",cancelLabel:"Отмена",confirmTone:"danger",busy:d,onCancel:()=>g(null),onConfirm:Ue})]})}function Ly(){return i.jsxs("div",{className:"paper p-4 space-y-3",children:[i.jsx("h2",{className:"font-serif text-xl",children:"Настройки"}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{className:"paper p-4 space-y-3",children:[i.jsx("div",{className:"font-semibold",children:"Контакты студии"}),i.jsxs("label",{className:"block",children:[i.jsx("span",{className:"text-sm text-muted",children:"Название проекта"}),i.jsx("input",{className:"input mt-1",defaultValue:"Fate",disabled:!0})]}),i.jsxs("label",{className:"block",children:[i.jsx("span",{className:"text-sm text-muted",children:"Email для связи"}),i.jsx("input",{className:"input mt-1",defaultValue:"hello@fate.books"})]}),i.jsx("button",{className:"btn primary",disabled:!0,children:"Сохранить"})]}),i.jsxs("div",{className:"paper p-4 space-y-2",children:[i.jsx("div",{className:"font-semibold",children:"Безопасность"}),i.jsxs("label",{className:"block",children:[i.jsx("span",{className:"text-sm text-muted",children:"Время жизни сессии (часов)"}),i.jsx("input",{className:"input mt-1",type:"number",defaultValue:6})]}),i.jsx("div",{className:"text-muted text-sm",children:"JWT хранится в httpOnly cookie, а CSRF защищён двойным токеном."})]})]})]})}const Ry=Tx([{path:"/",element:i.jsx(Yx,{})},{path:"/register",element:i.jsx(Jx,{})},{path:"/login",element:i.jsx(Zx,{})},{path:"/dashboard",element:i.jsx(Gs,{children:i.jsx(sy,{})})},{path:"/qa",element:i.jsx(Gs,{children:i.jsx(fy,{})})},{path:"/covers",element:i.jsx(Gs,{children:i.jsx(py,{})})},{path:"/complete",element:i.jsx(Gs,{children:i.jsx(hy,{})})},{path:"/admin/login",element:i.jsx(vy,{})},{path:"/admin",element:i.jsx(by,{children:i.jsx(wy,{})}),children:[{index:!0,element:i.jsx(Sy,{})},{path:"users/:id",element:i.jsx(Cy,{})},{path:"templates",element:i.jsx(Py,{})},{path:"settings",element:i.jsx(Ly,{})}]}]);Hp(document.getElementById("root")).render(i.jsx(Bd.StrictMode,{children:i.jsx(Hx,{children:i.jsx(ey,{children:i.jsx(Ix,{router:Ry})})})}));
