function gd(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const l in r)if(l!=="default"&&!(l in e)){const s=Object.getOwnPropertyDescriptor(r,l);s&&Object.defineProperty(e,l,s.get?s:{enumerable:!0,get:()=>r[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(l){if(l.ep)return;l.ep=!0;const s=n(l);fetch(l.href,s)}})();function yd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var xd={exports:{}},ki={},wd={exports:{}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ss=Symbol.for("react.element"),im=Symbol.for("react.portal"),am=Symbol.for("react.fragment"),om=Symbol.for("react.strict_mode"),um=Symbol.for("react.profiler"),cm=Symbol.for("react.provider"),dm=Symbol.for("react.context"),fm=Symbol.for("react.forward_ref"),pm=Symbol.for("react.suspense"),mm=Symbol.for("react.memo"),hm=Symbol.for("react.lazy"),Du=Symbol.iterator;function vm(e){return e===null||typeof e!="object"?null:(e=Du&&e[Du]||e["@@iterator"],typeof e=="function"?e:null)}var jd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Nd=Object.assign,Sd={};function al(e,t,n){this.props=e,this.context=t,this.refs=Sd,this.updater=n||jd}al.prototype.isReactComponent={};al.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};al.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function kd(){}kd.prototype=al.prototype;function To(e,t,n){this.props=e,this.context=t,this.refs=Sd,this.updater=n||jd}var Po=To.prototype=new kd;Po.constructor=To;Nd(Po,al.prototype);Po.isPureReactComponent=!0;var Fu=Array.isArray,Ed=Object.prototype.hasOwnProperty,Lo={current:null},Cd={key:!0,ref:!0,__self:!0,__source:!0};function _d(e,t,n){var r,l={},s=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)Ed.call(t,r)&&!Cd.hasOwnProperty(r)&&(l[r]=t[r]);var o=arguments.length-2;if(o===1)l.children=n;else if(1<o){for(var u=Array(o),c=0;c<o;c++)u[c]=arguments[c+2];l.children=u}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)l[r]===void 0&&(l[r]=o[r]);return{$$typeof:ss,type:e,key:s,ref:a,props:l,_owner:Lo.current}}function gm(e,t){return{$$typeof:ss,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function bo(e){return typeof e=="object"&&e!==null&&e.$$typeof===ss}function ym(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ou=/\/+/g;function Yi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ym(""+e.key):t.toString(36)}function Is(e,t,n,r,l){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case ss:case im:a=!0}}if(a)return a=e,l=l(a),e=r===""?"."+Yi(a,0):r,Fu(l)?(n="",e!=null&&(n=e.replace(Ou,"$&/")+"/"),Is(l,t,n,"",function(c){return c})):l!=null&&(bo(l)&&(l=gm(l,n+(!l.key||a&&a.key===l.key?"":(""+l.key).replace(Ou,"$&/")+"/")+e)),t.push(l)),1;if(a=0,r=r===""?".":r+":",Fu(e))for(var o=0;o<e.length;o++){s=e[o];var u=r+Yi(s,o);a+=Is(s,t,n,u,l)}else if(u=vm(e),typeof u=="function")for(e=u.call(e),o=0;!(s=e.next()).done;)s=s.value,u=r+Yi(s,o++),a+=Is(s,t,n,u,l);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function hs(e,t,n){if(e==null)return e;var r=[],l=0;return Is(e,r,"","",function(s){return t.call(n,s,l++)}),r}function xm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var dt={current:null},zs={transition:null},wm={ReactCurrentDispatcher:dt,ReactCurrentBatchConfig:zs,ReactCurrentOwner:Lo};function Td(){throw Error("act(...) is not supported in production builds of React.")}ce.Children={map:hs,forEach:function(e,t,n){hs(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return hs(e,function(){t++}),t},toArray:function(e){return hs(e,function(t){return t})||[]},only:function(e){if(!bo(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ce.Component=al;ce.Fragment=am;ce.Profiler=um;ce.PureComponent=To;ce.StrictMode=om;ce.Suspense=pm;ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wm;ce.act=Td;ce.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Nd({},e.props),l=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=Lo.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(u in t)Ed.call(t,u)&&!Cd.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&o!==void 0?o[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){o=Array(u);for(var c=0;c<u;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:ss,type:e.type,key:l,ref:s,props:r,_owner:a}};ce.createContext=function(e){return e={$$typeof:dm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:cm,_context:e},e.Consumer=e};ce.createElement=_d;ce.createFactory=function(e){var t=_d.bind(null,e);return t.type=e,t};ce.createRef=function(){return{current:null}};ce.forwardRef=function(e){return{$$typeof:fm,render:e}};ce.isValidElement=bo;ce.lazy=function(e){return{$$typeof:hm,_payload:{_status:-1,_result:e},_init:xm}};ce.memo=function(e,t){return{$$typeof:mm,type:e,compare:t===void 0?null:t}};ce.startTransition=function(e){var t=zs.transition;zs.transition={};try{e()}finally{zs.transition=t}};ce.unstable_act=Td;ce.useCallback=function(e,t){return dt.current.useCallback(e,t)};ce.useContext=function(e){return dt.current.useContext(e)};ce.useDebugValue=function(){};ce.useDeferredValue=function(e){return dt.current.useDeferredValue(e)};ce.useEffect=function(e,t){return dt.current.useEffect(e,t)};ce.useId=function(){return dt.current.useId()};ce.useImperativeHandle=function(e,t,n){return dt.current.useImperativeHandle(e,t,n)};ce.useInsertionEffect=function(e,t){return dt.current.useInsertionEffect(e,t)};ce.useLayoutEffect=function(e,t){return dt.current.useLayoutEffect(e,t)};ce.useMemo=function(e,t){return dt.current.useMemo(e,t)};ce.useReducer=function(e,t,n){return dt.current.useReducer(e,t,n)};ce.useRef=function(e){return dt.current.useRef(e)};ce.useState=function(e){return dt.current.useState(e)};ce.useSyncExternalStore=function(e,t,n){return dt.current.useSyncExternalStore(e,t,n)};ce.useTransition=function(){return dt.current.useTransition()};ce.version="18.3.1";wd.exports=ce;var p=wd.exports;const Pd=yd(p),jm=gd({__proto__:null,default:Pd},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nm=p,Sm=Symbol.for("react.element"),km=Symbol.for("react.fragment"),Em=Object.prototype.hasOwnProperty,Cm=Nm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_m={key:!0,ref:!0,__self:!0,__source:!0};function Ld(e,t,n){var r,l={},s=null,a=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)Em.call(t,r)&&!_m.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)l[r]===void 0&&(l[r]=t[r]);return{$$typeof:Sm,type:e,key:s,ref:a,props:l,_owner:Cm.current}}ki.Fragment=km;ki.jsx=Ld;ki.jsxs=Ld;xd.exports=ki;var i=xd.exports,bd={exports:{}},Rt={},Rd={exports:{}},Md={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,U){var A=L.length;L.push(U);e:for(;0<A;){var re=A-1>>>1,X=L[re];if(0<l(X,U))L[re]=U,L[A]=X,A=re;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var U=L[0],A=L.pop();if(A!==U){L[0]=A;e:for(var re=0,X=L.length,ue=X>>>1;re<ue;){var Ne=2*(re+1)-1,ee=L[Ne],pe=Ne+1,Ie=L[pe];if(0>l(ee,A))pe<X&&0>l(Ie,ee)?(L[re]=Ie,L[pe]=A,re=pe):(L[re]=ee,L[Ne]=A,re=Ne);else if(pe<X&&0>l(Ie,A))L[re]=Ie,L[pe]=A,re=pe;else break e}}return U}function l(L,U){var A=L.sortIndex-U.sortIndex;return A!==0?A:L.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var u=[],c=[],m=1,f=null,h=3,x=!1,j=!1,k=!1,P=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(L){for(var U=n(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=L)r(c),U.sortIndex=U.expirationTime,t(u,U);else break;U=n(c)}}function E(L){if(k=!1,v(L),!j)if(n(u)!==null)j=!0,se(T);else{var U=n(c);U!==null&&fe(E,U.startTime-L)}}function T(L,U){j=!1,k&&(k=!1,g(_),_=-1),x=!0;var A=h;try{for(v(U),f=n(u);f!==null&&(!(f.expirationTime>U)||L&&!J());){var re=f.callback;if(typeof re=="function"){f.callback=null,h=f.priorityLevel;var X=re(f.expirationTime<=U);U=e.unstable_now(),typeof X=="function"?f.callback=X:f===n(u)&&r(u),v(U)}else r(u);f=n(u)}if(f!==null)var ue=!0;else{var Ne=n(c);Ne!==null&&fe(E,Ne.startTime-U),ue=!1}return ue}finally{f=null,h=A,x=!1}}var D=!1,w=null,_=-1,$=5,F=-1;function J(){return!(e.unstable_now()-F<$)}function oe(){if(w!==null){var L=e.unstable_now();F=L;var U=!0;try{U=w(!0,L)}finally{U?G():(D=!1,w=null)}}else D=!1}var G;if(typeof d=="function")G=function(){d(oe)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,ae=Y.port2;Y.port1.onmessage=oe,G=function(){ae.postMessage(null)}}else G=function(){P(oe,0)};function se(L){w=L,D||(D=!0,G())}function fe(L,U){_=P(function(){L(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){j||x||(j=!0,se(T))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(L){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var A=h;h=U;try{return L()}finally{h=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,U){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var A=h;h=L;try{return U()}finally{h=A}},e.unstable_scheduleCallback=function(L,U,A){var re=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?re+A:re):A=re,L){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=A+X,L={id:m++,callback:U,priorityLevel:L,startTime:A,expirationTime:X,sortIndex:-1},A>re?(L.sortIndex=A,t(c,L),n(u)===null&&L===n(c)&&(k?(g(_),_=-1):k=!0,fe(E,A-re))):(L.sortIndex=X,t(u,L),j||x||(j=!0,se(T))),L},e.unstable_shouldYield=J,e.unstable_wrapCallback=function(L){var U=h;return function(){var A=h;h=U;try{return L.apply(this,arguments)}finally{h=A}}}})(Md);Rd.exports=Md;var Tm=Rd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pm=p,bt=Tm;function M(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Dd=new Set,Al={};function Sr(e,t){Jr(e,t),Jr(e+"Capture",t)}function Jr(e,t){for(Al[e]=t,e=0;e<t.length;e++)Dd.add(t[e])}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ba=Object.prototype.hasOwnProperty,Lm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Iu={},zu={};function bm(e){return ba.call(zu,e)?!0:ba.call(Iu,e)?!1:Lm.test(e)?zu[e]=!0:(Iu[e]=!0,!1)}function Rm(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Mm(e,t,n,r){if(t===null||typeof t>"u"||Rm(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ft(e,t,n,r,l,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var Ze={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ze[e]=new ft(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ze[t]=new ft(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ze[e]=new ft(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ze[e]=new ft(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ze[e]=new ft(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ze[e]=new ft(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ze[e]=new ft(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ze[e]=new ft(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ze[e]=new ft(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ro=/[\-:]([a-z])/g;function Mo(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ro,Mo);Ze[t]=new ft(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ro,Mo);Ze[t]=new ft(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ro,Mo);Ze[t]=new ft(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ze[e]=new ft(e,1,!1,e.toLowerCase(),null,!1,!1)});Ze.xlinkHref=new ft("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ze[e]=new ft(e,1,!1,e.toLowerCase(),null,!0,!0)});function Do(e,t,n,r){var l=Ze.hasOwnProperty(t)?Ze[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Mm(t,n,l,r)&&(n=null),r||l===null?bm(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Pn=Pm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vs=Symbol.for("react.element"),Mr=Symbol.for("react.portal"),Dr=Symbol.for("react.fragment"),Fo=Symbol.for("react.strict_mode"),Ra=Symbol.for("react.profiler"),Fd=Symbol.for("react.provider"),Od=Symbol.for("react.context"),Oo=Symbol.for("react.forward_ref"),Ma=Symbol.for("react.suspense"),Da=Symbol.for("react.suspense_list"),Io=Symbol.for("react.memo"),On=Symbol.for("react.lazy"),Id=Symbol.for("react.offscreen"),Uu=Symbol.iterator;function fl(e){return e===null||typeof e!="object"?null:(e=Uu&&e[Uu]||e["@@iterator"],typeof e=="function"?e:null)}var De=Object.assign,Xi;function Cl(e){if(Xi===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Xi=t&&t[1]||""}return`
`+Xi+e}var qi=!1;function Ji(e,t){if(!e||qi)return"";qi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var l=c.stack.split(`
`),s=r.stack.split(`
`),a=l.length-1,o=s.length-1;1<=a&&0<=o&&l[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(l[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||l[a]!==s[o]){var u=`
`+l[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=a&&0<=o);break}}}finally{qi=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Cl(e):""}function Dm(e){switch(e.tag){case 5:return Cl(e.type);case 16:return Cl("Lazy");case 13:return Cl("Suspense");case 19:return Cl("SuspenseList");case 0:case 2:case 15:return e=Ji(e.type,!1),e;case 11:return e=Ji(e.type.render,!1),e;case 1:return e=Ji(e.type,!0),e;default:return""}}function Fa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Dr:return"Fragment";case Mr:return"Portal";case Ra:return"Profiler";case Fo:return"StrictMode";case Ma:return"Suspense";case Da:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Od:return(e.displayName||"Context")+".Consumer";case Fd:return(e._context.displayName||"Context")+".Provider";case Oo:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Io:return t=e.displayName||null,t!==null?t:Fa(e.type)||"Memo";case On:t=e._payload,e=e._init;try{return Fa(e(t))}catch{}}return null}function Fm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fa(t);case 8:return t===Fo?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function qn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Om(e){var t=zd(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function gs(e){e._valueTracker||(e._valueTracker=Om(e))}function Ud(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=zd(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Xs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Oa(e,t){var n=t.checked;return De({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Au(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=qn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ad(e,t){t=t.checked,t!=null&&Do(e,"checked",t,!1)}function Ia(e,t){Ad(e,t);var n=qn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?za(e,t.type,n):t.hasOwnProperty("defaultValue")&&za(e,t.type,qn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function $u(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function za(e,t,n){(t!=="number"||Xs(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var _l=Array.isArray;function Qr(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+qn(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Ua(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(M(91));return De({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Bu(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(M(92));if(_l(n)){if(1<n.length)throw Error(M(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:qn(n)}}function $d(e,t){var n=qn(t.value),r=qn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Vu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Bd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Aa(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Bd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ys,Vd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ys=ys||document.createElement("div"),ys.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ys.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function $l(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var bl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Im=["Webkit","ms","Moz","O"];Object.keys(bl).forEach(function(e){Im.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),bl[t]=bl[e]})});function Wd(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||bl.hasOwnProperty(e)&&bl[e]?(""+t).trim():t+"px"}function Qd(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=Wd(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var zm=De({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $a(e,t){if(t){if(zm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(M(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(M(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(M(61))}if(t.style!=null&&typeof t.style!="object")throw Error(M(62))}}function Ba(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Va=null;function zo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Wa=null,Hr=null,Kr=null;function Wu(e){if(e=os(e)){if(typeof Wa!="function")throw Error(M(280));var t=e.stateNode;t&&(t=Pi(t),Wa(e.stateNode,e.type,t))}}function Hd(e){Hr?Kr?Kr.push(e):Kr=[e]:Hr=e}function Kd(){if(Hr){var e=Hr,t=Kr;if(Kr=Hr=null,Wu(e),t)for(e=0;e<t.length;e++)Wu(t[e])}}function Gd(e,t){return e(t)}function Yd(){}var Zi=!1;function Xd(e,t,n){if(Zi)return e(t,n);Zi=!0;try{return Gd(e,t,n)}finally{Zi=!1,(Hr!==null||Kr!==null)&&(Yd(),Kd())}}function Bl(e,t){var n=e.stateNode;if(n===null)return null;var r=Pi(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(M(231,t,typeof n));return n}var Qa=!1;if(kn)try{var pl={};Object.defineProperty(pl,"passive",{get:function(){Qa=!0}}),window.addEventListener("test",pl,pl),window.removeEventListener("test",pl,pl)}catch{Qa=!1}function Um(e,t,n,r,l,s,a,o,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(m){this.onError(m)}}var Rl=!1,qs=null,Js=!1,Ha=null,Am={onError:function(e){Rl=!0,qs=e}};function $m(e,t,n,r,l,s,a,o,u){Rl=!1,qs=null,Um.apply(Am,arguments)}function Bm(e,t,n,r,l,s,a,o,u){if($m.apply(this,arguments),Rl){if(Rl){var c=qs;Rl=!1,qs=null}else throw Error(M(198));Js||(Js=!0,Ha=c)}}function kr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function qd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Qu(e){if(kr(e)!==e)throw Error(M(188))}function Vm(e){var t=e.alternate;if(!t){if(t=kr(e),t===null)throw Error(M(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var s=l.alternate;if(s===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===s.child){for(s=l.child;s;){if(s===n)return Qu(l),e;if(s===r)return Qu(l),t;s=s.sibling}throw Error(M(188))}if(n.return!==r.return)n=l,r=s;else{for(var a=!1,o=l.child;o;){if(o===n){a=!0,n=l,r=s;break}if(o===r){a=!0,r=l,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=l;break}if(o===r){a=!0,r=s,n=l;break}o=o.sibling}if(!a)throw Error(M(189))}}if(n.alternate!==r)throw Error(M(190))}if(n.tag!==3)throw Error(M(188));return n.stateNode.current===n?e:t}function Jd(e){return e=Vm(e),e!==null?Zd(e):null}function Zd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Zd(e);if(t!==null)return t;e=e.sibling}return null}var ef=bt.unstable_scheduleCallback,Hu=bt.unstable_cancelCallback,Wm=bt.unstable_shouldYield,Qm=bt.unstable_requestPaint,Oe=bt.unstable_now,Hm=bt.unstable_getCurrentPriorityLevel,Uo=bt.unstable_ImmediatePriority,tf=bt.unstable_UserBlockingPriority,Zs=bt.unstable_NormalPriority,Km=bt.unstable_LowPriority,nf=bt.unstable_IdlePriority,Ei=null,on=null;function Gm(e){if(on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(Ei,e,void 0,(e.current.flags&128)===128)}catch{}}var Xt=Math.clz32?Math.clz32:qm,Ym=Math.log,Xm=Math.LN2;function qm(e){return e>>>=0,e===0?32:31-(Ym(e)/Xm|0)|0}var xs=64,ws=4194304;function Tl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ei(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,s=e.pingedLanes,a=n&268435455;if(a!==0){var o=a&~l;o!==0?r=Tl(o):(s&=a,s!==0&&(r=Tl(s)))}else a=n&~l,a!==0?r=Tl(a):s!==0&&(r=Tl(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&l)&&(l=r&-r,s=t&-t,l>=s||l===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Xt(t),l=1<<n,r|=e[n],t&=~l;return r}function Jm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zm(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-Xt(s),o=1<<a,u=l[a];u===-1?(!(o&n)||o&r)&&(l[a]=Jm(o,t)):u<=t&&(e.expiredLanes|=o),s&=~o}}function Ka(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function rf(){var e=xs;return xs<<=1,!(xs&4194240)&&(xs=64),e}function ea(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function is(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Xt(t),e[t]=n}function eh(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-Xt(n),s=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~s}}function Ao(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Xt(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var we=0;function lf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var sf,$o,af,of,uf,Ga=!1,js=[],Vn=null,Wn=null,Qn=null,Vl=new Map,Wl=new Map,zn=[],th="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ku(e,t){switch(e){case"focusin":case"focusout":Vn=null;break;case"dragenter":case"dragleave":Wn=null;break;case"mouseover":case"mouseout":Qn=null;break;case"pointerover":case"pointerout":Vl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wl.delete(t.pointerId)}}function ml(e,t,n,r,l,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[l]},t!==null&&(t=os(t),t!==null&&$o(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function nh(e,t,n,r,l){switch(t){case"focusin":return Vn=ml(Vn,e,t,n,r,l),!0;case"dragenter":return Wn=ml(Wn,e,t,n,r,l),!0;case"mouseover":return Qn=ml(Qn,e,t,n,r,l),!0;case"pointerover":var s=l.pointerId;return Vl.set(s,ml(Vl.get(s)||null,e,t,n,r,l)),!0;case"gotpointercapture":return s=l.pointerId,Wl.set(s,ml(Wl.get(s)||null,e,t,n,r,l)),!0}return!1}function cf(e){var t=dr(e.target);if(t!==null){var n=kr(t);if(n!==null){if(t=n.tag,t===13){if(t=qd(n),t!==null){e.blockedOn=t,uf(e.priority,function(){af(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Us(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ya(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Va=r,n.target.dispatchEvent(r),Va=null}else return t=os(n),t!==null&&$o(t),e.blockedOn=n,!1;t.shift()}return!0}function Gu(e,t,n){Us(e)&&n.delete(t)}function rh(){Ga=!1,Vn!==null&&Us(Vn)&&(Vn=null),Wn!==null&&Us(Wn)&&(Wn=null),Qn!==null&&Us(Qn)&&(Qn=null),Vl.forEach(Gu),Wl.forEach(Gu)}function hl(e,t){e.blockedOn===t&&(e.blockedOn=null,Ga||(Ga=!0,bt.unstable_scheduleCallback(bt.unstable_NormalPriority,rh)))}function Ql(e){function t(l){return hl(l,e)}if(0<js.length){hl(js[0],e);for(var n=1;n<js.length;n++){var r=js[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Vn!==null&&hl(Vn,e),Wn!==null&&hl(Wn,e),Qn!==null&&hl(Qn,e),Vl.forEach(t),Wl.forEach(t),n=0;n<zn.length;n++)r=zn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<zn.length&&(n=zn[0],n.blockedOn===null);)cf(n),n.blockedOn===null&&zn.shift()}var Gr=Pn.ReactCurrentBatchConfig,ti=!0;function lh(e,t,n,r){var l=we,s=Gr.transition;Gr.transition=null;try{we=1,Bo(e,t,n,r)}finally{we=l,Gr.transition=s}}function sh(e,t,n,r){var l=we,s=Gr.transition;Gr.transition=null;try{we=4,Bo(e,t,n,r)}finally{we=l,Gr.transition=s}}function Bo(e,t,n,r){if(ti){var l=Ya(e,t,n,r);if(l===null)ca(e,t,r,ni,n),Ku(e,r);else if(nh(l,e,t,n,r))r.stopPropagation();else if(Ku(e,r),t&4&&-1<th.indexOf(e)){for(;l!==null;){var s=os(l);if(s!==null&&sf(s),s=Ya(e,t,n,r),s===null&&ca(e,t,r,ni,n),s===l)break;l=s}l!==null&&r.stopPropagation()}else ca(e,t,r,null,n)}}var ni=null;function Ya(e,t,n,r){if(ni=null,e=zo(r),e=dr(e),e!==null)if(t=kr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=qd(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ni=e,null}function df(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hm()){case Uo:return 1;case tf:return 4;case Zs:case Km:return 16;case nf:return 536870912;default:return 16}default:return 16}}var An=null,Vo=null,As=null;function ff(){if(As)return As;var e,t=Vo,n=t.length,r,l="value"in An?An.value:An.textContent,s=l.length;for(e=0;e<n&&t[e]===l[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===l[s-r];r++);return As=l.slice(e,1<r?1-r:void 0)}function $s(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ns(){return!0}function Yu(){return!1}function Mt(e){function t(n,r,l,s,a){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ns:Yu,this.isPropagationStopped=Yu,this}return De(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ns)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ns)},persist:function(){},isPersistent:Ns}),t}var ol={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wo=Mt(ol),as=De({},ol,{view:0,detail:0}),ih=Mt(as),ta,na,vl,Ci=De({},as,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vl&&(vl&&e.type==="mousemove"?(ta=e.screenX-vl.screenX,na=e.screenY-vl.screenY):na=ta=0,vl=e),ta)},movementY:function(e){return"movementY"in e?e.movementY:na}}),Xu=Mt(Ci),ah=De({},Ci,{dataTransfer:0}),oh=Mt(ah),uh=De({},as,{relatedTarget:0}),ra=Mt(uh),ch=De({},ol,{animationName:0,elapsedTime:0,pseudoElement:0}),dh=Mt(ch),fh=De({},ol,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ph=Mt(fh),mh=De({},ol,{data:0}),qu=Mt(mh),hh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=gh[e])?!!t[e]:!1}function Qo(){return yh}var xh=De({},as,{key:function(e){if(e.key){var t=hh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=$s(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qo,charCode:function(e){return e.type==="keypress"?$s(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$s(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wh=Mt(xh),jh=De({},Ci,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ju=Mt(jh),Nh=De({},as,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qo}),Sh=Mt(Nh),kh=De({},ol,{propertyName:0,elapsedTime:0,pseudoElement:0}),Eh=Mt(kh),Ch=De({},Ci,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_h=Mt(Ch),Th=[9,13,27,32],Ho=kn&&"CompositionEvent"in window,Ml=null;kn&&"documentMode"in document&&(Ml=document.documentMode);var Ph=kn&&"TextEvent"in window&&!Ml,pf=kn&&(!Ho||Ml&&8<Ml&&11>=Ml),Zu=" ",ec=!1;function mf(e,t){switch(e){case"keyup":return Th.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fr=!1;function Lh(e,t){switch(e){case"compositionend":return hf(t);case"keypress":return t.which!==32?null:(ec=!0,Zu);case"textInput":return e=t.data,e===Zu&&ec?null:e;default:return null}}function bh(e,t){if(Fr)return e==="compositionend"||!Ho&&mf(e,t)?(e=ff(),As=Vo=An=null,Fr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return pf&&t.locale!=="ko"?null:t.data;default:return null}}var Rh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Rh[e.type]:t==="textarea"}function vf(e,t,n,r){Hd(r),t=ri(t,"onChange"),0<t.length&&(n=new Wo("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Dl=null,Hl=null;function Mh(e){_f(e,0)}function _i(e){var t=zr(e);if(Ud(t))return e}function Dh(e,t){if(e==="change")return t}var gf=!1;if(kn){var la;if(kn){var sa="oninput"in document;if(!sa){var nc=document.createElement("div");nc.setAttribute("oninput","return;"),sa=typeof nc.oninput=="function"}la=sa}else la=!1;gf=la&&(!document.documentMode||9<document.documentMode)}function rc(){Dl&&(Dl.detachEvent("onpropertychange",yf),Hl=Dl=null)}function yf(e){if(e.propertyName==="value"&&_i(Hl)){var t=[];vf(t,Hl,e,zo(e)),Xd(Mh,t)}}function Fh(e,t,n){e==="focusin"?(rc(),Dl=t,Hl=n,Dl.attachEvent("onpropertychange",yf)):e==="focusout"&&rc()}function Oh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _i(Hl)}function Ih(e,t){if(e==="click")return _i(t)}function zh(e,t){if(e==="input"||e==="change")return _i(t)}function Uh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Jt=typeof Object.is=="function"?Object.is:Uh;function Kl(e,t){if(Jt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!ba.call(t,l)||!Jt(e[l],t[l]))return!1}return!0}function lc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sc(e,t){var n=lc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=lc(n)}}function xf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?xf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function wf(){for(var e=window,t=Xs();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Xs(e.document)}return t}function Ko(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ah(e){var t=wf(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&xf(n.ownerDocument.documentElement,n)){if(r!==null&&Ko(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,s=Math.min(r.start,l);r=r.end===void 0?s:Math.min(r.end,l),!e.extend&&s>r&&(l=r,r=s,s=l),l=sc(n,s);var a=sc(n,r);l&&a&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var $h=kn&&"documentMode"in document&&11>=document.documentMode,Or=null,Xa=null,Fl=null,qa=!1;function ic(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;qa||Or==null||Or!==Xs(r)||(r=Or,"selectionStart"in r&&Ko(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Fl&&Kl(Fl,r)||(Fl=r,r=ri(Xa,"onSelect"),0<r.length&&(t=new Wo("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Or)))}function Ss(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ir={animationend:Ss("Animation","AnimationEnd"),animationiteration:Ss("Animation","AnimationIteration"),animationstart:Ss("Animation","AnimationStart"),transitionend:Ss("Transition","TransitionEnd")},ia={},jf={};kn&&(jf=document.createElement("div").style,"AnimationEvent"in window||(delete Ir.animationend.animation,delete Ir.animationiteration.animation,delete Ir.animationstart.animation),"TransitionEvent"in window||delete Ir.transitionend.transition);function Ti(e){if(ia[e])return ia[e];if(!Ir[e])return e;var t=Ir[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in jf)return ia[e]=t[n];return e}var Nf=Ti("animationend"),Sf=Ti("animationiteration"),kf=Ti("animationstart"),Ef=Ti("transitionend"),Cf=new Map,ac="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zn(e,t){Cf.set(e,t),Sr(t,[e])}for(var aa=0;aa<ac.length;aa++){var oa=ac[aa],Bh=oa.toLowerCase(),Vh=oa[0].toUpperCase()+oa.slice(1);Zn(Bh,"on"+Vh)}Zn(Nf,"onAnimationEnd");Zn(Sf,"onAnimationIteration");Zn(kf,"onAnimationStart");Zn("dblclick","onDoubleClick");Zn("focusin","onFocus");Zn("focusout","onBlur");Zn(Ef,"onTransitionEnd");Jr("onMouseEnter",["mouseout","mouseover"]);Jr("onMouseLeave",["mouseout","mouseover"]);Jr("onPointerEnter",["pointerout","pointerover"]);Jr("onPointerLeave",["pointerout","pointerover"]);Sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wh=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pl));function oc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Bm(r,t,void 0,e),e.currentTarget=null}function _f(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],u=o.instance,c=o.currentTarget;if(o=o.listener,u!==s&&l.isPropagationStopped())break e;oc(l,o,c),s=u}else for(a=0;a<r.length;a++){if(o=r[a],u=o.instance,c=o.currentTarget,o=o.listener,u!==s&&l.isPropagationStopped())break e;oc(l,o,c),s=u}}}if(Js)throw e=Ha,Js=!1,Ha=null,e}function Ee(e,t){var n=t[no];n===void 0&&(n=t[no]=new Set);var r=e+"__bubble";n.has(r)||(Tf(t,e,2,!1),n.add(r))}function ua(e,t,n){var r=0;t&&(r|=4),Tf(n,e,r,t)}var ks="_reactListening"+Math.random().toString(36).slice(2);function Gl(e){if(!e[ks]){e[ks]=!0,Dd.forEach(function(n){n!=="selectionchange"&&(Wh.has(n)||ua(n,!1,e),ua(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ks]||(t[ks]=!0,ua("selectionchange",!1,t))}}function Tf(e,t,n,r){switch(df(t)){case 1:var l=lh;break;case 4:l=sh;break;default:l=Bo}n=l.bind(null,t,n,e),l=void 0,!Qa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function ca(e,t,n,r,l){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===l||o.nodeType===8&&o.parentNode===l)break;if(a===4)for(a=r.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===l||u.nodeType===8&&u.parentNode===l))return;a=a.return}for(;o!==null;){if(a=dr(o),a===null)return;if(u=a.tag,u===5||u===6){r=s=a;continue e}o=o.parentNode}}r=r.return}Xd(function(){var c=s,m=zo(n),f=[];e:{var h=Cf.get(e);if(h!==void 0){var x=Wo,j=e;switch(e){case"keypress":if($s(n)===0)break e;case"keydown":case"keyup":x=wh;break;case"focusin":j="focus",x=ra;break;case"focusout":j="blur",x=ra;break;case"beforeblur":case"afterblur":x=ra;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=Xu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=oh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=Sh;break;case Nf:case Sf:case kf:x=dh;break;case Ef:x=Eh;break;case"scroll":x=ih;break;case"wheel":x=_h;break;case"copy":case"cut":case"paste":x=ph;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=Ju}var k=(t&4)!==0,P=!k&&e==="scroll",g=k?h!==null?h+"Capture":null:h;k=[];for(var d=c,v;d!==null;){v=d;var E=v.stateNode;if(v.tag===5&&E!==null&&(v=E,g!==null&&(E=Bl(d,g),E!=null&&k.push(Yl(d,E,v)))),P)break;d=d.return}0<k.length&&(h=new x(h,j,null,n,m),f.push({event:h,listeners:k}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",h&&n!==Va&&(j=n.relatedTarget||n.fromElement)&&(dr(j)||j[En]))break e;if((x||h)&&(h=m.window===m?m:(h=m.ownerDocument)?h.defaultView||h.parentWindow:window,x?(j=n.relatedTarget||n.toElement,x=c,j=j?dr(j):null,j!==null&&(P=kr(j),j!==P||j.tag!==5&&j.tag!==6)&&(j=null)):(x=null,j=c),x!==j)){if(k=Xu,E="onMouseLeave",g="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(k=Ju,E="onPointerLeave",g="onPointerEnter",d="pointer"),P=x==null?h:zr(x),v=j==null?h:zr(j),h=new k(E,d+"leave",x,n,m),h.target=P,h.relatedTarget=v,E=null,dr(m)===c&&(k=new k(g,d+"enter",j,n,m),k.target=v,k.relatedTarget=P,E=k),P=E,x&&j)t:{for(k=x,g=j,d=0,v=k;v;v=br(v))d++;for(v=0,E=g;E;E=br(E))v++;for(;0<d-v;)k=br(k),d--;for(;0<v-d;)g=br(g),v--;for(;d--;){if(k===g||g!==null&&k===g.alternate)break t;k=br(k),g=br(g)}k=null}else k=null;x!==null&&uc(f,h,x,k,!1),j!==null&&P!==null&&uc(f,P,j,k,!0)}}e:{if(h=c?zr(c):window,x=h.nodeName&&h.nodeName.toLowerCase(),x==="select"||x==="input"&&h.type==="file")var T=Dh;else if(tc(h))if(gf)T=zh;else{T=Oh;var D=Fh}else(x=h.nodeName)&&x.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(T=Ih);if(T&&(T=T(e,c))){vf(f,T,n,m);break e}D&&D(e,h,c),e==="focusout"&&(D=h._wrapperState)&&D.controlled&&h.type==="number"&&za(h,"number",h.value)}switch(D=c?zr(c):window,e){case"focusin":(tc(D)||D.contentEditable==="true")&&(Or=D,Xa=c,Fl=null);break;case"focusout":Fl=Xa=Or=null;break;case"mousedown":qa=!0;break;case"contextmenu":case"mouseup":case"dragend":qa=!1,ic(f,n,m);break;case"selectionchange":if($h)break;case"keydown":case"keyup":ic(f,n,m)}var w;if(Ho)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Fr?mf(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(pf&&n.locale!=="ko"&&(Fr||_!=="onCompositionStart"?_==="onCompositionEnd"&&Fr&&(w=ff()):(An=m,Vo="value"in An?An.value:An.textContent,Fr=!0)),D=ri(c,_),0<D.length&&(_=new qu(_,e,null,n,m),f.push({event:_,listeners:D}),w?_.data=w:(w=hf(n),w!==null&&(_.data=w)))),(w=Ph?Lh(e,n):bh(e,n))&&(c=ri(c,"onBeforeInput"),0<c.length&&(m=new qu("onBeforeInput","beforeinput",null,n,m),f.push({event:m,listeners:c}),m.data=w))}_f(f,t)})}function Yl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ri(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,s=l.stateNode;l.tag===5&&s!==null&&(l=s,s=Bl(e,n),s!=null&&r.unshift(Yl(e,s,l)),s=Bl(e,t),s!=null&&r.push(Yl(e,s,l))),e=e.return}return r}function br(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function uc(e,t,n,r,l){for(var s=t._reactName,a=[];n!==null&&n!==r;){var o=n,u=o.alternate,c=o.stateNode;if(u!==null&&u===r)break;o.tag===5&&c!==null&&(o=c,l?(u=Bl(n,s),u!=null&&a.unshift(Yl(n,u,o))):l||(u=Bl(n,s),u!=null&&a.push(Yl(n,u,o)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var Qh=/\r\n?/g,Hh=/\u0000|\uFFFD/g;function cc(e){return(typeof e=="string"?e:""+e).replace(Qh,`
`).replace(Hh,"")}function Es(e,t,n){if(t=cc(t),cc(e)!==t&&n)throw Error(M(425))}function li(){}var Ja=null,Za=null;function eo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var to=typeof setTimeout=="function"?setTimeout:void 0,Kh=typeof clearTimeout=="function"?clearTimeout:void 0,dc=typeof Promise=="function"?Promise:void 0,Gh=typeof queueMicrotask=="function"?queueMicrotask:typeof dc<"u"?function(e){return dc.resolve(null).then(e).catch(Yh)}:to;function Yh(e){setTimeout(function(){throw e})}function da(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),Ql(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);Ql(t)}function Hn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function fc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ul=Math.random().toString(36).slice(2),an="__reactFiber$"+ul,Xl="__reactProps$"+ul,En="__reactContainer$"+ul,no="__reactEvents$"+ul,Xh="__reactListeners$"+ul,qh="__reactHandles$"+ul;function dr(e){var t=e[an];if(t)return t;for(var n=e.parentNode;n;){if(t=n[En]||n[an]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=fc(e);e!==null;){if(n=e[an])return n;e=fc(e)}return t}e=n,n=e.parentNode}return null}function os(e){return e=e[an]||e[En],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(M(33))}function Pi(e){return e[Xl]||null}var ro=[],Ur=-1;function er(e){return{current:e}}function Ce(e){0>Ur||(e.current=ro[Ur],ro[Ur]=null,Ur--)}function ke(e,t){Ur++,ro[Ur]=e.current,e.current=t}var Jn={},it=er(Jn),wt=er(!1),gr=Jn;function Zr(e,t){var n=e.type.contextTypes;if(!n)return Jn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},s;for(s in n)l[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function jt(e){return e=e.childContextTypes,e!=null}function si(){Ce(wt),Ce(it)}function pc(e,t,n){if(it.current!==Jn)throw Error(M(168));ke(it,t),ke(wt,n)}function Pf(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(M(108,Fm(e)||"Unknown",l));return De({},n,r)}function ii(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Jn,gr=it.current,ke(it,e),ke(wt,wt.current),!0}function mc(e,t,n){var r=e.stateNode;if(!r)throw Error(M(169));n?(e=Pf(e,t,gr),r.__reactInternalMemoizedMergedChildContext=e,Ce(wt),Ce(it),ke(it,e)):Ce(wt),ke(wt,n)}var yn=null,Li=!1,fa=!1;function Lf(e){yn===null?yn=[e]:yn.push(e)}function Jh(e){Li=!0,Lf(e)}function tr(){if(!fa&&yn!==null){fa=!0;var e=0,t=we;try{var n=yn;for(we=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}yn=null,Li=!1}catch(l){throw yn!==null&&(yn=yn.slice(e+1)),ef(Uo,tr),l}finally{we=t,fa=!1}}return null}var Ar=[],$r=0,ai=null,oi=0,Ft=[],Ot=0,yr=null,wn=1,jn="";function ar(e,t){Ar[$r++]=oi,Ar[$r++]=ai,ai=e,oi=t}function bf(e,t,n){Ft[Ot++]=wn,Ft[Ot++]=jn,Ft[Ot++]=yr,yr=e;var r=wn;e=jn;var l=32-Xt(r)-1;r&=~(1<<l),n+=1;var s=32-Xt(t)+l;if(30<s){var a=l-l%5;s=(r&(1<<a)-1).toString(32),r>>=a,l-=a,wn=1<<32-Xt(t)+l|n<<l|r,jn=s+e}else wn=1<<s|n<<l|r,jn=e}function Go(e){e.return!==null&&(ar(e,1),bf(e,1,0))}function Yo(e){for(;e===ai;)ai=Ar[--$r],Ar[$r]=null,oi=Ar[--$r],Ar[$r]=null;for(;e===yr;)yr=Ft[--Ot],Ft[Ot]=null,jn=Ft[--Ot],Ft[Ot]=null,wn=Ft[--Ot],Ft[Ot]=null}var Lt=null,Tt=null,Le=!1,Yt=null;function Rf(e,t){var n=It(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function hc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Lt=e,Tt=Hn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Lt=e,Tt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=yr!==null?{id:wn,overflow:jn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=It(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Lt=e,Tt=null,!0):!1;default:return!1}}function lo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function so(e){if(Le){var t=Tt;if(t){var n=t;if(!hc(e,t)){if(lo(e))throw Error(M(418));t=Hn(n.nextSibling);var r=Lt;t&&hc(e,t)?Rf(r,n):(e.flags=e.flags&-4097|2,Le=!1,Lt=e)}}else{if(lo(e))throw Error(M(418));e.flags=e.flags&-4097|2,Le=!1,Lt=e}}}function vc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Lt=e}function Cs(e){if(e!==Lt)return!1;if(!Le)return vc(e),Le=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!eo(e.type,e.memoizedProps)),t&&(t=Tt)){if(lo(e))throw Mf(),Error(M(418));for(;t;)Rf(e,t),t=Hn(t.nextSibling)}if(vc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(M(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Tt=Hn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Tt=null}}else Tt=Lt?Hn(e.stateNode.nextSibling):null;return!0}function Mf(){for(var e=Tt;e;)e=Hn(e.nextSibling)}function el(){Tt=Lt=null,Le=!1}function Xo(e){Yt===null?Yt=[e]:Yt.push(e)}var Zh=Pn.ReactCurrentBatchConfig;function gl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(M(309));var r=n.stateNode}if(!r)throw Error(M(147,e));var l=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var o=l.refs;a===null?delete o[s]:o[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(M(284));if(!n._owner)throw Error(M(290,e))}return e}function _s(e,t){throw e=Object.prototype.toString.call(t),Error(M(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function gc(e){var t=e._init;return t(e._payload)}function Df(e){function t(g,d){if(e){var v=g.deletions;v===null?(g.deletions=[d],g.flags|=16):v.push(d)}}function n(g,d){if(!e)return null;for(;d!==null;)t(g,d),d=d.sibling;return null}function r(g,d){for(g=new Map;d!==null;)d.key!==null?g.set(d.key,d):g.set(d.index,d),d=d.sibling;return g}function l(g,d){return g=Xn(g,d),g.index=0,g.sibling=null,g}function s(g,d,v){return g.index=v,e?(v=g.alternate,v!==null?(v=v.index,v<d?(g.flags|=2,d):v):(g.flags|=2,d)):(g.flags|=1048576,d)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function o(g,d,v,E){return d===null||d.tag!==6?(d=xa(v,g.mode,E),d.return=g,d):(d=l(d,v),d.return=g,d)}function u(g,d,v,E){var T=v.type;return T===Dr?m(g,d,v.props.children,E,v.key):d!==null&&(d.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===On&&gc(T)===d.type)?(E=l(d,v.props),E.ref=gl(g,d,v),E.return=g,E):(E=Gs(v.type,v.key,v.props,null,g.mode,E),E.ref=gl(g,d,v),E.return=g,E)}function c(g,d,v,E){return d===null||d.tag!==4||d.stateNode.containerInfo!==v.containerInfo||d.stateNode.implementation!==v.implementation?(d=wa(v,g.mode,E),d.return=g,d):(d=l(d,v.children||[]),d.return=g,d)}function m(g,d,v,E,T){return d===null||d.tag!==7?(d=vr(v,g.mode,E,T),d.return=g,d):(d=l(d,v),d.return=g,d)}function f(g,d,v){if(typeof d=="string"&&d!==""||typeof d=="number")return d=xa(""+d,g.mode,v),d.return=g,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case vs:return v=Gs(d.type,d.key,d.props,null,g.mode,v),v.ref=gl(g,null,d),v.return=g,v;case Mr:return d=wa(d,g.mode,v),d.return=g,d;case On:var E=d._init;return f(g,E(d._payload),v)}if(_l(d)||fl(d))return d=vr(d,g.mode,v,null),d.return=g,d;_s(g,d)}return null}function h(g,d,v,E){var T=d!==null?d.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return T!==null?null:o(g,d,""+v,E);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case vs:return v.key===T?u(g,d,v,E):null;case Mr:return v.key===T?c(g,d,v,E):null;case On:return T=v._init,h(g,d,T(v._payload),E)}if(_l(v)||fl(v))return T!==null?null:m(g,d,v,E,null);_s(g,v)}return null}function x(g,d,v,E,T){if(typeof E=="string"&&E!==""||typeof E=="number")return g=g.get(v)||null,o(d,g,""+E,T);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case vs:return g=g.get(E.key===null?v:E.key)||null,u(d,g,E,T);case Mr:return g=g.get(E.key===null?v:E.key)||null,c(d,g,E,T);case On:var D=E._init;return x(g,d,v,D(E._payload),T)}if(_l(E)||fl(E))return g=g.get(v)||null,m(d,g,E,T,null);_s(d,E)}return null}function j(g,d,v,E){for(var T=null,D=null,w=d,_=d=0,$=null;w!==null&&_<v.length;_++){w.index>_?($=w,w=null):$=w.sibling;var F=h(g,w,v[_],E);if(F===null){w===null&&(w=$);break}e&&w&&F.alternate===null&&t(g,w),d=s(F,d,_),D===null?T=F:D.sibling=F,D=F,w=$}if(_===v.length)return n(g,w),Le&&ar(g,_),T;if(w===null){for(;_<v.length;_++)w=f(g,v[_],E),w!==null&&(d=s(w,d,_),D===null?T=w:D.sibling=w,D=w);return Le&&ar(g,_),T}for(w=r(g,w);_<v.length;_++)$=x(w,g,_,v[_],E),$!==null&&(e&&$.alternate!==null&&w.delete($.key===null?_:$.key),d=s($,d,_),D===null?T=$:D.sibling=$,D=$);return e&&w.forEach(function(J){return t(g,J)}),Le&&ar(g,_),T}function k(g,d,v,E){var T=fl(v);if(typeof T!="function")throw Error(M(150));if(v=T.call(v),v==null)throw Error(M(151));for(var D=T=null,w=d,_=d=0,$=null,F=v.next();w!==null&&!F.done;_++,F=v.next()){w.index>_?($=w,w=null):$=w.sibling;var J=h(g,w,F.value,E);if(J===null){w===null&&(w=$);break}e&&w&&J.alternate===null&&t(g,w),d=s(J,d,_),D===null?T=J:D.sibling=J,D=J,w=$}if(F.done)return n(g,w),Le&&ar(g,_),T;if(w===null){for(;!F.done;_++,F=v.next())F=f(g,F.value,E),F!==null&&(d=s(F,d,_),D===null?T=F:D.sibling=F,D=F);return Le&&ar(g,_),T}for(w=r(g,w);!F.done;_++,F=v.next())F=x(w,g,_,F.value,E),F!==null&&(e&&F.alternate!==null&&w.delete(F.key===null?_:F.key),d=s(F,d,_),D===null?T=F:D.sibling=F,D=F);return e&&w.forEach(function(oe){return t(g,oe)}),Le&&ar(g,_),T}function P(g,d,v,E){if(typeof v=="object"&&v!==null&&v.type===Dr&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case vs:e:{for(var T=v.key,D=d;D!==null;){if(D.key===T){if(T=v.type,T===Dr){if(D.tag===7){n(g,D.sibling),d=l(D,v.props.children),d.return=g,g=d;break e}}else if(D.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===On&&gc(T)===D.type){n(g,D.sibling),d=l(D,v.props),d.ref=gl(g,D,v),d.return=g,g=d;break e}n(g,D);break}else t(g,D);D=D.sibling}v.type===Dr?(d=vr(v.props.children,g.mode,E,v.key),d.return=g,g=d):(E=Gs(v.type,v.key,v.props,null,g.mode,E),E.ref=gl(g,d,v),E.return=g,g=E)}return a(g);case Mr:e:{for(D=v.key;d!==null;){if(d.key===D)if(d.tag===4&&d.stateNode.containerInfo===v.containerInfo&&d.stateNode.implementation===v.implementation){n(g,d.sibling),d=l(d,v.children||[]),d.return=g,g=d;break e}else{n(g,d);break}else t(g,d);d=d.sibling}d=wa(v,g.mode,E),d.return=g,g=d}return a(g);case On:return D=v._init,P(g,d,D(v._payload),E)}if(_l(v))return j(g,d,v,E);if(fl(v))return k(g,d,v,E);_s(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,d!==null&&d.tag===6?(n(g,d.sibling),d=l(d,v),d.return=g,g=d):(n(g,d),d=xa(v,g.mode,E),d.return=g,g=d),a(g)):n(g,d)}return P}var tl=Df(!0),Ff=Df(!1),ui=er(null),ci=null,Br=null,qo=null;function Jo(){qo=Br=ci=null}function Zo(e){var t=ui.current;Ce(ui),e._currentValue=t}function io(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Yr(e,t){ci=e,qo=Br=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(xt=!0),e.firstContext=null)}function Ut(e){var t=e._currentValue;if(qo!==e)if(e={context:e,memoizedValue:t,next:null},Br===null){if(ci===null)throw Error(M(308));Br=e,ci.dependencies={lanes:0,firstContext:e}}else Br=Br.next=e;return t}var fr=null;function eu(e){fr===null?fr=[e]:fr.push(e)}function Of(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,eu(t)):(n.next=l.next,l.next=n),t.interleaved=n,Cn(e,r)}function Cn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var In=!1;function tu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function If(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Nn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Kn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ve&2){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,Cn(e,n)}return l=r.interleaved,l===null?(t.next=t,eu(r)):(t.next=l.next,l.next=t),r.interleaved=t,Cn(e,n)}function Bs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ao(e,n)}}function yc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?l=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?l=s=t:s=s.next=t}else l=s=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function di(e,t,n,r){var l=e.updateQueue;In=!1;var s=l.firstBaseUpdate,a=l.lastBaseUpdate,o=l.shared.pending;if(o!==null){l.shared.pending=null;var u=o,c=u.next;u.next=null,a===null?s=c:a.next=c,a=u;var m=e.alternate;m!==null&&(m=m.updateQueue,o=m.lastBaseUpdate,o!==a&&(o===null?m.firstBaseUpdate=c:o.next=c,m.lastBaseUpdate=u))}if(s!==null){var f=l.baseState;a=0,m=c=u=null,o=s;do{var h=o.lane,x=o.eventTime;if((r&h)===h){m!==null&&(m=m.next={eventTime:x,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var j=e,k=o;switch(h=t,x=n,k.tag){case 1:if(j=k.payload,typeof j=="function"){f=j.call(x,f,h);break e}f=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=k.payload,h=typeof j=="function"?j.call(x,f,h):j,h==null)break e;f=De({},f,h);break e;case 2:In=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=l.effects,h===null?l.effects=[o]:h.push(o))}else x={eventTime:x,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},m===null?(c=m=x,u=f):m=m.next=x,a|=h;if(o=o.next,o===null){if(o=l.shared.pending,o===null)break;h=o,o=h.next,h.next=null,l.lastBaseUpdate=h,l.shared.pending=null}}while(!0);if(m===null&&(u=f),l.baseState=u,l.firstBaseUpdate=c,l.lastBaseUpdate=m,t=l.shared.interleaved,t!==null){l=t;do a|=l.lane,l=l.next;while(l!==t)}else s===null&&(l.shared.lanes=0);wr|=a,e.lanes=a,e.memoizedState=f}}function xc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(M(191,l));l.call(r)}}}var us={},un=er(us),ql=er(us),Jl=er(us);function pr(e){if(e===us)throw Error(M(174));return e}function nu(e,t){switch(ke(Jl,t),ke(ql,e),ke(un,us),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Aa(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Aa(t,e)}Ce(un),ke(un,t)}function nl(){Ce(un),Ce(ql),Ce(Jl)}function zf(e){pr(Jl.current);var t=pr(un.current),n=Aa(t,e.type);t!==n&&(ke(ql,e),ke(un,n))}function ru(e){ql.current===e&&(Ce(un),Ce(ql))}var Re=er(0);function fi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var pa=[];function lu(){for(var e=0;e<pa.length;e++)pa[e]._workInProgressVersionPrimary=null;pa.length=0}var Vs=Pn.ReactCurrentDispatcher,ma=Pn.ReactCurrentBatchConfig,xr=0,Me=null,Ve=null,Ge=null,pi=!1,Ol=!1,Zl=0,ev=0;function rt(){throw Error(M(321))}function su(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Jt(e[n],t[n]))return!1;return!0}function iu(e,t,n,r,l,s){if(xr=s,Me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Vs.current=e===null||e.memoizedState===null?lv:sv,e=n(r,l),Ol){s=0;do{if(Ol=!1,Zl=0,25<=s)throw Error(M(301));s+=1,Ge=Ve=null,t.updateQueue=null,Vs.current=iv,e=n(r,l)}while(Ol)}if(Vs.current=mi,t=Ve!==null&&Ve.next!==null,xr=0,Ge=Ve=Me=null,pi=!1,t)throw Error(M(300));return e}function au(){var e=Zl!==0;return Zl=0,e}function sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?Me.memoizedState=Ge=e:Ge=Ge.next=e,Ge}function At(){if(Ve===null){var e=Me.alternate;e=e!==null?e.memoizedState:null}else e=Ve.next;var t=Ge===null?Me.memoizedState:Ge.next;if(t!==null)Ge=t,Ve=e;else{if(e===null)throw Error(M(310));Ve=e,e={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},Ge===null?Me.memoizedState=Ge=e:Ge=Ge.next=e}return Ge}function es(e,t){return typeof t=="function"?t(e):t}function ha(e){var t=At(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var r=Ve,l=r.baseQueue,s=n.pending;if(s!==null){if(l!==null){var a=l.next;l.next=s.next,s.next=a}r.baseQueue=l=s,n.pending=null}if(l!==null){s=l.next,r=r.baseState;var o=a=null,u=null,c=s;do{var m=c.lane;if((xr&m)===m)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:m,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(o=u=f,a=r):u=u.next=f,Me.lanes|=m,wr|=m}c=c.next}while(c!==null&&c!==s);u===null?a=r:u.next=o,Jt(r,t.memoizedState)||(xt=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do s=l.lane,Me.lanes|=s,wr|=s,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function va(e){var t=At(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,s=t.memoizedState;if(l!==null){n.pending=null;var a=l=l.next;do s=e(s,a.action),a=a.next;while(a!==l);Jt(s,t.memoizedState)||(xt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Uf(){}function Af(e,t){var n=Me,r=At(),l=t(),s=!Jt(r.memoizedState,l);if(s&&(r.memoizedState=l,xt=!0),r=r.queue,ou(Vf.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Ge!==null&&Ge.memoizedState.tag&1){if(n.flags|=2048,ts(9,Bf.bind(null,n,r,l,t),void 0,null),Ye===null)throw Error(M(349));xr&30||$f(n,t,l)}return l}function $f(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Me.updateQueue,t===null?(t={lastEffect:null,stores:null},Me.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Bf(e,t,n,r){t.value=n,t.getSnapshot=r,Wf(t)&&Qf(e)}function Vf(e,t,n){return n(function(){Wf(t)&&Qf(e)})}function Wf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Jt(e,n)}catch{return!0}}function Qf(e){var t=Cn(e,1);t!==null&&qt(t,e,1,-1)}function wc(e){var t=sn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:e},t.queue=e,e=e.dispatch=rv.bind(null,Me,e),[t.memoizedState,e]}function ts(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Me.updateQueue,t===null?(t={lastEffect:null,stores:null},Me.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Hf(){return At().memoizedState}function Ws(e,t,n,r){var l=sn();Me.flags|=e,l.memoizedState=ts(1|t,n,void 0,r===void 0?null:r)}function bi(e,t,n,r){var l=At();r=r===void 0?null:r;var s=void 0;if(Ve!==null){var a=Ve.memoizedState;if(s=a.destroy,r!==null&&su(r,a.deps)){l.memoizedState=ts(t,n,s,r);return}}Me.flags|=e,l.memoizedState=ts(1|t,n,s,r)}function jc(e,t){return Ws(8390656,8,e,t)}function ou(e,t){return bi(2048,8,e,t)}function Kf(e,t){return bi(4,2,e,t)}function Gf(e,t){return bi(4,4,e,t)}function Yf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Xf(e,t,n){return n=n!=null?n.concat([e]):null,bi(4,4,Yf.bind(null,t,e),n)}function uu(){}function qf(e,t){var n=At();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&su(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jf(e,t){var n=At();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&su(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Zf(e,t,n){return xr&21?(Jt(n,t)||(n=rf(),Me.lanes|=n,wr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,xt=!0),e.memoizedState=n)}function tv(e,t){var n=we;we=n!==0&&4>n?n:4,e(!0);var r=ma.transition;ma.transition={};try{e(!1),t()}finally{we=n,ma.transition=r}}function ep(){return At().memoizedState}function nv(e,t,n){var r=Yn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},tp(e))np(t,n);else if(n=Of(e,t,n,r),n!==null){var l=ct();qt(n,e,r,l),rp(n,t,r)}}function rv(e,t,n){var r=Yn(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(tp(e))np(t,l);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,o=s(a,n);if(l.hasEagerState=!0,l.eagerState=o,Jt(o,a)){var u=t.interleaved;u===null?(l.next=l,eu(t)):(l.next=u.next,u.next=l),t.interleaved=l;return}}catch{}finally{}n=Of(e,t,l,r),n!==null&&(l=ct(),qt(n,e,r,l),rp(n,t,r))}}function tp(e){var t=e.alternate;return e===Me||t!==null&&t===Me}function np(e,t){Ol=pi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function rp(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ao(e,n)}}var mi={readContext:Ut,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useInsertionEffect:rt,useLayoutEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useMutableSource:rt,useSyncExternalStore:rt,useId:rt,unstable_isNewReconciler:!1},lv={readContext:Ut,useCallback:function(e,t){return sn().memoizedState=[e,t===void 0?null:t],e},useContext:Ut,useEffect:jc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ws(4194308,4,Yf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ws(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ws(4,2,e,t)},useMemo:function(e,t){var n=sn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=sn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=nv.bind(null,Me,e),[r.memoizedState,e]},useRef:function(e){var t=sn();return e={current:e},t.memoizedState=e},useState:wc,useDebugValue:uu,useDeferredValue:function(e){return sn().memoizedState=e},useTransition:function(){var e=wc(!1),t=e[0];return e=tv.bind(null,e[1]),sn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Me,l=sn();if(Le){if(n===void 0)throw Error(M(407));n=n()}else{if(n=t(),Ye===null)throw Error(M(349));xr&30||$f(r,t,n)}l.memoizedState=n;var s={value:n,getSnapshot:t};return l.queue=s,jc(Vf.bind(null,r,s,e),[e]),r.flags|=2048,ts(9,Bf.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=sn(),t=Ye.identifierPrefix;if(Le){var n=jn,r=wn;n=(r&~(1<<32-Xt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Zl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=ev++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},sv={readContext:Ut,useCallback:qf,useContext:Ut,useEffect:ou,useImperativeHandle:Xf,useInsertionEffect:Kf,useLayoutEffect:Gf,useMemo:Jf,useReducer:ha,useRef:Hf,useState:function(){return ha(es)},useDebugValue:uu,useDeferredValue:function(e){var t=At();return Zf(t,Ve.memoizedState,e)},useTransition:function(){var e=ha(es)[0],t=At().memoizedState;return[e,t]},useMutableSource:Uf,useSyncExternalStore:Af,useId:ep,unstable_isNewReconciler:!1},iv={readContext:Ut,useCallback:qf,useContext:Ut,useEffect:ou,useImperativeHandle:Xf,useInsertionEffect:Kf,useLayoutEffect:Gf,useMemo:Jf,useReducer:va,useRef:Hf,useState:function(){return va(es)},useDebugValue:uu,useDeferredValue:function(e){var t=At();return Ve===null?t.memoizedState=e:Zf(t,Ve.memoizedState,e)},useTransition:function(){var e=va(es)[0],t=At().memoizedState;return[e,t]},useMutableSource:Uf,useSyncExternalStore:Af,useId:ep,unstable_isNewReconciler:!1};function Ht(e,t){if(e&&e.defaultProps){t=De({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ao(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:De({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ri={isMounted:function(e){return(e=e._reactInternals)?kr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ct(),l=Yn(e),s=Nn(r,l);s.payload=t,n!=null&&(s.callback=n),t=Kn(e,s,l),t!==null&&(qt(t,e,l,r),Bs(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ct(),l=Yn(e),s=Nn(r,l);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Kn(e,s,l),t!==null&&(qt(t,e,l,r),Bs(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ct(),r=Yn(e),l=Nn(n,r);l.tag=2,t!=null&&(l.callback=t),t=Kn(e,l,r),t!==null&&(qt(t,e,r,n),Bs(t,e,r))}};function Nc(e,t,n,r,l,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,a):t.prototype&&t.prototype.isPureReactComponent?!Kl(n,r)||!Kl(l,s):!0}function lp(e,t,n){var r=!1,l=Jn,s=t.contextType;return typeof s=="object"&&s!==null?s=Ut(s):(l=jt(t)?gr:it.current,r=t.contextTypes,s=(r=r!=null)?Zr(e,l):Jn),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ri,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=s),t}function Sc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ri.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},tu(e);var s=t.contextType;typeof s=="object"&&s!==null?l.context=Ut(s):(s=jt(t)?gr:it.current,l.context=Zr(e,s)),l.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(ao(e,t,s,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Ri.enqueueReplaceState(l,l.state,null),di(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function rl(e,t){try{var n="",r=t;do n+=Dm(r),r=r.return;while(r);var l=n}catch(s){l=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:l,digest:null}}function ga(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function uo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var av=typeof WeakMap=="function"?WeakMap:Map;function sp(e,t,n){n=Nn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){vi||(vi=!0,wo=r),uo(e,t)},n}function ip(e,t,n){n=Nn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){uo(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){uo(e,t),typeof r!="function"&&(Gn===null?Gn=new Set([this]):Gn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function kc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new av;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=jv.bind(null,e,t,n),t.then(e,e))}function Ec(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Cc(e,t,n,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Nn(-1,1),t.tag=2,Kn(n,t,1))),n.lanes|=1),e)}var ov=Pn.ReactCurrentOwner,xt=!1;function ut(e,t,n,r){t.child=e===null?Ff(t,null,n,r):tl(t,e.child,n,r)}function _c(e,t,n,r,l){n=n.render;var s=t.ref;return Yr(t,l),r=iu(e,t,n,r,s,l),n=au(),e!==null&&!xt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,_n(e,t,l)):(Le&&n&&Go(t),t.flags|=1,ut(e,t,r,l),t.child)}function Tc(e,t,n,r,l){if(e===null){var s=n.type;return typeof s=="function"&&!gu(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,ap(e,t,s,r,l)):(e=Gs(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&l)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Kl,n(a,r)&&e.ref===t.ref)return _n(e,t,l)}return t.flags|=1,e=Xn(s,r),e.ref=t.ref,e.return=t,t.child=e}function ap(e,t,n,r,l){if(e!==null){var s=e.memoizedProps;if(Kl(s,r)&&e.ref===t.ref)if(xt=!1,t.pendingProps=r=s,(e.lanes&l)!==0)e.flags&131072&&(xt=!0);else return t.lanes=e.lanes,_n(e,t,l)}return co(e,t,n,r,l)}function op(e,t,n){var r=t.pendingProps,l=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(Wr,Ct),Ct|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ke(Wr,Ct),Ct|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ke(Wr,Ct),Ct|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,ke(Wr,Ct),Ct|=r;return ut(e,t,l,n),t.child}function up(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function co(e,t,n,r,l){var s=jt(n)?gr:it.current;return s=Zr(t,s),Yr(t,l),n=iu(e,t,n,r,s,l),r=au(),e!==null&&!xt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,_n(e,t,l)):(Le&&r&&Go(t),t.flags|=1,ut(e,t,n,l),t.child)}function Pc(e,t,n,r,l){if(jt(n)){var s=!0;ii(t)}else s=!1;if(Yr(t,l),t.stateNode===null)Qs(e,t),lp(t,n,r),oo(t,n,r,l),r=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var u=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ut(c):(c=jt(n)?gr:it.current,c=Zr(t,c));var m=n.getDerivedStateFromProps,f=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||u!==c)&&Sc(t,a,r,c),In=!1;var h=t.memoizedState;a.state=h,di(t,r,a,l),u=t.memoizedState,o!==r||h!==u||wt.current||In?(typeof m=="function"&&(ao(t,n,m,r),u=t.memoizedState),(o=In||Nc(t,n,o,r,h,u,c))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,If(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:Ht(t.type,o),a.props=c,f=t.pendingProps,h=a.context,u=n.contextType,typeof u=="object"&&u!==null?u=Ut(u):(u=jt(n)?gr:it.current,u=Zr(t,u));var x=n.getDerivedStateFromProps;(m=typeof x=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||h!==u)&&Sc(t,a,r,u),In=!1,h=t.memoizedState,a.state=h,di(t,r,a,l);var j=t.memoizedState;o!==f||h!==j||wt.current||In?(typeof x=="function"&&(ao(t,n,x,r),j=t.memoizedState),(c=In||Nc(t,n,c,r,h,j,u)||!1)?(m||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,j,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,j,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=j),a.props=r,a.state=j,a.context=u,r=c):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return fo(e,t,n,r,s,l)}function fo(e,t,n,r,l,s){up(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return l&&mc(t,n,!1),_n(e,t,s);r=t.stateNode,ov.current=t;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=tl(t,e.child,null,s),t.child=tl(t,null,o,s)):ut(e,t,o,s),t.memoizedState=r.state,l&&mc(t,n,!0),t.child}function cp(e){var t=e.stateNode;t.pendingContext?pc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&pc(e,t.context,!1),nu(e,t.containerInfo)}function Lc(e,t,n,r,l){return el(),Xo(l),t.flags|=256,ut(e,t,n,r),t.child}var po={dehydrated:null,treeContext:null,retryLane:0};function mo(e){return{baseLanes:e,cachePool:null,transitions:null}}function dp(e,t,n){var r=t.pendingProps,l=Re.current,s=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(l&2)!==0),o?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),ke(Re,l&1),e===null)return so(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,s?(r=t.mode,s=t.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Fi(a,r,0,null),e=vr(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=mo(n),t.memoizedState=po,e):cu(t,a));if(l=e.memoizedState,l!==null&&(o=l.dehydrated,o!==null))return uv(e,t,a,r,o,l,n);if(s){s=r.fallback,a=t.mode,l=e.child,o=l.sibling;var u={mode:"hidden",children:r.children};return!(a&1)&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Xn(l,u),r.subtreeFlags=l.subtreeFlags&14680064),o!==null?s=Xn(o,s):(s=vr(s,a,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,a=e.child.memoizedState,a=a===null?mo(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~n,t.memoizedState=po,r}return s=e.child,e=s.sibling,r=Xn(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function cu(e,t){return t=Fi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ts(e,t,n,r){return r!==null&&Xo(r),tl(t,e.child,null,n),e=cu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function uv(e,t,n,r,l,s,a){if(n)return t.flags&256?(t.flags&=-257,r=ga(Error(M(422))),Ts(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,l=t.mode,r=Fi({mode:"visible",children:r.children},l,0,null),s=vr(s,l,a,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&tl(t,e.child,null,a),t.child.memoizedState=mo(a),t.memoizedState=po,s);if(!(t.mode&1))return Ts(e,t,a,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(M(419)),r=ga(s,r,void 0),Ts(e,t,a,r)}if(o=(a&e.childLanes)!==0,xt||o){if(r=Ye,r!==null){switch(a&-a){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|a)?0:l,l!==0&&l!==s.retryLane&&(s.retryLane=l,Cn(e,l),qt(r,e,l,-1))}return vu(),r=ga(Error(M(421))),Ts(e,t,a,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Nv.bind(null,e),l._reactRetry=t,null):(e=s.treeContext,Tt=Hn(l.nextSibling),Lt=t,Le=!0,Yt=null,e!==null&&(Ft[Ot++]=wn,Ft[Ot++]=jn,Ft[Ot++]=yr,wn=e.id,jn=e.overflow,yr=t),t=cu(t,r.children),t.flags|=4096,t)}function bc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),io(e.return,t,n)}function ya(e,t,n,r,l){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=l)}function fp(e,t,n){var r=t.pendingProps,l=r.revealOrder,s=r.tail;if(ut(e,t,r.children,n),r=Re.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&bc(e,n,t);else if(e.tag===19)bc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ke(Re,r),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&fi(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),ya(t,!1,l,n,s);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&fi(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}ya(t,!0,n,null,s);break;case"together":ya(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function _n(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),wr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(M(153));if(t.child!==null){for(e=t.child,n=Xn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Xn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function cv(e,t,n){switch(t.tag){case 3:cp(t),el();break;case 5:zf(t);break;case 1:jt(t.type)&&ii(t);break;case 4:nu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;ke(ui,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ke(Re,Re.current&1),t.flags|=128,null):n&t.child.childLanes?dp(e,t,n):(ke(Re,Re.current&1),e=_n(e,t,n),e!==null?e.sibling:null);ke(Re,Re.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return fp(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),ke(Re,Re.current),r)break;return null;case 22:case 23:return t.lanes=0,op(e,t,n)}return _n(e,t,n)}var pp,ho,mp,hp;pp=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ho=function(){};mp=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,pr(un.current);var s=null;switch(n){case"input":l=Oa(e,l),r=Oa(e,r),s=[];break;case"select":l=De({},l,{value:void 0}),r=De({},r,{value:void 0}),s=[];break;case"textarea":l=Ua(e,l),r=Ua(e,r),s=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=li)}$a(n,r);var a;n=null;for(c in l)if(!r.hasOwnProperty(c)&&l.hasOwnProperty(c)&&l[c]!=null)if(c==="style"){var o=l[c];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Al.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(o=l!=null?l[c]:void 0,r.hasOwnProperty(c)&&u!==o&&(u!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&o[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,o=o?o.__html:void 0,u!=null&&o!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Al.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Ee("scroll",e),s||o===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};hp=function(e,t,n,r){n!==r&&(t.flags|=4)};function yl(e,t){if(!Le)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function lt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function dv(e,t,n){var r=t.pendingProps;switch(Yo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(t),null;case 1:return jt(t.type)&&si(),lt(t),null;case 3:return r=t.stateNode,nl(),Ce(wt),Ce(it),lu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Cs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Yt!==null&&(So(Yt),Yt=null))),ho(e,t),lt(t),null;case 5:ru(t);var l=pr(Jl.current);if(n=t.type,e!==null&&t.stateNode!=null)mp(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(M(166));return lt(t),null}if(e=pr(un.current),Cs(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[an]=t,r[Xl]=s,e=(t.mode&1)!==0,n){case"dialog":Ee("cancel",r),Ee("close",r);break;case"iframe":case"object":case"embed":Ee("load",r);break;case"video":case"audio":for(l=0;l<Pl.length;l++)Ee(Pl[l],r);break;case"source":Ee("error",r);break;case"img":case"image":case"link":Ee("error",r),Ee("load",r);break;case"details":Ee("toggle",r);break;case"input":Au(r,s),Ee("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ee("invalid",r);break;case"textarea":Bu(r,s),Ee("invalid",r)}$a(n,s),l=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&Es(r.textContent,o,e),l=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Es(r.textContent,o,e),l=["children",""+o]):Al.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Ee("scroll",r)}switch(n){case"input":gs(r),$u(r,s,!0);break;case"textarea":gs(r),Vu(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=li)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Bd(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[an]=t,e[Xl]=r,pp(e,t,!1,!1),t.stateNode=e;e:{switch(a=Ba(n,r),n){case"dialog":Ee("cancel",e),Ee("close",e),l=r;break;case"iframe":case"object":case"embed":Ee("load",e),l=r;break;case"video":case"audio":for(l=0;l<Pl.length;l++)Ee(Pl[l],e);l=r;break;case"source":Ee("error",e),l=r;break;case"img":case"image":case"link":Ee("error",e),Ee("load",e),l=r;break;case"details":Ee("toggle",e),l=r;break;case"input":Au(e,r),l=Oa(e,r),Ee("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=De({},r,{value:void 0}),Ee("invalid",e);break;case"textarea":Bu(e,r),l=Ua(e,r),Ee("invalid",e);break;default:l=r}$a(n,l),o=l;for(s in o)if(o.hasOwnProperty(s)){var u=o[s];s==="style"?Qd(e,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Vd(e,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&$l(e,u):typeof u=="number"&&$l(e,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Al.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Ee("scroll",e):u!=null&&Do(e,s,u,a))}switch(n){case"input":gs(e),$u(e,r,!1);break;case"textarea":gs(e),Vu(e);break;case"option":r.value!=null&&e.setAttribute("value",""+qn(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Qr(e,!!r.multiple,s,!1):r.defaultValue!=null&&Qr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=li)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return lt(t),null;case 6:if(e&&t.stateNode!=null)hp(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(M(166));if(n=pr(Jl.current),pr(un.current),Cs(t)){if(r=t.stateNode,n=t.memoizedProps,r[an]=t,(s=r.nodeValue!==n)&&(e=Lt,e!==null))switch(e.tag){case 3:Es(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Es(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[an]=t,t.stateNode=r}return lt(t),null;case 13:if(Ce(Re),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Le&&Tt!==null&&t.mode&1&&!(t.flags&128))Mf(),el(),t.flags|=98560,s=!1;else if(s=Cs(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(M(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(M(317));s[an]=t}else el(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;lt(t),s=!1}else Yt!==null&&(So(Yt),Yt=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Re.current&1?We===0&&(We=3):vu())),t.updateQueue!==null&&(t.flags|=4),lt(t),null);case 4:return nl(),ho(e,t),e===null&&Gl(t.stateNode.containerInfo),lt(t),null;case 10:return Zo(t.type._context),lt(t),null;case 17:return jt(t.type)&&si(),lt(t),null;case 19:if(Ce(Re),s=t.memoizedState,s===null)return lt(t),null;if(r=(t.flags&128)!==0,a=s.rendering,a===null)if(r)yl(s,!1);else{if(We!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=fi(e),a!==null){for(t.flags|=128,yl(s,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ke(Re,Re.current&1|2),t.child}e=e.sibling}s.tail!==null&&Oe()>ll&&(t.flags|=128,r=!0,yl(s,!1),t.lanes=4194304)}else{if(!r)if(e=fi(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),yl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Le)return lt(t),null}else 2*Oe()-s.renderingStartTime>ll&&n!==1073741824&&(t.flags|=128,r=!0,yl(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(n=s.last,n!==null?n.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Oe(),t.sibling=null,n=Re.current,ke(Re,r?n&1|2:n&1),t):(lt(t),null);case 22:case 23:return hu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ct&1073741824&&(lt(t),t.subtreeFlags&6&&(t.flags|=8192)):lt(t),null;case 24:return null;case 25:return null}throw Error(M(156,t.tag))}function fv(e,t){switch(Yo(t),t.tag){case 1:return jt(t.type)&&si(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return nl(),Ce(wt),Ce(it),lu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ru(t),null;case 13:if(Ce(Re),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(M(340));el()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ce(Re),null;case 4:return nl(),null;case 10:return Zo(t.type._context),null;case 22:case 23:return hu(),null;case 24:return null;default:return null}}var Ps=!1,st=!1,pv=typeof WeakSet=="function"?WeakSet:Set,W=null;function Vr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Fe(e,t,r)}else n.current=null}function vo(e,t,n){try{n()}catch(r){Fe(e,t,r)}}var Rc=!1;function mv(e,t){if(Ja=ti,e=wf(),Ko(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,u=-1,c=0,m=0,f=e,h=null;t:for(;;){for(var x;f!==n||l!==0&&f.nodeType!==3||(o=a+l),f!==s||r!==0&&f.nodeType!==3||(u=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(x=f.firstChild)!==null;)h=f,f=x;for(;;){if(f===e)break t;if(h===n&&++c===l&&(o=a),h===s&&++m===r&&(u=a),(x=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=x}n=o===-1||u===-1?null:{start:o,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Za={focusedElem:e,selectionRange:n},ti=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var j=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var k=j.memoizedProps,P=j.memoizedState,g=t.stateNode,d=g.getSnapshotBeforeUpdate(t.elementType===t.type?k:Ht(t.type,k),P);g.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(E){Fe(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return j=Rc,Rc=!1,j}function Il(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var s=l.destroy;l.destroy=void 0,s!==void 0&&vo(t,n,s)}l=l.next}while(l!==r)}}function Mi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function go(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function vp(e){var t=e.alternate;t!==null&&(e.alternate=null,vp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[an],delete t[Xl],delete t[no],delete t[Xh],delete t[qh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function gp(e){return e.tag===5||e.tag===3||e.tag===4}function Mc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||gp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=li));else if(r!==4&&(e=e.child,e!==null))for(yo(e,t,n),e=e.sibling;e!==null;)yo(e,t,n),e=e.sibling}function xo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(xo(e,t,n),e=e.sibling;e!==null;)xo(e,t,n),e=e.sibling}var qe=null,Kt=!1;function Dn(e,t,n){for(n=n.child;n!==null;)yp(e,t,n),n=n.sibling}function yp(e,t,n){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(Ei,n)}catch{}switch(n.tag){case 5:st||Vr(n,t);case 6:var r=qe,l=Kt;qe=null,Dn(e,t,n),qe=r,Kt=l,qe!==null&&(Kt?(e=qe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):qe.removeChild(n.stateNode));break;case 18:qe!==null&&(Kt?(e=qe,n=n.stateNode,e.nodeType===8?da(e.parentNode,n):e.nodeType===1&&da(e,n),Ql(e)):da(qe,n.stateNode));break;case 4:r=qe,l=Kt,qe=n.stateNode.containerInfo,Kt=!0,Dn(e,t,n),qe=r,Kt=l;break;case 0:case 11:case 14:case 15:if(!st&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var s=l,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&vo(n,t,a),l=l.next}while(l!==r)}Dn(e,t,n);break;case 1:if(!st&&(Vr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Fe(n,t,o)}Dn(e,t,n);break;case 21:Dn(e,t,n);break;case 22:n.mode&1?(st=(r=st)||n.memoizedState!==null,Dn(e,t,n),st=r):Dn(e,t,n);break;default:Dn(e,t,n)}}function Dc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new pv),t.forEach(function(r){var l=Sv.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function Qt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var s=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:qe=o.stateNode,Kt=!1;break e;case 3:qe=o.stateNode.containerInfo,Kt=!0;break e;case 4:qe=o.stateNode.containerInfo,Kt=!0;break e}o=o.return}if(qe===null)throw Error(M(160));yp(s,a,l),qe=null,Kt=!1;var u=l.alternate;u!==null&&(u.return=null),l.return=null}catch(c){Fe(l,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)xp(t,e),t=t.sibling}function xp(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Qt(t,e),ln(e),r&4){try{Il(3,e,e.return),Mi(3,e)}catch(k){Fe(e,e.return,k)}try{Il(5,e,e.return)}catch(k){Fe(e,e.return,k)}}break;case 1:Qt(t,e),ln(e),r&512&&n!==null&&Vr(n,n.return);break;case 5:if(Qt(t,e),ln(e),r&512&&n!==null&&Vr(n,n.return),e.flags&32){var l=e.stateNode;try{$l(l,"")}catch(k){Fe(e,e.return,k)}}if(r&4&&(l=e.stateNode,l!=null)){var s=e.memoizedProps,a=n!==null?n.memoizedProps:s,o=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&Ad(l,s),Ba(o,a);var c=Ba(o,s);for(a=0;a<u.length;a+=2){var m=u[a],f=u[a+1];m==="style"?Qd(l,f):m==="dangerouslySetInnerHTML"?Vd(l,f):m==="children"?$l(l,f):Do(l,m,f,c)}switch(o){case"input":Ia(l,s);break;case"textarea":$d(l,s);break;case"select":var h=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!s.multiple;var x=s.value;x!=null?Qr(l,!!s.multiple,x,!1):h!==!!s.multiple&&(s.defaultValue!=null?Qr(l,!!s.multiple,s.defaultValue,!0):Qr(l,!!s.multiple,s.multiple?[]:"",!1))}l[Xl]=s}catch(k){Fe(e,e.return,k)}}break;case 6:if(Qt(t,e),ln(e),r&4){if(e.stateNode===null)throw Error(M(162));l=e.stateNode,s=e.memoizedProps;try{l.nodeValue=s}catch(k){Fe(e,e.return,k)}}break;case 3:if(Qt(t,e),ln(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ql(t.containerInfo)}catch(k){Fe(e,e.return,k)}break;case 4:Qt(t,e),ln(e);break;case 13:Qt(t,e),ln(e),l=e.child,l.flags&8192&&(s=l.memoizedState!==null,l.stateNode.isHidden=s,!s||l.alternate!==null&&l.alternate.memoizedState!==null||(pu=Oe())),r&4&&Dc(e);break;case 22:if(m=n!==null&&n.memoizedState!==null,e.mode&1?(st=(c=st)||m,Qt(t,e),st=c):Qt(t,e),ln(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!m&&e.mode&1)for(W=e,m=e.child;m!==null;){for(f=W=m;W!==null;){switch(h=W,x=h.child,h.tag){case 0:case 11:case 14:case 15:Il(4,h,h.return);break;case 1:Vr(h,h.return);var j=h.stateNode;if(typeof j.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,j.props=t.memoizedProps,j.state=t.memoizedState,j.componentWillUnmount()}catch(k){Fe(r,n,k)}}break;case 5:Vr(h,h.return);break;case 22:if(h.memoizedState!==null){Oc(f);continue}}x!==null?(x.return=h,W=x):Oc(f)}m=m.sibling}e:for(m=null,f=e;;){if(f.tag===5){if(m===null){m=f;try{l=f.stateNode,c?(s=l.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=f.stateNode,u=f.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,o.style.display=Wd("display",a))}catch(k){Fe(e,e.return,k)}}}else if(f.tag===6){if(m===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(k){Fe(e,e.return,k)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;m===f&&(m=null),f=f.return}m===f&&(m=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Qt(t,e),ln(e),r&4&&Dc(e);break;case 21:break;default:Qt(t,e),ln(e)}}function ln(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(gp(n)){var r=n;break e}n=n.return}throw Error(M(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&($l(l,""),r.flags&=-33);var s=Mc(e);xo(e,s,l);break;case 3:case 4:var a=r.stateNode.containerInfo,o=Mc(e);yo(e,o,a);break;default:throw Error(M(161))}}catch(u){Fe(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function hv(e,t,n){W=e,wp(e)}function wp(e,t,n){for(var r=(e.mode&1)!==0;W!==null;){var l=W,s=l.child;if(l.tag===22&&r){var a=l.memoizedState!==null||Ps;if(!a){var o=l.alternate,u=o!==null&&o.memoizedState!==null||st;o=Ps;var c=st;if(Ps=a,(st=u)&&!c)for(W=l;W!==null;)a=W,u=a.child,a.tag===22&&a.memoizedState!==null?Ic(l):u!==null?(u.return=a,W=u):Ic(l);for(;s!==null;)W=s,wp(s),s=s.sibling;W=l,Ps=o,st=c}Fc(e)}else l.subtreeFlags&8772&&s!==null?(s.return=l,W=s):Fc(e)}}function Fc(e){for(;W!==null;){var t=W;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:st||Mi(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!st)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:Ht(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&xc(t,s,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}xc(t,a,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var m=c.memoizedState;if(m!==null){var f=m.dehydrated;f!==null&&Ql(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}st||t.flags&512&&go(t)}catch(h){Fe(t,t.return,h)}}if(t===e){W=null;break}if(n=t.sibling,n!==null){n.return=t.return,W=n;break}W=t.return}}function Oc(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var n=t.sibling;if(n!==null){n.return=t.return,W=n;break}W=t.return}}function Ic(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Mi(4,t)}catch(u){Fe(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(u){Fe(t,l,u)}}var s=t.return;try{go(t)}catch(u){Fe(t,s,u)}break;case 5:var a=t.return;try{go(t)}catch(u){Fe(t,a,u)}}}catch(u){Fe(t,t.return,u)}if(t===e){W=null;break}var o=t.sibling;if(o!==null){o.return=t.return,W=o;break}W=t.return}}var vv=Math.ceil,hi=Pn.ReactCurrentDispatcher,du=Pn.ReactCurrentOwner,zt=Pn.ReactCurrentBatchConfig,ve=0,Ye=null,$e=null,Je=0,Ct=0,Wr=er(0),We=0,ns=null,wr=0,Di=0,fu=0,zl=null,yt=null,pu=0,ll=1/0,gn=null,vi=!1,wo=null,Gn=null,Ls=!1,$n=null,gi=0,Ul=0,jo=null,Hs=-1,Ks=0;function ct(){return ve&6?Oe():Hs!==-1?Hs:Hs=Oe()}function Yn(e){return e.mode&1?ve&2&&Je!==0?Je&-Je:Zh.transition!==null?(Ks===0&&(Ks=rf()),Ks):(e=we,e!==0||(e=window.event,e=e===void 0?16:df(e.type)),e):1}function qt(e,t,n,r){if(50<Ul)throw Ul=0,jo=null,Error(M(185));is(e,n,r),(!(ve&2)||e!==Ye)&&(e===Ye&&(!(ve&2)&&(Di|=n),We===4&&Un(e,Je)),Nt(e,r),n===1&&ve===0&&!(t.mode&1)&&(ll=Oe()+500,Li&&tr()))}function Nt(e,t){var n=e.callbackNode;Zm(e,t);var r=ei(e,e===Ye?Je:0);if(r===0)n!==null&&Hu(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Hu(n),t===1)e.tag===0?Jh(zc.bind(null,e)):Lf(zc.bind(null,e)),Gh(function(){!(ve&6)&&tr()}),n=null;else{switch(lf(r)){case 1:n=Uo;break;case 4:n=tf;break;case 16:n=Zs;break;case 536870912:n=nf;break;default:n=Zs}n=Tp(n,jp.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function jp(e,t){if(Hs=-1,Ks=0,ve&6)throw Error(M(327));var n=e.callbackNode;if(Xr()&&e.callbackNode!==n)return null;var r=ei(e,e===Ye?Je:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=yi(e,r);else{t=r;var l=ve;ve|=2;var s=Sp();(Ye!==e||Je!==t)&&(gn=null,ll=Oe()+500,hr(e,t));do try{xv();break}catch(o){Np(e,o)}while(!0);Jo(),hi.current=s,ve=l,$e!==null?t=0:(Ye=null,Je=0,t=We)}if(t!==0){if(t===2&&(l=Ka(e),l!==0&&(r=l,t=No(e,l))),t===1)throw n=ns,hr(e,0),Un(e,r),Nt(e,Oe()),n;if(t===6)Un(e,r);else{if(l=e.current.alternate,!(r&30)&&!gv(l)&&(t=yi(e,r),t===2&&(s=Ka(e),s!==0&&(r=s,t=No(e,s))),t===1))throw n=ns,hr(e,0),Un(e,r),Nt(e,Oe()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(M(345));case 2:or(e,yt,gn);break;case 3:if(Un(e,r),(r&130023424)===r&&(t=pu+500-Oe(),10<t)){if(ei(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){ct(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=to(or.bind(null,e,yt,gn),t);break}or(e,yt,gn);break;case 4:if(Un(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var a=31-Xt(r);s=1<<a,a=t[a],a>l&&(l=a),r&=~s}if(r=l,r=Oe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*vv(r/1960))-r,10<r){e.timeoutHandle=to(or.bind(null,e,yt,gn),r);break}or(e,yt,gn);break;case 5:or(e,yt,gn);break;default:throw Error(M(329))}}}return Nt(e,Oe()),e.callbackNode===n?jp.bind(null,e):null}function No(e,t){var n=zl;return e.current.memoizedState.isDehydrated&&(hr(e,t).flags|=256),e=yi(e,t),e!==2&&(t=yt,yt=n,t!==null&&So(t)),e}function So(e){yt===null?yt=e:yt.push.apply(yt,e)}function gv(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],s=l.getSnapshot;l=l.value;try{if(!Jt(s(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Un(e,t){for(t&=~fu,t&=~Di,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Xt(t),r=1<<n;e[n]=-1,t&=~r}}function zc(e){if(ve&6)throw Error(M(327));Xr();var t=ei(e,0);if(!(t&1))return Nt(e,Oe()),null;var n=yi(e,t);if(e.tag!==0&&n===2){var r=Ka(e);r!==0&&(t=r,n=No(e,r))}if(n===1)throw n=ns,hr(e,0),Un(e,t),Nt(e,Oe()),n;if(n===6)throw Error(M(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,or(e,yt,gn),Nt(e,Oe()),null}function mu(e,t){var n=ve;ve|=1;try{return e(t)}finally{ve=n,ve===0&&(ll=Oe()+500,Li&&tr())}}function jr(e){$n!==null&&$n.tag===0&&!(ve&6)&&Xr();var t=ve;ve|=1;var n=zt.transition,r=we;try{if(zt.transition=null,we=1,e)return e()}finally{we=r,zt.transition=n,ve=t,!(ve&6)&&tr()}}function hu(){Ct=Wr.current,Ce(Wr)}function hr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Kh(n)),$e!==null)for(n=$e.return;n!==null;){var r=n;switch(Yo(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&si();break;case 3:nl(),Ce(wt),Ce(it),lu();break;case 5:ru(r);break;case 4:nl();break;case 13:Ce(Re);break;case 19:Ce(Re);break;case 10:Zo(r.type._context);break;case 22:case 23:hu()}n=n.return}if(Ye=e,$e=e=Xn(e.current,null),Je=Ct=t,We=0,ns=null,fu=Di=wr=0,yt=zl=null,fr!==null){for(t=0;t<fr.length;t++)if(n=fr[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=l,r.next=a}n.pending=r}fr=null}return e}function Np(e,t){do{var n=$e;try{if(Jo(),Vs.current=mi,pi){for(var r=Me.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}pi=!1}if(xr=0,Ge=Ve=Me=null,Ol=!1,Zl=0,du.current=null,n===null||n.return===null){We=1,ns=t,$e=null;break}e:{var s=e,a=n.return,o=n,u=t;if(t=Je,o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,m=o,f=m.tag;if(!(m.mode&1)&&(f===0||f===11||f===15)){var h=m.alternate;h?(m.updateQueue=h.updateQueue,m.memoizedState=h.memoizedState,m.lanes=h.lanes):(m.updateQueue=null,m.memoizedState=null)}var x=Ec(a);if(x!==null){x.flags&=-257,Cc(x,a,o,s,t),x.mode&1&&kc(s,c,t),t=x,u=c;var j=t.updateQueue;if(j===null){var k=new Set;k.add(u),t.updateQueue=k}else j.add(u);break e}else{if(!(t&1)){kc(s,c,t),vu();break e}u=Error(M(426))}}else if(Le&&o.mode&1){var P=Ec(a);if(P!==null){!(P.flags&65536)&&(P.flags|=256),Cc(P,a,o,s,t),Xo(rl(u,o));break e}}s=u=rl(u,o),We!==4&&(We=2),zl===null?zl=[s]:zl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var g=sp(s,u,t);yc(s,g);break e;case 1:o=u;var d=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof d.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Gn===null||!Gn.has(v)))){s.flags|=65536,t&=-t,s.lanes|=t;var E=ip(s,o,t);yc(s,E);break e}}s=s.return}while(s!==null)}Ep(n)}catch(T){t=T,$e===n&&n!==null&&($e=n=n.return);continue}break}while(!0)}function Sp(){var e=hi.current;return hi.current=mi,e===null?mi:e}function vu(){(We===0||We===3||We===2)&&(We=4),Ye===null||!(wr&268435455)&&!(Di&268435455)||Un(Ye,Je)}function yi(e,t){var n=ve;ve|=2;var r=Sp();(Ye!==e||Je!==t)&&(gn=null,hr(e,t));do try{yv();break}catch(l){Np(e,l)}while(!0);if(Jo(),ve=n,hi.current=r,$e!==null)throw Error(M(261));return Ye=null,Je=0,We}function yv(){for(;$e!==null;)kp($e)}function xv(){for(;$e!==null&&!Wm();)kp($e)}function kp(e){var t=_p(e.alternate,e,Ct);e.memoizedProps=e.pendingProps,t===null?Ep(e):$e=t,du.current=null}function Ep(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=fv(n,t),n!==null){n.flags&=32767,$e=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{We=6,$e=null;return}}else if(n=dv(n,t,Ct),n!==null){$e=n;return}if(t=t.sibling,t!==null){$e=t;return}$e=t=e}while(t!==null);We===0&&(We=5)}function or(e,t,n){var r=we,l=zt.transition;try{zt.transition=null,we=1,wv(e,t,n,r)}finally{zt.transition=l,we=r}return null}function wv(e,t,n,r){do Xr();while($n!==null);if(ve&6)throw Error(M(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(M(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(eh(e,s),e===Ye&&($e=Ye=null,Je=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ls||(Ls=!0,Tp(Zs,function(){return Xr(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=zt.transition,zt.transition=null;var a=we;we=1;var o=ve;ve|=4,du.current=null,mv(e,n),xp(n,e),Ah(Za),ti=!!Ja,Za=Ja=null,e.current=n,hv(n),Qm(),ve=o,we=a,zt.transition=s}else e.current=n;if(Ls&&(Ls=!1,$n=e,gi=l),s=e.pendingLanes,s===0&&(Gn=null),Gm(n.stateNode),Nt(e,Oe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(vi)throw vi=!1,e=wo,wo=null,e;return gi&1&&e.tag!==0&&Xr(),s=e.pendingLanes,s&1?e===jo?Ul++:(Ul=0,jo=e):Ul=0,tr(),null}function Xr(){if($n!==null){var e=lf(gi),t=zt.transition,n=we;try{if(zt.transition=null,we=16>e?16:e,$n===null)var r=!1;else{if(e=$n,$n=null,gi=0,ve&6)throw Error(M(331));var l=ve;for(ve|=4,W=e.current;W!==null;){var s=W,a=s.child;if(W.flags&16){var o=s.deletions;if(o!==null){for(var u=0;u<o.length;u++){var c=o[u];for(W=c;W!==null;){var m=W;switch(m.tag){case 0:case 11:case 15:Il(8,m,s)}var f=m.child;if(f!==null)f.return=m,W=f;else for(;W!==null;){m=W;var h=m.sibling,x=m.return;if(vp(m),m===c){W=null;break}if(h!==null){h.return=x,W=h;break}W=x}}}var j=s.alternate;if(j!==null){var k=j.child;if(k!==null){j.child=null;do{var P=k.sibling;k.sibling=null,k=P}while(k!==null)}}W=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,W=a;else e:for(;W!==null;){if(s=W,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Il(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,W=g;break e}W=s.return}}var d=e.current;for(W=d;W!==null;){a=W;var v=a.child;if(a.subtreeFlags&2064&&v!==null)v.return=a,W=v;else e:for(a=d;W!==null;){if(o=W,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Mi(9,o)}}catch(T){Fe(o,o.return,T)}if(o===a){W=null;break e}var E=o.sibling;if(E!==null){E.return=o.return,W=E;break e}W=o.return}}if(ve=l,tr(),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(Ei,e)}catch{}r=!0}return r}finally{we=n,zt.transition=t}}return!1}function Uc(e,t,n){t=rl(n,t),t=sp(e,t,1),e=Kn(e,t,1),t=ct(),e!==null&&(is(e,1,t),Nt(e,t))}function Fe(e,t,n){if(e.tag===3)Uc(e,e,n);else for(;t!==null;){if(t.tag===3){Uc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Gn===null||!Gn.has(r))){e=rl(n,e),e=ip(t,e,1),t=Kn(t,e,1),e=ct(),t!==null&&(is(t,1,e),Nt(t,e));break}}t=t.return}}function jv(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ct(),e.pingedLanes|=e.suspendedLanes&n,Ye===e&&(Je&n)===n&&(We===4||We===3&&(Je&130023424)===Je&&500>Oe()-pu?hr(e,0):fu|=n),Nt(e,t)}function Cp(e,t){t===0&&(e.mode&1?(t=ws,ws<<=1,!(ws&130023424)&&(ws=4194304)):t=1);var n=ct();e=Cn(e,t),e!==null&&(is(e,t,n),Nt(e,n))}function Nv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Cp(e,n)}function Sv(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(M(314))}r!==null&&r.delete(t),Cp(e,n)}var _p;_p=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||wt.current)xt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return xt=!1,cv(e,t,n);xt=!!(e.flags&131072)}else xt=!1,Le&&t.flags&1048576&&bf(t,oi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Qs(e,t),e=t.pendingProps;var l=Zr(t,it.current);Yr(t,n),l=iu(null,t,r,e,l,n);var s=au();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,jt(r)?(s=!0,ii(t)):s=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,tu(t),l.updater=Ri,t.stateNode=l,l._reactInternals=t,oo(t,r,e,n),t=fo(null,t,r,!0,s,n)):(t.tag=0,Le&&s&&Go(t),ut(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Qs(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=Ev(r),e=Ht(r,e),l){case 0:t=co(null,t,r,e,n);break e;case 1:t=Pc(null,t,r,e,n);break e;case 11:t=_c(null,t,r,e,n);break e;case 14:t=Tc(null,t,r,Ht(r.type,e),n);break e}throw Error(M(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Ht(r,l),co(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Ht(r,l),Pc(e,t,r,l,n);case 3:e:{if(cp(t),e===null)throw Error(M(387));r=t.pendingProps,s=t.memoizedState,l=s.element,If(e,t),di(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){l=rl(Error(M(423)),t),t=Lc(e,t,r,n,l);break e}else if(r!==l){l=rl(Error(M(424)),t),t=Lc(e,t,r,n,l);break e}else for(Tt=Hn(t.stateNode.containerInfo.firstChild),Lt=t,Le=!0,Yt=null,n=Ff(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(el(),r===l){t=_n(e,t,n);break e}ut(e,t,r,n)}t=t.child}return t;case 5:return zf(t),e===null&&so(t),r=t.type,l=t.pendingProps,s=e!==null?e.memoizedProps:null,a=l.children,eo(r,l)?a=null:s!==null&&eo(r,s)&&(t.flags|=32),up(e,t),ut(e,t,a,n),t.child;case 6:return e===null&&so(t),null;case 13:return dp(e,t,n);case 4:return nu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=tl(t,null,r,n):ut(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Ht(r,l),_c(e,t,r,l,n);case 7:return ut(e,t,t.pendingProps,n),t.child;case 8:return ut(e,t,t.pendingProps.children,n),t.child;case 12:return ut(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,s=t.memoizedProps,a=l.value,ke(ui,r._currentValue),r._currentValue=a,s!==null)if(Jt(s.value,a)){if(s.children===l.children&&!wt.current){t=_n(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var u=o.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Nn(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var m=c.pending;m===null?u.next=u:(u.next=m.next,m.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),io(s.return,n,t),o.lanes|=n;break}u=u.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(M(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),io(a,n,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}ut(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,Yr(t,n),l=Ut(l),r=r(l),t.flags|=1,ut(e,t,r,n),t.child;case 14:return r=t.type,l=Ht(r,t.pendingProps),l=Ht(r.type,l),Tc(e,t,r,l,n);case 15:return ap(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Ht(r,l),Qs(e,t),t.tag=1,jt(r)?(e=!0,ii(t)):e=!1,Yr(t,n),lp(t,r,l),oo(t,r,l,n),fo(null,t,r,!0,e,n);case 19:return fp(e,t,n);case 22:return op(e,t,n)}throw Error(M(156,t.tag))};function Tp(e,t){return ef(e,t)}function kv(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function It(e,t,n,r){return new kv(e,t,n,r)}function gu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ev(e){if(typeof e=="function")return gu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Oo)return 11;if(e===Io)return 14}return 2}function Xn(e,t){var n=e.alternate;return n===null?(n=It(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gs(e,t,n,r,l,s){var a=2;if(r=e,typeof e=="function")gu(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Dr:return vr(n.children,l,s,t);case Fo:a=8,l|=8;break;case Ra:return e=It(12,n,t,l|2),e.elementType=Ra,e.lanes=s,e;case Ma:return e=It(13,n,t,l),e.elementType=Ma,e.lanes=s,e;case Da:return e=It(19,n,t,l),e.elementType=Da,e.lanes=s,e;case Id:return Fi(n,l,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Fd:a=10;break e;case Od:a=9;break e;case Oo:a=11;break e;case Io:a=14;break e;case On:a=16,r=null;break e}throw Error(M(130,e==null?e:typeof e,""))}return t=It(a,n,t,l),t.elementType=e,t.type=r,t.lanes=s,t}function vr(e,t,n,r){return e=It(7,e,r,t),e.lanes=n,e}function Fi(e,t,n,r){return e=It(22,e,r,t),e.elementType=Id,e.lanes=n,e.stateNode={isHidden:!1},e}function xa(e,t,n){return e=It(6,e,null,t),e.lanes=n,e}function wa(e,t,n){return t=It(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Cv(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ea(0),this.expirationTimes=ea(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ea(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function yu(e,t,n,r,l,s,a,o,u){return e=new Cv(e,t,n,o,u),t===1?(t=1,s===!0&&(t|=8)):t=0,s=It(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},tu(s),e}function _v(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Pp(e){if(!e)return Jn;e=e._reactInternals;e:{if(kr(e)!==e||e.tag!==1)throw Error(M(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(jt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(M(171))}if(e.tag===1){var n=e.type;if(jt(n))return Pf(e,n,t)}return t}function Lp(e,t,n,r,l,s,a,o,u){return e=yu(n,r,!0,e,l,s,a,o,u),e.context=Pp(null),n=e.current,r=ct(),l=Yn(n),s=Nn(r,l),s.callback=t??null,Kn(n,s,l),e.current.lanes=l,is(e,l,r),Nt(e,r),e}function Oi(e,t,n,r){var l=t.current,s=ct(),a=Yn(l);return n=Pp(n),t.context===null?t.context=n:t.pendingContext=n,t=Nn(s,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Kn(l,t,a),e!==null&&(qt(e,l,a,s),Bs(e,l,a)),a}function xi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ac(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function xu(e,t){Ac(e,t),(e=e.alternate)&&Ac(e,t)}function Tv(){return null}var bp=typeof reportError=="function"?reportError:function(e){console.error(e)};function wu(e){this._internalRoot=e}Ii.prototype.render=wu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(M(409));Oi(e,t,null,null)};Ii.prototype.unmount=wu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;jr(function(){Oi(null,e,null,null)}),t[En]=null}};function Ii(e){this._internalRoot=e}Ii.prototype.unstable_scheduleHydration=function(e){if(e){var t=of();e={blockedOn:null,target:e,priority:t};for(var n=0;n<zn.length&&t!==0&&t<zn[n].priority;n++);zn.splice(n,0,e),n===0&&cf(e)}};function ju(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function zi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function $c(){}function Pv(e,t,n,r,l){if(l){if(typeof r=="function"){var s=r;r=function(){var c=xi(a);s.call(c)}}var a=Lp(t,r,e,0,null,!1,!1,"",$c);return e._reactRootContainer=a,e[En]=a.current,Gl(e.nodeType===8?e.parentNode:e),jr(),a}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var o=r;r=function(){var c=xi(u);o.call(c)}}var u=yu(e,0,!1,null,null,!1,!1,"",$c);return e._reactRootContainer=u,e[En]=u.current,Gl(e.nodeType===8?e.parentNode:e),jr(function(){Oi(t,u,n,r)}),u}function Ui(e,t,n,r,l){var s=n._reactRootContainer;if(s){var a=s;if(typeof l=="function"){var o=l;l=function(){var u=xi(a);o.call(u)}}Oi(t,a,e,l)}else a=Pv(n,t,e,l,r);return xi(a)}sf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Tl(t.pendingLanes);n!==0&&(Ao(t,n|1),Nt(t,Oe()),!(ve&6)&&(ll=Oe()+500,tr()))}break;case 13:jr(function(){var r=Cn(e,1);if(r!==null){var l=ct();qt(r,e,1,l)}}),xu(e,1)}};$o=function(e){if(e.tag===13){var t=Cn(e,134217728);if(t!==null){var n=ct();qt(t,e,134217728,n)}xu(e,134217728)}};af=function(e){if(e.tag===13){var t=Yn(e),n=Cn(e,t);if(n!==null){var r=ct();qt(n,e,t,r)}xu(e,t)}};of=function(){return we};uf=function(e,t){var n=we;try{return we=e,t()}finally{we=n}};Wa=function(e,t,n){switch(t){case"input":if(Ia(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=Pi(r);if(!l)throw Error(M(90));Ud(r),Ia(r,l)}}}break;case"textarea":$d(e,n);break;case"select":t=n.value,t!=null&&Qr(e,!!n.multiple,t,!1)}};Gd=mu;Yd=jr;var Lv={usingClientEntryPoint:!1,Events:[os,zr,Pi,Hd,Kd,mu]},xl={findFiberByHostInstance:dr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bv={bundleType:xl.bundleType,version:xl.version,rendererPackageName:xl.rendererPackageName,rendererConfig:xl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Jd(e),e===null?null:e.stateNode},findFiberByHostInstance:xl.findFiberByHostInstance||Tv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bs.isDisabled&&bs.supportsFiber)try{Ei=bs.inject(bv),on=bs}catch{}}Rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lv;Rt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ju(t))throw Error(M(200));return _v(e,t,null,n)};Rt.createRoot=function(e,t){if(!ju(e))throw Error(M(299));var n=!1,r="",l=bp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=yu(e,1,!1,null,null,n,!1,r,l),e[En]=t.current,Gl(e.nodeType===8?e.parentNode:e),new wu(t)};Rt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(M(188)):(e=Object.keys(e).join(","),Error(M(268,e)));return e=Jd(t),e=e===null?null:e.stateNode,e};Rt.flushSync=function(e){return jr(e)};Rt.hydrate=function(e,t,n){if(!zi(t))throw Error(M(200));return Ui(null,e,t,!0,n)};Rt.hydrateRoot=function(e,t,n){if(!ju(e))throw Error(M(405));var r=n!=null&&n.hydratedSources||null,l=!1,s="",a=bp;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=Lp(t,null,e,1,n??null,l,!1,s,a),e[En]=t.current,Gl(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Ii(t)};Rt.render=function(e,t,n){if(!zi(t))throw Error(M(200));return Ui(null,e,t,!1,n)};Rt.unmountComponentAtNode=function(e){if(!zi(e))throw Error(M(40));return e._reactRootContainer?(jr(function(){Ui(null,null,e,!1,function(){e._reactRootContainer=null,e[En]=null})}),!0):!1};Rt.unstable_batchedUpdates=mu;Rt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!zi(n))throw Error(M(200));if(e==null||e._reactInternals===void 0)throw Error(M(38));return Ui(e,t,n,!1,r)};Rt.version="18.3.1-next-f1338f8080-20240426";function Rp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Rp)}catch(e){console.error(e)}}Rp(),bd.exports=Rt;var Nu=bd.exports;const Rv=yd(Nu),Mv=gd({__proto__:null,default:Rv},[Nu]);var Mp,Bc=Nu;Mp=Bc.createRoot,Bc.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pe(){return Pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pe.apply(this,arguments)}var Ae;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ae||(Ae={}));const Vc="popstate";function Dv(e){e===void 0&&(e={});function t(r,l){let{pathname:s,search:a,hash:o}=r.location;return rs("",{pathname:s,search:a,hash:o},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(r,l){return typeof l=="string"?l:Nr(l)}return Ov(t,n,null,e)}function ie(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function sl(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Fv(){return Math.random().toString(36).substr(2,8)}function Wc(e,t){return{usr:e.state,key:e.key,idx:t}}function rs(e,t,n,r){return n===void 0&&(n=null),Pe({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?nr(t):t,{state:n,key:t&&t.key||r||Fv()})}function Nr(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function nr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Ov(e,t,n,r){r===void 0&&(r={});let{window:l=document.defaultView,v5Compat:s=!1}=r,a=l.history,o=Ae.Pop,u=null,c=m();c==null&&(c=0,a.replaceState(Pe({},a.state,{idx:c}),""));function m(){return(a.state||{idx:null}).idx}function f(){o=Ae.Pop;let P=m(),g=P==null?null:P-c;c=P,u&&u({action:o,location:k.location,delta:g})}function h(P,g){o=Ae.Push;let d=rs(k.location,P,g);c=m()+1;let v=Wc(d,c),E=k.createHref(d);try{a.pushState(v,"",E)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;l.location.assign(E)}s&&u&&u({action:o,location:k.location,delta:1})}function x(P,g){o=Ae.Replace;let d=rs(k.location,P,g);c=m();let v=Wc(d,c),E=k.createHref(d);a.replaceState(v,"",E),s&&u&&u({action:o,location:k.location,delta:0})}function j(P){let g=l.location.origin!=="null"?l.location.origin:l.location.href,d=typeof P=="string"?P:Nr(P);return d=d.replace(/ $/,"%20"),ie(g,"No window.location.(origin|href) available to create URL for href: "+d),new URL(d,g)}let k={get action(){return o},get location(){return e(l,a)},listen(P){if(u)throw new Error("A history only accepts one active listener");return l.addEventListener(Vc,f),u=P,()=>{l.removeEventListener(Vc,f),u=null}},createHref(P){return t(l,P)},createURL:j,encodeLocation(P){let g=j(P);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:x,go(P){return a.go(P)}};return k}var xe;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(xe||(xe={}));const Iv=new Set(["lazy","caseSensitive","path","id","index","children"]);function zv(e){return e.index===!0}function wi(e,t,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),e.map((l,s)=>{let a=[...n,String(s)],o=typeof l.id=="string"?l.id:a.join("-");if(ie(l.index!==!0||!l.children,"Cannot specify children on an index route"),ie(!r[o],'Found a route id collision on id "'+o+`".  Route id's must be globally unique within Data Router usages`),zv(l)){let u=Pe({},l,t(l),{id:o});return r[o]=u,u}else{let u=Pe({},l,t(l),{id:o,children:void 0});return r[o]=u,l.children&&(u.children=wi(l.children,t,a,r)),u}})}function ur(e,t,n){return n===void 0&&(n="/"),Ys(e,t,n,!1)}function Ys(e,t,n,r){let l=typeof t=="string"?nr(t):t,s=Tn(l.pathname||"/",n);if(s==null)return null;let a=Dp(e);Av(a);let o=null;for(let u=0;o==null&&u<a.length;++u){let c=qv(s);o=Yv(a[u],c,r)}return o}function Uv(e,t){let{route:n,pathname:r,params:l}=e;return{id:n.id,pathname:r,params:l,data:t[n.id],handle:n.handle}}function Dp(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let l=(s,a,o)=>{let u={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};u.relativePath.startsWith("/")&&(ie(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=Sn([r,u.relativePath]),m=n.concat(u);s.children&&s.children.length>0&&(ie(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Dp(s.children,t,m,c)),!(s.path==null&&!s.index)&&t.push({path:c,score:Kv(c,s.index),routesMeta:m})};return e.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))l(s,a);else for(let u of Fp(s.path))l(s,a,u)}),t}function Fp(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,l=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return l?[s,""]:[s];let a=Fp(r.join("/")),o=[];return o.push(...a.map(u=>u===""?s:[s,u].join("/"))),l&&o.push(...a),o.map(u=>e.startsWith("/")&&u===""?"/":u)}function Av(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Gv(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const $v=/^:[\w-]+$/,Bv=3,Vv=2,Wv=1,Qv=10,Hv=-2,Qc=e=>e==="*";function Kv(e,t){let n=e.split("/"),r=n.length;return n.some(Qc)&&(r+=Hv),t&&(r+=Vv),n.filter(l=>!Qc(l)).reduce((l,s)=>l+($v.test(s)?Bv:s===""?Wv:Qv),r)}function Gv(e,t){return e.length===t.length&&e.slice(0,-1).every((r,l)=>r===t[l])?e[e.length-1]-t[t.length-1]:0}function Yv(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,l={},s="/",a=[];for(let o=0;o<r.length;++o){let u=r[o],c=o===r.length-1,m=s==="/"?t:t.slice(s.length)||"/",f=ji({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},m),h=u.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=ji({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},m)),!f)return null;Object.assign(l,f.params),a.push({params:l,pathname:Sn([s,f.pathname]),pathnameBase:eg(Sn([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=Sn([s,f.pathnameBase]))}return a}function ji(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Xv(e.path,e.caseSensitive,e.end),l=t.match(n);if(!l)return null;let s=l[0],a=s.replace(/(.)\/+$/,"$1"),o=l.slice(1);return{params:r.reduce((c,m,f)=>{let{paramName:h,isOptional:x}=m;if(h==="*"){let k=o[f]||"";a=s.slice(0,s.length-k.length).replace(/(.)\/+$/,"$1")}const j=o[f];return x&&!j?c[h]=void 0:c[h]=(j||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:e}}function Xv(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),sl(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,u)=>(r.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),r]}function qv(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return sl(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Tn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Jv(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:l=""}=typeof e=="string"?nr(e):e;return{pathname:n?n.startsWith("/")?n:Zv(n,t):t,search:tg(r),hash:ng(l)}}function Zv(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function ja(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Op(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Ai(e,t){let n=Op(e);return t?n.map((r,l)=>l===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function $i(e,t,n,r){r===void 0&&(r=!1);let l;typeof e=="string"?l=nr(e):(l=Pe({},e),ie(!l.pathname||!l.pathname.includes("?"),ja("?","pathname","search",l)),ie(!l.pathname||!l.pathname.includes("#"),ja("#","pathname","hash",l)),ie(!l.search||!l.search.includes("#"),ja("#","search","hash",l)));let s=e===""||l.pathname==="",a=s?"/":l.pathname,o;if(a==null)o=n;else{let f=t.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;l.pathname=h.join("/")}o=f>=0?t[f]:"/"}let u=Jv(l,o),c=a&&a!=="/"&&a.endsWith("/"),m=(s||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||m)&&(u.pathname+="/"),u}const Sn=e=>e.join("/").replace(/\/\/+/g,"/"),eg=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),tg=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ng=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class Ni{constructor(t,n,r,l){l===void 0&&(l=!1),this.status=t,this.statusText=n||"",this.internal=l,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function ls(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Ip=["post","put","patch","delete"],rg=new Set(Ip),lg=["get",...Ip],sg=new Set(lg),ig=new Set([301,302,303,307,308]),ag=new Set([307,308]),Na={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},og={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},wl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Su=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ug=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),zp="remix-router-transitions";function cg(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",r=!n;ie(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let l;if(e.mapRouteProperties)l=e.mapRouteProperties;else if(e.detectErrorBoundary){let y=e.detectErrorBoundary;l=N=>({hasErrorBoundary:y(N)})}else l=ug;let s={},a=wi(e.routes,l,void 0,s),o,u=e.basename||"/",c=e.dataStrategy||mg,m=e.patchRoutesOnNavigation,f=Pe({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},e.future),h=null,x=new Set,j=null,k=null,P=null,g=e.hydrationData!=null,d=ur(a,e.history.location,u),v=!1,E=null;if(d==null&&!m){let y=gt(404,{pathname:e.history.location.pathname}),{matches:N,route:C}=nd(a);d=N,E={[C.id]:y}}d&&!e.hydrationData&&Bt(d,a,e.history.location.pathname).active&&(d=null);let T;if(d)if(d.some(y=>y.route.lazy))T=!1;else if(!d.some(y=>y.route.loader))T=!0;else if(f.v7_partialHydration){let y=e.hydrationData?e.hydrationData.loaderData:null,N=e.hydrationData?e.hydrationData.errors:null;if(N){let C=d.findIndex(b=>N[b.route.id]!==void 0);T=d.slice(0,C+1).every(b=>!Eo(b.route,y,N))}else T=d.every(C=>!Eo(C.route,y,N))}else T=e.hydrationData!=null;else if(T=!1,d=[],f.v7_partialHydration){let y=Bt(null,a,e.history.location.pathname);y.active&&y.matches&&(v=!0,d=y.matches)}let D,w={historyAction:e.history.action,location:e.history.location,matches:d,initialized:T,navigation:Na,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||E,fetchers:new Map,blockers:new Map},_=Ae.Pop,$=!1,F,J=!1,oe=new Map,G=null,Y=!1,ae=!1,se=[],fe=new Set,L=new Map,U=0,A=-1,re=new Map,X=new Set,ue=new Map,Ne=new Map,ee=new Set,pe=new Map,Ie=new Map,Z;function ge(){if(h=e.history.listen(y=>{let{action:N,location:C,delta:b}=y;if(Z){Z(),Z=void 0;return}sl(Ie.size===0||b!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let I=ps({currentLocation:w.location,nextLocation:C,historyAction:N});if(I&&b!=null){let q=new Promise(ne=>{Z=ne});e.history.go(b*-1),_r(I,{state:"blocked",location:C,proceed(){_r(I,{state:"proceeding",proceed:void 0,reset:void 0,location:C}),q.then(()=>e.history.go(b))},reset(){let ne=new Map(w.blockers);ne.set(I,wl),ye({blockers:ne})}});return}return Be(N,C)}),n){Tg(t,oe);let y=()=>Pg(t,oe);t.addEventListener("pagehide",y),G=()=>t.removeEventListener("pagehide",y)}return w.initialized||Be(Ae.Pop,w.location,{initialHydration:!0}),D}function Xe(){h&&h(),G&&G(),x.clear(),F&&F.abort(),w.fetchers.forEach((y,N)=>z(N)),w.blockers.forEach((y,N)=>fs(N))}function at(y){return x.add(y),()=>x.delete(y)}function ye(y,N){N===void 0&&(N={}),w=Pe({},w,y);let C=[],b=[];f.v7_fetcherPersist&&w.fetchers.forEach((I,q)=>{I.state==="idle"&&(ee.has(q)?b.push(q):C.push(q))}),ee.forEach(I=>{!w.fetchers.has(I)&&!L.has(I)&&b.push(I)}),[...x].forEach(I=>I(w,{deletedFetchers:b,viewTransitionOpts:N.viewTransitionOpts,flushSync:N.flushSync===!0})),f.v7_fetcherPersist?(C.forEach(I=>w.fetchers.delete(I)),b.forEach(I=>z(I))):b.forEach(I=>ee.delete(I))}function Qe(y,N,C){var b,I;let{flushSync:q}=C===void 0?{}:C,ne=w.actionData!=null&&w.navigation.formMethod!=null&&Gt(w.navigation.formMethod)&&w.navigation.state==="loading"&&((b=y.state)==null?void 0:b._isRedirect)!==!0,Q;N.actionData?Object.keys(N.actionData).length>0?Q=N.actionData:Q=null:ne?Q=w.actionData:Q=null;let H=N.loaderData?ed(w.loaderData,N.loaderData,N.matches||[],N.errors):w.loaderData,B=w.blockers;B.size>0&&(B=new Map(B),B.forEach((de,Ue)=>B.set(Ue,wl)));let K=$===!0||w.navigation.formMethod!=null&&Gt(w.navigation.formMethod)&&((I=y.state)==null?void 0:I._isRedirect)!==!0;o&&(a=o,o=void 0),Y||_===Ae.Pop||(_===Ae.Push?e.history.push(y,y.state):_===Ae.Replace&&e.history.replace(y,y.state));let le;if(_===Ae.Pop){let de=oe.get(w.location.pathname);de&&de.has(y.pathname)?le={currentLocation:w.location,nextLocation:y}:oe.has(y.pathname)&&(le={currentLocation:y,nextLocation:w.location})}else if(J){let de=oe.get(w.location.pathname);de?de.add(y.pathname):(de=new Set([y.pathname]),oe.set(w.location.pathname,de)),le={currentLocation:w.location,nextLocation:y}}ye(Pe({},N,{actionData:Q,loaderData:H,historyAction:_,location:y,initialized:!0,navigation:Na,revalidation:"idle",restoreScrollPosition:lr(y,N.matches||w.matches),preventScrollReset:K,blockers:B}),{viewTransitionOpts:le,flushSync:q===!0}),_=Ae.Pop,$=!1,J=!1,Y=!1,ae=!1,se=[]}async function fn(y,N){if(typeof y=="number"){e.history.go(y);return}let C=ko(w.location,w.matches,u,f.v7_prependBasename,y,f.v7_relativeSplatPath,N==null?void 0:N.fromRouteId,N==null?void 0:N.relative),{path:b,submission:I,error:q}=Hc(f.v7_normalizeFormMethod,!1,C,N),ne=w.location,Q=rs(w.location,b,N&&N.state);Q=Pe({},Q,e.history.encodeLocation(Q));let H=N&&N.replace!=null?N.replace:void 0,B=Ae.Push;H===!0?B=Ae.Replace:H===!1||I!=null&&Gt(I.formMethod)&&I.formAction===w.location.pathname+w.location.search&&(B=Ae.Replace);let K=N&&"preventScrollReset"in N?N.preventScrollReset===!0:void 0,le=(N&&N.flushSync)===!0,de=ps({currentLocation:ne,nextLocation:Q,historyAction:B});if(de){_r(de,{state:"blocked",location:Q,proceed(){_r(de,{state:"proceeding",proceed:void 0,reset:void 0,location:Q}),fn(y,N)},reset(){let Ue=new Map(w.blockers);Ue.set(de,wl),ye({blockers:Ue})}});return}return await Be(B,Q,{submission:I,pendingError:q,preventScrollReset:K,replace:N&&N.replace,enableViewTransition:N&&N.viewTransition,flushSync:le})}function kt(){if(Rn(),ye({revalidation:"loading"}),w.navigation.state!=="submitting"){if(w.navigation.state==="idle"){Be(w.historyAction,w.location,{startUninterruptedRevalidation:!0});return}Be(_||w.historyAction,w.navigation.location,{overrideNavigation:w.navigation,enableViewTransition:J===!0})}}async function Be(y,N,C){F&&F.abort(),F=null,_=y,Y=(C&&C.startUninterruptedRevalidation)===!0,ot(w.location,w.matches),$=(C&&C.preventScrollReset)===!0,J=(C&&C.enableViewTransition)===!0;let b=o||a,I=C&&C.overrideNavigation,q=C!=null&&C.initialHydration&&w.matches&&w.matches.length>0&&!v?w.matches:ur(b,N,u),ne=(C&&C.flushSync)===!0;if(q&&w.initialized&&!ae&&wg(w.location,N)&&!(C&&C.submission&&Gt(C.submission.formMethod))){Qe(N,{matches:q},{flushSync:ne});return}let Q=Bt(q,b,N.pathname);if(Q.active&&Q.matches&&(q=Q.matches),!q){let{error:je,notFoundMatches:te,route:Te}=Tr(N.pathname);Qe(N,{matches:te,loaderData:{},errors:{[Te.id]:je}},{flushSync:ne});return}F=new AbortController;let H=Rr(e.history,N,F.signal,C&&C.submission),B;if(C&&C.pendingError)B=[cr(q).route.id,{type:xe.error,error:C.pendingError}];else if(C&&C.submission&&Gt(C.submission.formMethod)){let je=await Zt(H,N,C.submission,q,Q.active,{replace:C.replace,flushSync:ne});if(je.shortCircuited)return;if(je.pendingActionResult){let[te,Te]=je.pendingActionResult;if(_t(Te)&&ls(Te.error)&&Te.error.status===404){F=null,Qe(N,{matches:je.matches,loaderData:{},errors:{[te]:Te.error}});return}}q=je.matches||q,B=je.pendingActionResult,I=Sa(N,C.submission),ne=!1,Q.active=!1,H=Rr(e.history,H.url,H.signal)}let{shortCircuited:K,matches:le,loaderData:de,errors:Ue}=await en(H,N,q,Q.active,I,C&&C.submission,C&&C.fetcherSubmission,C&&C.replace,C&&C.initialHydration===!0,ne,B);K||(F=null,Qe(N,Pe({matches:le||q},td(B),{loaderData:de,errors:Ue})))}async function Zt(y,N,C,b,I,q){q===void 0&&(q={}),Rn();let ne=Cg(N,C);if(ye({navigation:ne},{flushSync:q.flushSync===!0}),I){let B=await hn(b,N.pathname,y.signal);if(B.type==="aborted")return{shortCircuited:!0};if(B.type==="error"){let K=cr(B.partialMatches).route.id;return{matches:B.partialMatches,pendingActionResult:[K,{type:xe.error,error:B.error}]}}else if(B.matches)b=B.matches;else{let{notFoundMatches:K,error:le,route:de}=Tr(N.pathname);return{matches:K,pendingActionResult:[de.id,{type:xe.error,error:le}]}}}let Q,H=Ll(b,N);if(!H.route.action&&!H.route.lazy)Q={type:xe.error,error:gt(405,{method:y.method,pathname:N.pathname,routeId:H.route.id})};else if(Q=(await $t("action",w,y,[H],b,null))[H.route.id],y.signal.aborted)return{shortCircuited:!0};if(mr(Q)){let B;return q&&q.replace!=null?B=q.replace:B=qc(Q.response.headers.get("Location"),new URL(y.url),u)===w.location.pathname+w.location.search,await mt(y,Q,!0,{submission:C,replace:B}),{shortCircuited:!0}}if(Bn(Q))throw gt(400,{type:"defer-action"});if(_t(Q)){let B=cr(b,H.route.id);return(q&&q.replace)!==!0&&(_=Ae.Push),{matches:b,pendingActionResult:[B.route.id,Q]}}return{matches:b,pendingActionResult:[H.route.id,Q]}}async function en(y,N,C,b,I,q,ne,Q,H,B,K){let le=I||Sa(N,q),de=q||ne||ld(le),Ue=!Y&&(!f.v7_partialHydration||!H);if(b){if(Ue){let S=pt(K);ye(Pe({navigation:le},S!==void 0?{actionData:S}:{}),{flushSync:B})}let me=await hn(C,N.pathname,y.signal);if(me.type==="aborted")return{shortCircuited:!0};if(me.type==="error"){let S=cr(me.partialMatches).route.id;return{matches:me.partialMatches,loaderData:{},errors:{[S]:me.error}}}else if(me.matches)C=me.matches;else{let{error:S,notFoundMatches:R,route:O}=Tr(N.pathname);return{matches:R,loaderData:{},errors:{[O.id]:S}}}}let je=o||a,[te,Te]=Gc(e.history,w,C,de,N,f.v7_partialHydration&&H===!0,f.v7_skipActionErrorRevalidation,ae,se,fe,ee,ue,X,je,u,K);if(Pr(me=>!(C&&C.some(S=>S.route.id===me))||te&&te.some(S=>S.route.id===me)),A=++U,te.length===0&&Te.length===0){let me=Ke();return Qe(N,Pe({matches:C,loaderData:{},errors:K&&_t(K[1])?{[K[0]]:K[1].error}:null},td(K),me?{fetchers:new Map(w.fetchers)}:{}),{flushSync:B}),{shortCircuited:!0}}if(Ue){let me={};if(!b){me.navigation=le;let S=pt(K);S!==void 0&&(me.actionData=S)}Te.length>0&&(me.fetchers=et(Te)),ye(me,{flushSync:B})}Te.forEach(me=>{Se(me.key),me.controller&&L.set(me.key,me.controller)});let rn=()=>Te.forEach(me=>Se(me.key));F&&F.signal.addEventListener("abort",rn);let{loaderResults:sr,fetcherResults:Vt}=await bn(w,C,te,Te,y);if(y.signal.aborted)return{shortCircuited:!0};F&&F.signal.removeEventListener("abort",rn),Te.forEach(me=>L.delete(me.key));let Dt=Rs(sr);if(Dt)return await mt(y,Dt.result,!0,{replace:Q}),{shortCircuited:!0};if(Dt=Rs(Vt),Dt)return X.add(Dt.key),await mt(y,Dt.result,!0,{replace:Q}),{shortCircuited:!0};let{loaderData:dl,errors:Wt}=Zc(w,C,sr,K,Te,Vt,pe);pe.forEach((me,S)=>{me.subscribe(R=>{(R||me.done)&&pe.delete(S)})}),f.v7_partialHydration&&H&&w.errors&&(Wt=Pe({},w.errors,Wt));let Et=Ke(),Lr=_e(A),ir=Et||Lr||Te.length>0;return Pe({matches:C,loaderData:dl,errors:Wt},ir?{fetchers:new Map(w.fetchers)}:{})}function pt(y){if(y&&!_t(y[1]))return{[y[0]]:y[1].data};if(w.actionData)return Object.keys(w.actionData).length===0?null:w.actionData}function et(y){return y.forEach(N=>{let C=w.fetchers.get(N.key),b=jl(void 0,C?C.data:void 0);w.fetchers.set(N.key,b)}),new Map(w.fetchers)}function tn(y,N,C,b){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Se(y);let I=(b&&b.flushSync)===!0,q=o||a,ne=ko(w.location,w.matches,u,f.v7_prependBasename,C,f.v7_relativeSplatPath,N,b==null?void 0:b.relative),Q=ur(q,ne,u),H=Bt(Q,q,ne);if(H.active&&H.matches&&(Q=H.matches),!Q){nt(y,N,gt(404,{pathname:ne}),{flushSync:I});return}let{path:B,submission:K,error:le}=Hc(f.v7_normalizeFormMethod,!0,ne,b);if(le){nt(y,N,le,{flushSync:I});return}let de=Ll(Q,B),Ue=(b&&b.preventScrollReset)===!0;if(K&&Gt(K.formMethod)){nn(y,N,B,de,Q,H.active,I,Ue,K);return}ue.set(y,{routeId:N,path:B}),tt(y,N,B,de,Q,H.active,I,Ue,K)}async function nn(y,N,C,b,I,q,ne,Q,H){Rn(),ue.delete(y);function B(V){if(!V.route.action&&!V.route.lazy){let be=gt(405,{method:H.formMethod,pathname:C,routeId:N});return nt(y,N,be,{flushSync:ne}),!0}return!1}if(!q&&B(b))return;let K=w.fetchers.get(y);ze(y,_g(H,K),{flushSync:ne});let le=new AbortController,de=Rr(e.history,C,le.signal,H);if(q){let V=await hn(I,new URL(de.url).pathname,de.signal,y);if(V.type==="aborted")return;if(V.type==="error"){nt(y,N,V.error,{flushSync:ne});return}else if(V.matches){if(I=V.matches,b=Ll(I,C),B(b))return}else{nt(y,N,gt(404,{pathname:C}),{flushSync:ne});return}}L.set(y,le);let Ue=U,te=(await $t("action",w,de,[b],I,y))[b.route.id];if(de.signal.aborted){L.get(y)===le&&L.delete(y);return}if(f.v7_fetcherPersist&&ee.has(y)){if(mr(te)||_t(te)){ze(y,Fn(void 0));return}}else{if(mr(te))if(L.delete(y),A>Ue){ze(y,Fn(void 0));return}else return X.add(y),ze(y,jl(H)),mt(de,te,!1,{fetcherSubmission:H,preventScrollReset:Q});if(_t(te)){nt(y,N,te.error);return}}if(Bn(te))throw gt(400,{type:"defer-action"});let Te=w.navigation.location||w.location,rn=Rr(e.history,Te,le.signal),sr=o||a,Vt=w.navigation.state!=="idle"?ur(sr,w.navigation.location,u):w.matches;ie(Vt,"Didn't find any matches after fetcher action");let Dt=++U;re.set(y,Dt);let dl=jl(H,te.data);w.fetchers.set(y,dl);let[Wt,Et]=Gc(e.history,w,Vt,H,Te,!1,f.v7_skipActionErrorRevalidation,ae,se,fe,ee,ue,X,sr,u,[b.route.id,te]);Et.filter(V=>V.key!==y).forEach(V=>{let be=V.key,ht=w.fetchers.get(be),vt=jl(void 0,ht?ht.data:void 0);w.fetchers.set(be,vt),Se(be),V.controller&&L.set(be,V.controller)}),ye({fetchers:new Map(w.fetchers)});let Lr=()=>Et.forEach(V=>Se(V.key));le.signal.addEventListener("abort",Lr);let{loaderResults:ir,fetcherResults:me}=await bn(w,Vt,Wt,Et,rn);if(le.signal.aborted)return;le.signal.removeEventListener("abort",Lr),re.delete(y),L.delete(y),Et.forEach(V=>L.delete(V.key));let S=Rs(ir);if(S)return mt(rn,S.result,!1,{preventScrollReset:Q});if(S=Rs(me),S)return X.add(S.key),mt(rn,S.result,!1,{preventScrollReset:Q});let{loaderData:R,errors:O}=Zc(w,Vt,ir,void 0,Et,me,pe);if(w.fetchers.has(y)){let V=Fn(te.data);w.fetchers.set(y,V)}_e(Dt),w.navigation.state==="loading"&&Dt>A?(ie(_,"Expected pending action"),F&&F.abort(),Qe(w.navigation.location,{matches:Vt,loaderData:R,errors:O,fetchers:new Map(w.fetchers)})):(ye({errors:O,loaderData:ed(w.loaderData,R,Vt,O),fetchers:new Map(w.fetchers)}),ae=!1)}async function tt(y,N,C,b,I,q,ne,Q,H){let B=w.fetchers.get(y);ze(y,jl(H,B?B.data:void 0),{flushSync:ne});let K=new AbortController,le=Rr(e.history,C,K.signal);if(q){let te=await hn(I,new URL(le.url).pathname,le.signal,y);if(te.type==="aborted")return;if(te.type==="error"){nt(y,N,te.error,{flushSync:ne});return}else if(te.matches)I=te.matches,b=Ll(I,C);else{nt(y,N,gt(404,{pathname:C}),{flushSync:ne});return}}L.set(y,K);let de=U,je=(await $t("loader",w,le,[b],I,y))[b.route.id];if(Bn(je)&&(je=await ku(je,le.signal,!0)||je),L.get(y)===K&&L.delete(y),!le.signal.aborted){if(ee.has(y)){ze(y,Fn(void 0));return}if(mr(je))if(A>de){ze(y,Fn(void 0));return}else{X.add(y),await mt(le,je,!1,{preventScrollReset:Q});return}if(_t(je)){nt(y,N,je.error);return}ie(!Bn(je),"Unhandled fetcher deferred data"),ze(y,Fn(je.data))}}async function mt(y,N,C,b){let{submission:I,fetcherSubmission:q,preventScrollReset:ne,replace:Q}=b===void 0?{}:b;N.response.headers.has("X-Remix-Revalidate")&&(ae=!0);let H=N.response.headers.get("Location");ie(H,"Expected a Location header on the redirect Response"),H=qc(H,new URL(y.url),u);let B=rs(w.location,H,{_isRedirect:!0});if(n){let te=!1;if(N.response.headers.has("X-Remix-Reload-Document"))te=!0;else if(Su.test(H)){const Te=e.history.createURL(H);te=Te.origin!==t.location.origin||Tn(Te.pathname,u)==null}if(te){Q?t.location.replace(H):t.location.assign(H);return}}F=null;let K=Q===!0||N.response.headers.has("X-Remix-Replace")?Ae.Replace:Ae.Push,{formMethod:le,formAction:de,formEncType:Ue}=w.navigation;!I&&!q&&le&&de&&Ue&&(I=ld(w.navigation));let je=I||q;if(ag.has(N.response.status)&&je&&Gt(je.formMethod))await Be(K,B,{submission:Pe({},je,{formAction:H}),preventScrollReset:ne||$,enableViewTransition:C?J:void 0});else{let te=Sa(B,I);await Be(K,B,{overrideNavigation:te,fetcherSubmission:q,preventScrollReset:ne||$,enableViewTransition:C?J:void 0})}}async function $t(y,N,C,b,I,q){let ne,Q={};try{ne=await hg(c,y,N,C,b,I,q,s,l)}catch(H){return b.forEach(B=>{Q[B.route.id]={type:xe.error,error:H}}),Q}for(let[H,B]of Object.entries(ne))if(jg(B)){let K=B.result;Q[H]={type:xe.redirect,response:yg(K,C,H,I,u,f.v7_relativeSplatPath)}}else Q[H]=await gg(B);return Q}async function bn(y,N,C,b,I){let q=y.matches,ne=$t("loader",y,I,C,N,null),Q=Promise.all(b.map(async K=>{if(K.matches&&K.match&&K.controller){let de=(await $t("loader",y,Rr(e.history,K.path,K.controller.signal),[K.match],K.matches,K.key))[K.match.route.id];return{[K.key]:de}}else return Promise.resolve({[K.key]:{type:xe.error,error:gt(404,{pathname:K.path})}})})),H=await ne,B=(await Q).reduce((K,le)=>Object.assign(K,le),{});return await Promise.all([kg(N,H,I.signal,q,y.loaderData),Eg(N,B,b)]),{loaderResults:H,fetcherResults:B}}function Rn(){ae=!0,se.push(...Pr()),ue.forEach((y,N)=>{L.has(N)&&fe.add(N),Se(N)})}function ze(y,N,C){C===void 0&&(C={}),w.fetchers.set(y,N),ye({fetchers:new Map(w.fetchers)},{flushSync:(C&&C.flushSync)===!0})}function nt(y,N,C,b){b===void 0&&(b={});let I=cr(w.matches,N);z(y),ye({errors:{[I.route.id]:C},fetchers:new Map(w.fetchers)},{flushSync:(b&&b.flushSync)===!0})}function pn(y){return Ne.set(y,(Ne.get(y)||0)+1),ee.has(y)&&ee.delete(y),w.fetchers.get(y)||og}function z(y){let N=w.fetchers.get(y);L.has(y)&&!(N&&N.state==="loading"&&re.has(y))&&Se(y),ue.delete(y),re.delete(y),X.delete(y),f.v7_fetcherPersist&&ee.delete(y),fe.delete(y),w.fetchers.delete(y)}function he(y){let N=(Ne.get(y)||0)-1;N<=0?(Ne.delete(y),ee.add(y),f.v7_fetcherPersist||z(y)):Ne.set(y,N),ye({fetchers:new Map(w.fetchers)})}function Se(y){let N=L.get(y);N&&(N.abort(),L.delete(y))}function He(y){for(let N of y){let C=pn(N),b=Fn(C.data);w.fetchers.set(N,b)}}function Ke(){let y=[],N=!1;for(let C of X){let b=w.fetchers.get(C);ie(b,"Expected fetcher: "+C),b.state==="loading"&&(X.delete(C),y.push(C),N=!0)}return He(y),N}function _e(y){let N=[];for(let[C,b]of re)if(b<y){let I=w.fetchers.get(C);ie(I,"Expected fetcher: "+C),I.state==="loading"&&(Se(C),re.delete(C),N.push(C))}return He(N),N.length>0}function Wi(y,N){let C=w.blockers.get(y)||wl;return Ie.get(y)!==N&&Ie.set(y,N),C}function fs(y){w.blockers.delete(y),Ie.delete(y)}function _r(y,N){let C=w.blockers.get(y)||wl;ie(C.state==="unblocked"&&N.state==="blocked"||C.state==="blocked"&&N.state==="blocked"||C.state==="blocked"&&N.state==="proceeding"||C.state==="blocked"&&N.state==="unblocked"||C.state==="proceeding"&&N.state==="unblocked","Invalid blocker state transition: "+C.state+" -> "+N.state);let b=new Map(w.blockers);b.set(y,N),ye({blockers:b})}function ps(y){let{currentLocation:N,nextLocation:C,historyAction:b}=y;if(Ie.size===0)return;Ie.size>1&&sl(!1,"A router only supports one blocker at a time");let I=Array.from(Ie.entries()),[q,ne]=I[I.length-1],Q=w.blockers.get(q);if(!(Q&&Q.state==="proceeding")&&ne({currentLocation:N,nextLocation:C,historyAction:b}))return q}function Tr(y){let N=gt(404,{pathname:y}),C=o||a,{matches:b,route:I}=nd(C);return Pr(),{notFoundMatches:b,route:I,error:N}}function Pr(y){let N=[];return pe.forEach((C,b)=>{(!y||y(b))&&(C.cancel(),N.push(b),pe.delete(b))}),N}function Qi(y,N,C){if(j=y,P=N,k=C||null,!g&&w.navigation===Na){g=!0;let b=lr(w.location,w.matches);b!=null&&ye({restoreScrollPosition:b})}return()=>{j=null,P=null,k=null}}function mn(y,N){return k&&k(y,N.map(b=>Uv(b,w.loaderData)))||y.key}function ot(y,N){if(j&&P){let C=mn(y,N);j[C]=P()}}function lr(y,N){if(j){let C=mn(y,N),b=j[C];if(typeof b=="number")return b}return null}function Bt(y,N,C){if(m)if(y){if(Object.keys(y[0].params).length>0)return{active:!0,matches:Ys(N,C,u,!0)}}else return{active:!0,matches:Ys(N,C,u,!0)||[]};return{active:!1,matches:null}}async function hn(y,N,C,b){if(!m)return{type:"success",matches:y};let I=y;for(;;){let q=o==null,ne=o||a,Q=s;try{await m({signal:C,path:N,matches:I,fetcherKey:b,patch:(K,le)=>{C.aborted||Xc(K,le,ne,Q,l)}})}catch(K){return{type:"error",error:K,partialMatches:I}}finally{q&&!C.aborted&&(a=[...a])}if(C.aborted)return{type:"aborted"};let H=ur(ne,N,u);if(H)return{type:"success",matches:H};let B=Ys(ne,N,u,!0);if(!B||I.length===B.length&&I.every((K,le)=>K.route.id===B[le].route.id))return{type:"success",matches:null};I=B}}function Hi(y){s={},o=wi(y,l,void 0,s)}function Ki(y,N){let C=o==null;Xc(y,N,o||a,s,l),C&&(a=[...a],ye({}))}return D={get basename(){return u},get future(){return f},get state(){return w},get routes(){return a},get window(){return t},initialize:ge,subscribe:at,enableScrollRestoration:Qi,navigate:fn,fetch:tn,revalidate:kt,createHref:y=>e.history.createHref(y),encodeLocation:y=>e.history.encodeLocation(y),getFetcher:pn,deleteFetcher:he,dispose:Xe,getBlocker:Wi,deleteBlocker:fs,patchRoutes:Ki,_internalFetchControllers:L,_internalActiveDeferreds:pe,_internalSetRoutes:Hi},D}function dg(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function ko(e,t,n,r,l,s,a,o){let u,c;if(a){u=[];for(let f of t)if(u.push(f),f.route.id===a){c=f;break}}else u=t,c=t[t.length-1];let m=$i(l||".",Ai(u,s),Tn(e.pathname,n)||e.pathname,o==="path");if(l==null&&(m.search=e.search,m.hash=e.hash),(l==null||l===""||l===".")&&c){let f=Eu(m.search);if(c.route.index&&!f)m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&f){let h=new URLSearchParams(m.search),x=h.getAll("index");h.delete("index"),x.filter(k=>k).forEach(k=>h.append("index",k));let j=h.toString();m.search=j?"?"+j:""}}return r&&n!=="/"&&(m.pathname=m.pathname==="/"?n:Sn([n,m.pathname])),Nr(m)}function Hc(e,t,n,r){if(!r||!dg(r))return{path:n};if(r.formMethod&&!Sg(r.formMethod))return{path:n,error:gt(405,{method:r.formMethod})};let l=()=>({path:n,error:gt(400,{type:"invalid-body"})}),s=r.formMethod||"get",a=e?s.toUpperCase():s.toLowerCase(),o=$p(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Gt(a))return l();let h=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((x,j)=>{let[k,P]=j;return""+x+k+"="+P+`
`},""):String(r.body);return{path:n,submission:{formMethod:a,formAction:o,formEncType:r.formEncType,formData:void 0,json:void 0,text:h}}}else if(r.formEncType==="application/json"){if(!Gt(a))return l();try{let h=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:a,formAction:o,formEncType:r.formEncType,formData:void 0,json:h,text:void 0}}}catch{return l()}}}ie(typeof FormData=="function","FormData is not available in this environment");let u,c;if(r.formData)u=Co(r.formData),c=r.formData;else if(r.body instanceof FormData)u=Co(r.body),c=r.body;else if(r.body instanceof URLSearchParams)u=r.body,c=Jc(u);else if(r.body==null)u=new URLSearchParams,c=new FormData;else try{u=new URLSearchParams(r.body),c=Jc(u)}catch{return l()}let m={formMethod:a,formAction:o,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Gt(m.formMethod))return{path:n,submission:m};let f=nr(n);return t&&f.search&&Eu(f.search)&&u.append("index",""),f.search="?"+u,{path:Nr(f),submission:m}}function Kc(e,t,n){n===void 0&&(n=!1);let r=e.findIndex(l=>l.route.id===t);return r>=0?e.slice(0,n?r+1:r):e}function Gc(e,t,n,r,l,s,a,o,u,c,m,f,h,x,j,k){let P=k?_t(k[1])?k[1].error:k[1].data:void 0,g=e.createURL(t.location),d=e.createURL(l),v=n;s&&t.errors?v=Kc(n,Object.keys(t.errors)[0],!0):k&&_t(k[1])&&(v=Kc(n,k[0]));let E=k?k[1].statusCode:void 0,T=a&&E&&E>=400,D=v.filter((_,$)=>{let{route:F}=_;if(F.lazy)return!0;if(F.loader==null)return!1;if(s)return Eo(F,t.loaderData,t.errors);if(fg(t.loaderData,t.matches[$],_)||u.some(G=>G===_.route.id))return!0;let J=t.matches[$],oe=_;return Yc(_,Pe({currentUrl:g,currentParams:J.params,nextUrl:d,nextParams:oe.params},r,{actionResult:P,actionStatus:E,defaultShouldRevalidate:T?!1:o||g.pathname+g.search===d.pathname+d.search||g.search!==d.search||Up(J,oe)}))}),w=[];return f.forEach((_,$)=>{if(s||!n.some(Y=>Y.route.id===_.routeId)||m.has($))return;let F=ur(x,_.path,j);if(!F){w.push({key:$,routeId:_.routeId,path:_.path,matches:null,match:null,controller:null});return}let J=t.fetchers.get($),oe=Ll(F,_.path),G=!1;h.has($)?G=!1:c.has($)?(c.delete($),G=!0):J&&J.state!=="idle"&&J.data===void 0?G=o:G=Yc(oe,Pe({currentUrl:g,currentParams:t.matches[t.matches.length-1].params,nextUrl:d,nextParams:n[n.length-1].params},r,{actionResult:P,actionStatus:E,defaultShouldRevalidate:T?!1:o})),G&&w.push({key:$,routeId:_.routeId,path:_.path,matches:F,match:oe,controller:new AbortController})}),[D,w]}function Eo(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let r=t!=null&&t[e.id]!==void 0,l=n!=null&&n[e.id]!==void 0;return!r&&l?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!r&&!l}function fg(e,t,n){let r=!t||n.route.id!==t.route.id,l=e[n.route.id]===void 0;return r||l}function Up(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Yc(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function Xc(e,t,n,r,l){var s;let a;if(e){let c=r[e];ie(c,"No route found to patch children into: routeId = "+e),c.children||(c.children=[]),a=c.children}else a=n;let o=t.filter(c=>!a.some(m=>Ap(c,m))),u=wi(o,l,[e||"_","patch",String(((s=a)==null?void 0:s.length)||"0")],r);a.push(...u)}function Ap(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,r)=>{var l;return(l=t.children)==null?void 0:l.some(s=>Ap(n,s))}):!1}async function pg(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let l=n[e.id];ie(l,"No route found in manifest");let s={};for(let a in r){let u=l[a]!==void 0&&a!=="hasErrorBoundary";sl(!u,'Route "'+l.id+'" has a static property "'+a+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+a+'" will be ignored.')),!u&&!Iv.has(a)&&(s[a]=r[a])}Object.assign(l,s),Object.assign(l,Pe({},t(l),{lazy:void 0}))}async function mg(e){let{matches:t}=e,n=t.filter(l=>l.shouldLoad);return(await Promise.all(n.map(l=>l.resolve()))).reduce((l,s,a)=>Object.assign(l,{[n[a].route.id]:s}),{})}async function hg(e,t,n,r,l,s,a,o,u,c){let m=s.map(x=>x.route.lazy?pg(x.route,u,o):void 0),f=s.map((x,j)=>{let k=m[j],P=l.some(d=>d.route.id===x.route.id);return Pe({},x,{shouldLoad:P,resolve:async d=>(d&&r.method==="GET"&&(x.route.lazy||x.route.loader)&&(P=!0),P?vg(t,r,x,k,d,c):Promise.resolve({type:xe.data,result:void 0}))})}),h=await e({matches:f,request:r,params:s[0].params,fetcherKey:a,context:c});try{await Promise.all(m)}catch{}return h}async function vg(e,t,n,r,l,s){let a,o,u=c=>{let m,f=new Promise((j,k)=>m=k);o=()=>m(),t.signal.addEventListener("abort",o);let h=j=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+e+'" [routeId: '+n.route.id+"]"))):c({request:t,params:n.params,context:s},...j!==void 0?[j]:[]),x=(async()=>{try{return{type:"data",result:await(l?l(k=>h(k)):h())}}catch(j){return{type:"error",result:j}}})();return Promise.race([x,f])};try{let c=n.route[e];if(r)if(c){let m,[f]=await Promise.all([u(c).catch(h=>{m=h}),r]);if(m!==void 0)throw m;a=f}else if(await r,c=n.route[e],c)a=await u(c);else if(e==="action"){let m=new URL(t.url),f=m.pathname+m.search;throw gt(405,{method:t.method,pathname:f,routeId:n.route.id})}else return{type:xe.data,result:void 0};else if(c)a=await u(c);else{let m=new URL(t.url),f=m.pathname+m.search;throw gt(404,{pathname:f})}ie(a.result!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:xe.error,result:c}}finally{o&&t.signal.removeEventListener("abort",o)}return a}async function gg(e){let{result:t,type:n}=e;if(Bp(t)){let f;try{let h=t.headers.get("Content-Type");h&&/\bapplication\/json\b/.test(h)?t.body==null?f=null:f=await t.json():f=await t.text()}catch(h){return{type:xe.error,error:h}}return n===xe.error?{type:xe.error,error:new Ni(t.status,t.statusText,f),statusCode:t.status,headers:t.headers}:{type:xe.data,data:f,statusCode:t.status,headers:t.headers}}if(n===xe.error){if(rd(t)){var r,l;if(t.data instanceof Error){var s,a;return{type:xe.error,error:t.data,statusCode:(s=t.init)==null?void 0:s.status,headers:(a=t.init)!=null&&a.headers?new Headers(t.init.headers):void 0}}return{type:xe.error,error:new Ni(((r=t.init)==null?void 0:r.status)||500,void 0,t.data),statusCode:ls(t)?t.status:void 0,headers:(l=t.init)!=null&&l.headers?new Headers(t.init.headers):void 0}}return{type:xe.error,error:t,statusCode:ls(t)?t.status:void 0}}if(Ng(t)){var o,u;return{type:xe.deferred,deferredData:t,statusCode:(o=t.init)==null?void 0:o.status,headers:((u=t.init)==null?void 0:u.headers)&&new Headers(t.init.headers)}}if(rd(t)){var c,m;return{type:xe.data,data:t.data,statusCode:(c=t.init)==null?void 0:c.status,headers:(m=t.init)!=null&&m.headers?new Headers(t.init.headers):void 0}}return{type:xe.data,data:t}}function yg(e,t,n,r,l,s){let a=e.headers.get("Location");if(ie(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!Su.test(a)){let o=r.slice(0,r.findIndex(u=>u.route.id===n)+1);a=ko(new URL(t.url),o,l,!0,a,s),e.headers.set("Location",a)}return e}function qc(e,t,n){if(Su.test(e)){let r=e,l=r.startsWith("//")?new URL(t.protocol+r):new URL(r),s=Tn(l.pathname,n)!=null;if(l.origin===t.origin&&s)return l.pathname+l.search+l.hash}return e}function Rr(e,t,n,r){let l=e.createURL($p(t)).toString(),s={signal:n};if(r&&Gt(r.formMethod)){let{formMethod:a,formEncType:o}=r;s.method=a.toUpperCase(),o==="application/json"?(s.headers=new Headers({"Content-Type":o}),s.body=JSON.stringify(r.json)):o==="text/plain"?s.body=r.text:o==="application/x-www-form-urlencoded"&&r.formData?s.body=Co(r.formData):s.body=r.formData}return new Request(l,s)}function Co(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function Jc(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function xg(e,t,n,r,l){let s={},a=null,o,u=!1,c={},m=n&&_t(n[1])?n[1].error:void 0;return e.forEach(f=>{if(!(f.route.id in t))return;let h=f.route.id,x=t[h];if(ie(!mr(x),"Cannot handle redirect results in processLoaderData"),_t(x)){let j=x.error;m!==void 0&&(j=m,m=void 0),a=a||{};{let k=cr(e,h);a[k.route.id]==null&&(a[k.route.id]=j)}s[h]=void 0,u||(u=!0,o=ls(x.error)?x.error.status:500),x.headers&&(c[h]=x.headers)}else Bn(x)?(r.set(h,x.deferredData),s[h]=x.deferredData.data,x.statusCode!=null&&x.statusCode!==200&&!u&&(o=x.statusCode),x.headers&&(c[h]=x.headers)):(s[h]=x.data,x.statusCode&&x.statusCode!==200&&!u&&(o=x.statusCode),x.headers&&(c[h]=x.headers))}),m!==void 0&&n&&(a={[n[0]]:m},s[n[0]]=void 0),{loaderData:s,errors:a,statusCode:o||200,loaderHeaders:c}}function Zc(e,t,n,r,l,s,a){let{loaderData:o,errors:u}=xg(t,n,r,a);return l.forEach(c=>{let{key:m,match:f,controller:h}=c,x=s[m];if(ie(x,"Did not find corresponding fetcher result"),!(h&&h.signal.aborted))if(_t(x)){let j=cr(e.matches,f==null?void 0:f.route.id);u&&u[j.route.id]||(u=Pe({},u,{[j.route.id]:x.error})),e.fetchers.delete(m)}else if(mr(x))ie(!1,"Unhandled fetcher revalidation redirect");else if(Bn(x))ie(!1,"Unhandled fetcher deferred data");else{let j=Fn(x.data);e.fetchers.set(m,j)}}),{loaderData:o,errors:u}}function ed(e,t,n,r){let l=Pe({},t);for(let s of n){let a=s.route.id;if(t.hasOwnProperty(a)?t[a]!==void 0&&(l[a]=t[a]):e[a]!==void 0&&s.route.loader&&(l[a]=e[a]),r&&r.hasOwnProperty(a))break}return l}function td(e){return e?_t(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function cr(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function nd(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function gt(e,t){let{pathname:n,routeId:r,method:l,type:s,message:a}=t===void 0?{}:t,o="Unknown Server Error",u="Unknown @remix-run/router error";return e===400?(o="Bad Request",l&&n&&r?u="You made a "+l+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?u="defer() is not supported in actions":s==="invalid-body"&&(u="Unable to encode submission body")):e===403?(o="Forbidden",u='Route "'+r+'" does not match URL "'+n+'"'):e===404?(o="Not Found",u='No route matches URL "'+n+'"'):e===405&&(o="Method Not Allowed",l&&n&&r?u="You made a "+l.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":l&&(u='Invalid request method "'+l.toUpperCase()+'"')),new Ni(e||500,o,new Error(u),!0)}function Rs(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[r,l]=t[n];if(mr(l))return{key:r,result:l}}}function $p(e){let t=typeof e=="string"?nr(e):e;return Nr(Pe({},t,{hash:""}))}function wg(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function jg(e){return Bp(e.result)&&ig.has(e.result.status)}function Bn(e){return e.type===xe.deferred}function _t(e){return e.type===xe.error}function mr(e){return(e&&e.type)===xe.redirect}function rd(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function Ng(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function Bp(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function Sg(e){return sg.has(e.toLowerCase())}function Gt(e){return rg.has(e.toLowerCase())}async function kg(e,t,n,r,l){let s=Object.entries(t);for(let a=0;a<s.length;a++){let[o,u]=s[a],c=e.find(h=>(h==null?void 0:h.route.id)===o);if(!c)continue;let m=r.find(h=>h.route.id===c.route.id),f=m!=null&&!Up(m,c)&&(l&&l[c.route.id])!==void 0;Bn(u)&&f&&await ku(u,n,!1).then(h=>{h&&(t[o]=h)})}}async function Eg(e,t,n){for(let r=0;r<n.length;r++){let{key:l,routeId:s,controller:a}=n[r],o=t[l];e.find(c=>(c==null?void 0:c.route.id)===s)&&Bn(o)&&(ie(a,"Expected an AbortController for revalidating fetcher deferred result"),await ku(o,a.signal,!0).then(c=>{c&&(t[l]=c)}))}}async function ku(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:xe.data,data:e.deferredData.unwrappedData}}catch(l){return{type:xe.error,error:l}}return{type:xe.data,data:e.deferredData.data}}}function Eu(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Ll(e,t){let n=typeof t=="string"?nr(t).search:t.search;if(e[e.length-1].route.index&&Eu(n||""))return e[e.length-1];let r=Op(e);return r[r.length-1]}function ld(e){let{formMethod:t,formAction:n,formEncType:r,text:l,formData:s,json:a}=e;if(!(!t||!n||!r)){if(l!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:l};if(s!=null)return{formMethod:t,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(a!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:a,text:void 0}}}function Sa(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Cg(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function jl(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function _g(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Fn(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Tg(e,t){try{let n=e.sessionStorage.getItem(zp);if(n){let r=JSON.parse(n);for(let[l,s]of Object.entries(r||{}))s&&Array.isArray(s)&&t.set(l,new Set(s||[]))}}catch{}}function Pg(e,t){if(t.size>0){let n={};for(let[r,l]of t)n[r]=[...l];try{e.sessionStorage.setItem(zp,JSON.stringify(n))}catch(r){sl(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Si(){return Si=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Si.apply(this,arguments)}const cs=p.createContext(null),Cu=p.createContext(null),Ln=p.createContext(null),_u=p.createContext(null),cn=p.createContext({outlet:null,matches:[],isDataRoute:!1}),Vp=p.createContext(null);function Lg(e,t){let{relative:n}=t===void 0?{}:t;cl()||ie(!1);let{basename:r,navigator:l}=p.useContext(Ln),{hash:s,pathname:a,search:o}=Bi(e,{relative:n}),u=a;return r!=="/"&&(u=a==="/"?r:Sn([r,a])),l.createHref({pathname:u,search:o,hash:s})}function cl(){return p.useContext(_u)!=null}function dn(){return cl()||ie(!1),p.useContext(_u).location}function Wp(e){p.useContext(Ln).static||p.useLayoutEffect(e)}function rr(){let{isDataRoute:e}=p.useContext(cn);return e?Qg():bg()}function bg(){cl()||ie(!1);let e=p.useContext(cs),{basename:t,future:n,navigator:r}=p.useContext(Ln),{matches:l}=p.useContext(cn),{pathname:s}=dn(),a=JSON.stringify(Ai(l,n.v7_relativeSplatPath)),o=p.useRef(!1);return Wp(()=>{o.current=!0}),p.useCallback(function(c,m){if(m===void 0&&(m={}),!o.current)return;if(typeof c=="number"){r.go(c);return}let f=$i(c,JSON.parse(a),s,m.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Sn([t,f.pathname])),(m.replace?r.replace:r.push)(f,m.state,m)},[t,r,a,s,e])}const Rg=p.createContext(null);function Mg(e){let t=p.useContext(cn).outlet;return t&&p.createElement(Rg.Provider,{value:e},t)}function Dg(){let{matches:e}=p.useContext(cn),t=e[e.length-1];return t?t.params:{}}function Bi(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=p.useContext(Ln),{matches:l}=p.useContext(cn),{pathname:s}=dn(),a=JSON.stringify(Ai(l,r.v7_relativeSplatPath));return p.useMemo(()=>$i(e,JSON.parse(a),s,n==="path"),[e,a,s,n])}function Fg(e,t,n,r){cl()||ie(!1);let{navigator:l}=p.useContext(Ln),{matches:s}=p.useContext(cn),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let c=dn(),m;m=c;let f=m.pathname||"/",h=f;if(u!=="/"){let k=u.replace(/^\//,"").split("/");h="/"+f.replace(/^\//,"").split("/").slice(k.length).join("/")}let x=ur(e,{pathname:h});return Ag(x&&x.map(k=>Object.assign({},k,{params:Object.assign({},o,k.params),pathname:Sn([u,l.encodeLocation?l.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?u:Sn([u,l.encodeLocation?l.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),s,n,r)}function Og(){let e=Wg(),t=ls(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),n?p.createElement("pre",{style:l},n):null,null)}const Ig=p.createElement(Og,null);class zg extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?p.createElement(cn.Provider,{value:this.props.routeContext},p.createElement(Vp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ug(e){let{routeContext:t,match:n,children:r}=e,l=p.useContext(cs);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(cn.Provider,{value:t},r)}function Ag(e,t,n,r){var l;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=(l=n)==null?void 0:l.errors;if(o!=null){let m=a.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);m>=0||ie(!1),a=a.slice(0,Math.min(a.length,m+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let m=0;m<a.length;m++){let f=a[m];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=m),f.route.id){let{loaderData:h,errors:x}=n,j=f.route.loader&&h[f.route.id]===void 0&&(!x||x[f.route.id]===void 0);if(f.route.lazy||j){u=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((m,f,h)=>{let x,j=!1,k=null,P=null;n&&(x=o&&f.route.id?o[f.route.id]:void 0,k=f.route.errorElement||Ig,u&&(c<0&&h===0?(Hg("route-fallback"),j=!0,P=null):c===h&&(j=!0,P=f.route.hydrateFallbackElement||null)));let g=t.concat(a.slice(0,h+1)),d=()=>{let v;return x?v=k:j?v=P:f.route.Component?v=p.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=m,p.createElement(Ug,{match:f,routeContext:{outlet:m,matches:g,isDataRoute:n!=null},children:v})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?p.createElement(zg,{location:n.location,revalidation:n.revalidation,component:k,error:x,children:d(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):d()},null)}var Qp=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Qp||{}),Hp=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Hp||{});function $g(e){let t=p.useContext(cs);return t||ie(!1),t}function Bg(e){let t=p.useContext(Cu);return t||ie(!1),t}function Vg(e){let t=p.useContext(cn);return t||ie(!1),t}function Kp(e){let t=Vg(),n=t.matches[t.matches.length-1];return n.route.id||ie(!1),n.route.id}function Wg(){var e;let t=p.useContext(Vp),n=Bg(Hp.UseRouteError),r=Kp();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Qg(){let{router:e}=$g(Qp.UseNavigateStable),t=Kp(),n=p.useRef(!1);return Wp(()=>{n.current=!0}),p.useCallback(function(l,s){s===void 0&&(s={}),n.current&&(typeof l=="number"?e.navigate(l):e.navigate(l,Si({fromRouteId:t},s)))},[e,t])}const sd={};function Hg(e,t,n){sd[e]||(sd[e]=!0)}function Kg(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function Tu(e){let{to:t,replace:n,state:r,relative:l}=e;cl()||ie(!1);let{future:s,static:a}=p.useContext(Ln),{matches:o}=p.useContext(cn),{pathname:u}=dn(),c=rr(),m=$i(t,Ai(o,s.v7_relativeSplatPath),u,l==="path"),f=JSON.stringify(m);return p.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:l}),[c,f,l,n,r]),null}function Gp(e){return Mg(e.context)}function Gg(e){let{basename:t="/",children:n=null,location:r,navigationType:l=Ae.Pop,navigator:s,static:a=!1,future:o}=e;cl()&&ie(!1);let u=t.replace(/^\/*/,"/"),c=p.useMemo(()=>({basename:u,navigator:s,static:a,future:Si({v7_relativeSplatPath:!1},o)}),[u,o,s,a]);typeof r=="string"&&(r=nr(r));let{pathname:m="/",search:f="",hash:h="",state:x=null,key:j="default"}=r,k=p.useMemo(()=>{let P=Tn(m,u);return P==null?null:{location:{pathname:P,search:f,hash:h,state:x,key:j},navigationType:l}},[u,m,f,h,x,j,l]);return k==null?null:p.createElement(Ln.Provider,{value:c},p.createElement(_u.Provider,{children:n,value:k}))}new Promise(()=>{});function Yg(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:p.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:p.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:p.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function il(){return il=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},il.apply(this,arguments)}function Yp(e,t){if(e==null)return{};var n={},r=Object.keys(e),l,s;for(s=0;s<r.length;s++)l=r[s],!(t.indexOf(l)>=0)&&(n[l]=e[l]);return n}function Xg(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function qg(e,t){return e.button===0&&(!t||t==="_self")&&!Xg(e)}const Jg=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Zg=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],ey="6";try{window.__reactRouterVersion=ey}catch{}function ty(e,t){return cg({basename:void 0,future:il({},void 0,{v7_prependBasename:!0}),history:Dv({window:void 0}),hydrationData:ny(),routes:e,mapRouteProperties:Yg,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function ny(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=il({},t,{errors:ry(t.errors)})),t}function ry(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,l]of t)if(l&&l.__type==="RouteErrorResponse")n[r]=new Ni(l.status,l.statusText,l.data,l.internal===!0);else if(l&&l.__type==="Error"){if(l.__subType){let s=window[l.__subType];if(typeof s=="function")try{let a=new s(l.message);a.stack="",n[r]=a}catch{}}if(n[r]==null){let s=new Error(l.message);s.stack="",n[r]=s}}else n[r]=l;return n}const Xp=p.createContext({isTransitioning:!1}),ly=p.createContext(new Map),sy="startTransition",id=jm[sy],iy="flushSync",ad=Mv[iy];function ay(e){id?id(e):e()}function Nl(e){ad?ad(e):e()}class oy{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function uy(e){let{fallbackElement:t,router:n,future:r}=e,[l,s]=p.useState(n.state),[a,o]=p.useState(),[u,c]=p.useState({isTransitioning:!1}),[m,f]=p.useState(),[h,x]=p.useState(),[j,k]=p.useState(),P=p.useRef(new Map),{v7_startTransition:g}=r||{},d=p.useCallback(_=>{g?ay(_):_()},[g]),v=p.useCallback((_,$)=>{let{deletedFetchers:F,flushSync:J,viewTransitionOpts:oe}=$;_.fetchers.forEach((Y,ae)=>{Y.data!==void 0&&P.current.set(ae,Y.data)}),F.forEach(Y=>P.current.delete(Y));let G=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!oe||G){J?Nl(()=>s(_)):d(()=>s(_));return}if(J){Nl(()=>{h&&(m&&m.resolve(),h.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:oe.currentLocation,nextLocation:oe.nextLocation})});let Y=n.window.document.startViewTransition(()=>{Nl(()=>s(_))});Y.finished.finally(()=>{Nl(()=>{f(void 0),x(void 0),o(void 0),c({isTransitioning:!1})})}),Nl(()=>x(Y));return}h?(m&&m.resolve(),h.skipTransition(),k({state:_,currentLocation:oe.currentLocation,nextLocation:oe.nextLocation})):(o(_),c({isTransitioning:!0,flushSync:!1,currentLocation:oe.currentLocation,nextLocation:oe.nextLocation}))},[n.window,h,m,P,d]);p.useLayoutEffect(()=>n.subscribe(v),[n,v]),p.useEffect(()=>{u.isTransitioning&&!u.flushSync&&f(new oy)},[u]),p.useEffect(()=>{if(m&&a&&n.window){let _=a,$=m.promise,F=n.window.document.startViewTransition(async()=>{d(()=>s(_)),await $});F.finished.finally(()=>{f(void 0),x(void 0),o(void 0),c({isTransitioning:!1})}),x(F)}},[d,a,m,n.window]),p.useEffect(()=>{m&&a&&l.location.key===a.location.key&&m.resolve()},[m,h,l.location,a]),p.useEffect(()=>{!u.isTransitioning&&j&&(o(j.state),c({isTransitioning:!0,flushSync:!1,currentLocation:j.currentLocation,nextLocation:j.nextLocation}),k(void 0))},[u.isTransitioning,j]),p.useEffect(()=>{},[]);let E=p.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:_=>n.navigate(_),push:(_,$,F)=>n.navigate(_,{state:$,preventScrollReset:F==null?void 0:F.preventScrollReset}),replace:(_,$,F)=>n.navigate(_,{replace:!0,state:$,preventScrollReset:F==null?void 0:F.preventScrollReset})}),[n]),T=n.basename||"/",D=p.useMemo(()=>({router:n,navigator:E,static:!1,basename:T}),[n,E,T]),w=p.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return p.useEffect(()=>Kg(r,n.future),[r,n.future]),p.createElement(p.Fragment,null,p.createElement(cs.Provider,{value:D},p.createElement(Cu.Provider,{value:l},p.createElement(ly.Provider,{value:P.current},p.createElement(Xp.Provider,{value:u},p.createElement(Gg,{basename:T,location:l.location,navigationType:l.historyAction,navigator:E,future:w},l.initialized||n.future.v7_partialHydration?p.createElement(cy,{routes:n.routes,future:n.future,state:l}):t))))),null)}const cy=p.memo(dy);function dy(e){let{routes:t,future:n,state:r}=e;return Fg(t,void 0,r,n)}const fy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",py=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pt=p.forwardRef(function(t,n){let{onClick:r,relative:l,reloadDocument:s,replace:a,state:o,target:u,to:c,preventScrollReset:m,viewTransition:f}=t,h=Yp(t,Jg),{basename:x}=p.useContext(Ln),j,k=!1;if(typeof c=="string"&&py.test(c)&&(j=c,fy))try{let v=new URL(window.location.href),E=c.startsWith("//")?new URL(v.protocol+c):new URL(c),T=Tn(E.pathname,x);E.origin===v.origin&&T!=null?c=T+E.search+E.hash:k=!0}catch{}let P=Lg(c,{relative:l}),g=vy(c,{replace:a,state:o,target:u,preventScrollReset:m,relative:l,viewTransition:f});function d(v){r&&r(v),v.defaultPrevented||g(v)}return p.createElement("a",il({},h,{href:j||P,onClick:k||s?r:d,ref:n,target:u}))}),my=p.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:l=!1,className:s="",end:a=!1,style:o,to:u,viewTransition:c,children:m}=t,f=Yp(t,Zg),h=Bi(u,{relative:f.relative}),x=dn(),j=p.useContext(Cu),{navigator:k,basename:P}=p.useContext(Ln),g=j!=null&&gy(h)&&c===!0,d=k.encodeLocation?k.encodeLocation(h).pathname:h.pathname,v=x.pathname,E=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;l||(v=v.toLowerCase(),E=E?E.toLowerCase():null,d=d.toLowerCase()),E&&P&&(E=Tn(E,P)||E);const T=d!=="/"&&d.endsWith("/")?d.length-1:d.length;let D=v===d||!a&&v.startsWith(d)&&v.charAt(T)==="/",w=E!=null&&(E===d||!a&&E.startsWith(d)&&E.charAt(d.length)==="/"),_={isActive:D,isPending:w,isTransitioning:g},$=D?r:void 0,F;typeof s=="function"?F=s(_):F=[s,D?"active":null,w?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let J=typeof o=="function"?o(_):o;return p.createElement(Pt,il({},f,{"aria-current":$,className:F,ref:n,style:J,to:u,viewTransition:c}),typeof m=="function"?m(_):m)});var _o;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(_o||(_o={}));var od;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(od||(od={}));function hy(e){let t=p.useContext(cs);return t||ie(!1),t}function vy(e,t){let{target:n,replace:r,state:l,preventScrollReset:s,relative:a,viewTransition:o}=t===void 0?{}:t,u=rr(),c=dn(),m=Bi(e,{relative:a});return p.useCallback(f=>{if(qg(f,n)){f.preventDefault();let h=r!==void 0?r:Nr(c)===Nr(m);u(e,{replace:h,state:l,preventScrollReset:s,relative:a,viewTransition:o})}},[c,u,m,r,l,n,e,s,a,o])}function gy(e,t){t===void 0&&(t={});let n=p.useContext(Xp);n==null&&ie(!1);let{basename:r}=hy(_o.useViewTransitionState),l=Bi(e,{relative:t.relative});if(!n.isTransitioning)return!1;let s=Tn(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Tn(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ji(l.pathname,a)!=null||ji(l.pathname,s)!=null}const qp=p.createContext(null);function yy({children:e}){const[t,n]=p.useState(null),[r,l]=p.useState(!1),s=p.useCallback(async()=>{try{const m=await fetch("/api/me",{credentials:"include"});if(!m.ok)return m.status===401&&n(null),null;const f=await m.json();return n(f),f}catch(m){return console.error("Не удалось обновить данные пользователя",m),null}},[]);p.useEffect(()=>{s().finally(()=>l(!0))},[s]);const a=async(m,f)=>{const h=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:m,password:f})});if(!h.ok)throw new Error("Не удалось войти. Проверьте данные и попробуйте снова.");const x=await h.json();return n(x),await s(),x},o=async(m,f,h)=>{const x=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:m,email:f,password:h})});if(!x.ok)throw new Error("Не удалось создать аккаунт. Попробуйте ещё раз.");const j=await x.json();return n(j),await s(),j},u=async()=>{await fetch("/api/auth/logout",{method:"POST",credentials:"include"}),n(null)},c=async(m,f,h)=>{const x=await fetch("/api/admin/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:m,password:f,secretKey:h})});if(!x.ok)throw new Error("Не удалось войти в админ-панель.");const j=await x.json();return n(j),await s(),j};return i.jsx(qp.Provider,{value:{user:t,setUser:n,loaded:r,login:a,register:o,logout:u,adminLogin:c,refreshUser:s},children:e})}function St(){return p.useContext(qp)}let Sl=0,ka=null;function Jp(e){p.useEffect(()=>{if(!(!e||typeof document>"u"))return Sl+=1,Sl===1&&(ka=document.body.style.overflow||"",document.body.style.overflow="hidden"),()=>{Sl=Math.max(0,Sl-1),Sl===0&&typeof document<"u"&&(document.body.style.overflow=ka||"",ka=null)}},[e])}function ds({open:e,title:t,message:n,confirmLabel:r="Подтвердить",cancelLabel:l="Отмена",confirmTone:s="primary",busy:a=!1,onConfirm:o,onCancel:u}){if(Jp(e),!e)return null;const c=["btn"];s==="primary"?c.push("primary"):s==="danger"&&c.push("danger");const m=l!==null&&l!==!1,f=()=>n?typeof n=="string"?i.jsx("p",{className:"text-muted mt-2 whitespace-pre-line leading-relaxed",children:n}):i.jsx("div",{className:"mt-2",children:n}):null;return i.jsx("div",{className:"modal-backdrop",children:i.jsxs("div",{className:"modal-card",children:[t&&i.jsx("h3",{className:"font-serif text-[1.4rem]",children:t}),f(),i.jsxs("div",{className:"flex justify-end gap-2 mt-4 modal-actions",children:[m&&i.jsx("button",{type:"button",className:"btn",onClick:u,disabled:a,children:l}),i.jsx("button",{type:"button",className:c.join(" "),onClick:o,disabled:a,children:r})]})]})})}const xy="/assets/logo-CXbNjLo8.png";function Vi({className:e="",alt:t="Fate",loading:n="lazy"}){return i.jsx("img",{src:xy,alt:t,loading:n,className:`block h-auto w-auto ${e}`.trim()})}function Er(){const{user:e,logout:t}=St(),[n,r]=p.useState(!1),l=rr(),s=e?"/dashboard":"/",a=async()=>{await t(),r(!1),l("/")};return i.jsxs("header",{className:"sticky top-0 z-40 backdrop-blur-md bg-[rgba(250,247,242,.75)] border-b border-line",children:[i.jsx("div",{className:"container mx-auto px-4",children:i.jsxs("div",{className:"flex items-center justify-between py-3",children:[i.jsx(Pt,{to:s,className:"inline-flex items-center",children:i.jsx(Vi,{className:"h-10 max-w-[50px]",loading:"eager"})}),i.jsx("nav",{className:"flex items-center gap-2",children:e?i.jsxs(i.Fragment,{children:[i.jsx(Pt,{className:"btn",to:"/dashboard",children:"Личный кабинет"}),i.jsx("button",{className:"btn",onClick:()=>r(!0),children:"Выйти"})]}):i.jsxs(i.Fragment,{children:[i.jsx(Pt,{className:"btn",to:"/login",children:"Войти"}),i.jsx(Pt,{className:"btn primary",to:"/register",children:"Зарегистрироваться"})]})})]})}),i.jsx(ds,{open:n,title:"Выйти из аккаунта?",message:"После выхода нужно будет снова войти, чтобы продолжить работу.",confirmLabel:"Выйти",cancelLabel:"Отмена",onConfirm:a,onCancel:()=>r(!1)})]})}function Cr(){return i.jsx("footer",{className:"border-t border-line py-8 text-muted bg-gradient-to-t from-white/60 to-transparent",children:i.jsxs("div",{className:"container mx-auto px-4 flex items-center justify-between gap-4 flex-wrap",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-serif text-[1.1rem]",children:i.jsx(Vi,{className:"h-12 max-w-[50px]"})}),i.jsx("div",{className:"mt-1",children:"© 2025 Fate. Все права защищены."})]}),i.jsxs("div",{children:[i.jsxs("div",{children:["Напишите нам:"," ",i.jsx("a",{className:"underline",href:"mailto:hello@fate.books",children:"hello@my-fate.ru"})]}),i.jsx("div",{className:"mt-1",children:"Москва · Санкт-Петербург"})]})]})})}const Zp="/assets/main_temp-Cl738mSK.png",wy=[{title:"Заполните анкету",description:"Ответьте на вопросы и поделитесь историями — это поможет нам собрать основу для будущей книги."},{title:"Интервью с редактором",description:"Мы уточним детали, поможем выделить ключевые моменты и соберём дополнительные материалы."},{title:"Дизайн и печать",description:"Команда оформит книгу, подготовит макет и организует печать тиража для вашей семьи."}];function jy(){return i.jsxs("div",{children:[i.jsx(Er,{}),i.jsx("section",{className:"py-16",children:i.jsxs("div",{className:"container mx-auto px-4 grid gap-8 items-center md:grid-cols-[1.1fr_.9fr]",children:[i.jsxs("div",{children:[i.jsx("div",{className:"uppercase tracking-[.18em] text-sm text-muted",children:"Книга о вашей жизни"}),i.jsx("h1",{className:"font-serif font-semibold text-[clamp(2.1rem,4.4vw,3.4rem)] leading-tight mt-2",children:"Собирайте воспоминания и превращайте их в книгу."}),i.jsx("p",{className:"text-muted max-w-[55ch] mt-4",children:"Fate помогает собирать сообщения, фотографии и моменты от близких и бережно превращает их в красивую книгу архивного качества — интимный подарок на всю жизнь."}),i.jsxs("div",{className:"mt-6 flex gap-3 flex-wrap",children:[i.jsx(Pt,{className:"btn primary",to:"/register",children:"Зарегистрироваться"}),i.jsx("a",{className:"btn",href:"#how",children:"Как это работает"})]})]}),i.jsx("div",{className:"grid place-items-center",children:i.jsx("div",{className:"relative w-[min(88vw,340px)] h-[min(120vw,460px)] rounded-[18px] overflow-hidden shadow-[0_30px_60px_rgba(80,60,40,.18),0_10px_20px_rgba(80,60,40,.12)]",children:i.jsx("img",{src:Zp,alt:"Пример печатной обложки Fate",className:"absolute inset-0 h-full w-full object-cover",loading:"eager"})})})]})}),i.jsx("section",{id:"how",className:"py-12",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsx("h2",{className:"font-serif font-semibold text-[clamp(1.6rem,3vw,2.1rem)] mb-2",children:"Как работает Fate"}),i.jsx("p",{className:"text-muted max-w-[60ch]",children:"Мы бережно работаем с личными историями и оформляем их в авторские книги. Редакторы и дизайнеры помогают собирать материалы, обрабатывать тексты и готовить печатный тираж."}),i.jsx("div",{className:"grid gap-4 md:grid-cols-3 mt-5",children:wy.map((e,t)=>i.jsxs("article",{className:"paper p-4 grid grid-cols-[56px_1fr] gap-4 items-center",children:[i.jsx("div",{className:"w-14 h-14 grid place-items-center rounded-[14px] bg-gradient-to-b from-gold to-blush shadow-tiny",children:i.jsx("span",{className:"text-[#5b5246]",children:t+1})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold",children:e.title}),i.jsx("p",{className:"text-muted mt-1",children:e.description})]})]},e.title))})]})}),i.jsx(Cr,{})]})}function em(){const e="Fate_supportbot",{setUser:t,refreshUser:n}=St(),[r,l]=p.useState(!1),[s,a]=p.useState(""),[o,u]=p.useState(""),c=p.useRef(null),m=p.useRef(null),f=p.useRef(!1);p.useEffect(()=>()=>{c.current&&clearInterval(c.current)},[]);const h=p.useCallback(()=>{c.current&&(clearInterval(c.current),c.current=null),m.current=null},[]),x=p.useCallback(async P=>{t(P),await n(),window.location.href="/dashboard"},[n,t]),j=p.useCallback(P=>{c.current=window.setInterval(async()=>{try{const g=await fetch(`/api/auth/tg_poll?nonce=${P}`,{credentials:"include"});if(!g.ok){if(g.status===404)throw new Error("NONCE_NOT_FOUND");return}const d=await g.json();if(d&&d.ready===!1)return;d&&d.id&&(h(),x(d))}catch(g){console.error("Telegram poll error",g),h(),a(""),u("Связь с Telegram потеряна. Попробуйте ещё раз."),l(!1)}},2500)},[x,h]),k=p.useCallback(async()=>{if(f.current)return;f.current=!0,h(),u(""),a("Ждём подтверждения в Telegram…"),l(!0);let P;try{if(P=window.open("","_blank"),P)try{P.opener=null}catch{}const g=await fetch("/api/auth/tg_init",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({})});if(!g.ok)throw new Error(`INIT_${g.status}`);const d=await g.json();if(!(d!=null&&d.nonce))throw new Error("MISSING_NONCE");m.current=d.nonce;const v=d.tme||`https://t.me/${e}?start=${d.nonce}`;if(P){P.location.replace(v);try{P.focus()}catch{}}else window.location.href=v;j(d.nonce)}catch(g){console.error("Telegram init error",g),P&&!P.closed&&P.close(),u("Не удалось открыть Telegram. Попробуйте ещё раз."),a(""),l(!1),h()}finally{f.current=!1}},[e,j,h]);return p.useMemo(()=>{const g="my-fate.ru,www.my-fate.ru".split(",").map(v=>v.trim().toLowerCase()).filter(Boolean);if(!g.length||typeof window>"u")return!1;const d=window.location.hostname.toLowerCase();return g.includes(d)},[e]),i.jsxs("div",{className:"space-y-3",children:[i.jsx("button",{type:"button",className:"btn w-full justify-center",onClick:k,disabled:r,children:r?"Ждём подтверждения...":"Открыть бота для входа"}),s&&i.jsx("div",{className:"text-sm text-muted text-center",children:s}),o&&i.jsx("div",{className:"text-sm text-red-600 text-center",children:o})]})}function Pu({className:e="",revealLabel:t="Показать пароль",hideLabel:n="Скрыть пароль",...r}){const[l,s]=p.useState(!1),a=()=>{s(m=>!m)},o=["input pr-12",e].filter(Boolean).join(" "),u=l,c=u?n:t;return i.jsxs("div",{className:"password-field",children:[i.jsx("input",{...r,type:u?"text":"password",className:o}),i.jsx("button",{type:"button",className:"password-toggle",onClick:a,"aria-label":c,title:c,children:u?i.jsx(Sy,{}):i.jsx(Ny,{})})]})}function Ny(){return i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round",className:"password-toggle__icon",children:[i.jsx("path",{d:"M1.5 12s3.5-6.5 10.5-6.5 10.5 6.5 10.5 6.5-3.5 6.5-10.5 6.5S1.5 12 1.5 12Z"}),i.jsx("circle",{cx:"12",cy:"12",r:"3.2"})]})}function Sy(){return i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round",className:"password-toggle__icon",children:[i.jsx("path",{d:"m3 3 18 18"}),i.jsx("path",{d:"M10.58 10.58A2 2 0 0 0 11 14a2 2 0 0 0 2.83 0"}),i.jsx("path",{d:"M9.88 4.27A10.42 10.42 0 0 1 12 4c7 0 10.5 8 10.5 8a17.9 17.9 0 0 1-3.24 4.78"}),i.jsx("path",{d:"M6.18 6.18C3.51 8.2 1.5 12 1.5 12a17.91 17.91 0 0 0 5.07 5.23"})]})}function ky(){const{register:e}=St(),t=rr(),[n,r]=p.useState(""),[l,s]=p.useState(""),[a,o]=p.useState(""),[u,c]=p.useState(""),m=async f=>{f.preventDefault();try{await e(n.trim(),l.trim(),a),t("/dashboard")}catch{c("Не удалось создать аккаунт. Попробуйте ещё раз.")}};return i.jsxs("div",{children:[i.jsx(Er,{}),i.jsx("section",{className:"min-h-[100dvh] grid place-items-center py-12 px-4",children:i.jsxs("div",{className:"card-glass w-[min(480px,92vw)] p-8 space-y-6",children:[i.jsx("div",{className:"grid place-items-center",children:i.jsx("div",{className:"font-serif text-[1.6rem]",children:i.jsx(Vi,{className:"h-16 max-w-[240px]"})})}),i.jsx("h1",{className:"font-serif text-[clamp(1.6rem,3vw,2.2rem)]",children:"Создайте профиль Fate"}),i.jsx("p",{className:"text-muted",children:"Заполните форму, чтобы начать работу над семейной историей. Вы сможете изменить данные позднее в личном кабинете."}),i.jsxs("form",{onSubmit:m,className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block mb-1",htmlFor:"register-name",children:"ФИО"}),i.jsx("input",{id:"register-name",className:"input",value:n,onChange:f=>r(f.target.value),placeholder:"Иван Иванов",autoComplete:"name"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block mb-1",htmlFor:"register-email",children:"Электронная почта"}),i.jsx("input",{id:"register-email",className:"input",type:"email",value:l,onChange:f=>s(f.target.value),placeholder:"ivan@example.com",autoComplete:"email"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block mb-1",htmlFor:"register-password",children:"Пароль"}),i.jsx(Pu,{id:"register-password",value:a,onChange:f=>o(f.target.value),placeholder:"Придумайте надёжный пароль",autoComplete:"new-password"})]}),u&&i.jsx("div",{className:"text-red-600",children:u}),i.jsx("div",{className:"pt-1",children:i.jsx("button",{className:"btn primary w-full justify-center",type:"submit",children:"Создать аккаунт"})})]}),i.jsx("div",{className:"border-t border-white/40 pt-4",children:i.jsx(em,{})})]})}),i.jsx(Cr,{})]})}function Ey(){const{login:e}=St(),t=rr(),n=dn(),[r,l]=p.useState(""),[s,a]=p.useState(""),[o,u]=p.useState(""),c=async m=>{var f,h;m.preventDefault();try{await e(r.trim(),s),t(((h=(f=n.state)==null?void 0:f.from)==null?void 0:h.pathname)||"/dashboard",{replace:!0})}catch{u("Неверный email или пароль.")}};return i.jsxs("div",{children:[i.jsx(Er,{}),i.jsx("section",{className:"min-h-[60dvh] grid place-items-center py-12 px-4",children:i.jsxs("div",{className:"paper w-[min(420px,92vw)] p-6 space-y-6",children:[i.jsx("h1",{className:"font-serif text-2xl",children:"Вход"}),i.jsxs("form",{onSubmit:c,className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block mb-1",htmlFor:"login-email",children:"Электронная почта"}),i.jsx("input",{id:"login-email",className:"input",type:"email",value:r,onChange:m=>l(m.target.value),placeholder:"ivan@example.com",autoComplete:"email"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block mb-1",htmlFor:"login-password",children:"Пароль"}),i.jsx(Pu,{id:"login-password",value:s,onChange:m=>a(m.target.value),autoComplete:"current-password"})]}),o&&i.jsx("div",{className:"text-red-600",children:o}),i.jsxs("div",{className:"flex flex-col gap-2 pt-1",children:[i.jsx("button",{className:"btn primary w-full justify-center",type:"submit",children:"Войти"}),i.jsx(Pt,{to:"/register",className:"btn w-full justify-center text-center",children:"Создать аккаунт"})]})]}),i.jsx("div",{className:"border-t border-line pt-4",children:i.jsx(em,{})})]})}),i.jsx(Cr,{})]})}let Ea=null;async function Lu(){return Ea||(Ea=fetch("/api/csrf",{credentials:"include"}).then(e=>e.json()).then(e=>e.token)),Ea}async function xn(e,t){const n=await Lu(),r=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json","x-csrf-token":n},credentials:"include",body:JSON.stringify(t||{})});if(!r.ok){let l=null;try{l=await r.json()}catch{}const s=typeof(l==null?void 0:l.message)=="string"&&l.message.length?l.message:"Запрос не выполнен.",a=new Error(s);throw a.status=r.status,a.details=l,l&&typeof l.error=="string"&&(a.code=l.error),a}return r.json()}async function Cy(e,t){const n=await Lu(),r=await fetch(e,{method:"PUT",headers:{"Content-Type":"application/json","x-csrf-token":n},credentials:"include",body:JSON.stringify(t||{})});if(!r.ok){let l=null;try{l=await r.json()}catch{}const s=typeof(l==null?void 0:l.message)=="string"&&l.message.length?l.message:"�-�����?�?�? �?�� �?�<���?�>�?��?.",a=new Error(s);throw a.status=r.status,a.details=l,l&&typeof l.error=="string"&&(a.code=l.error),a}return r.status===204?null:r.json()}async function bu(e){const t=await Lu(),n=await fetch(e,{method:"DELETE",headers:{"x-csrf-token":t},credentials:"include"});if(!n.ok){let r=null;try{r=await n.json()}catch{}const l=typeof(r==null?void 0:r.message)=="string"&&r.message.length?r.message:"Запрос не выполнен.",s=new Error(l);throw s.status=n.status,s.details=r,r&&typeof r.error=="string"&&(s.code=r.error),s}return n.status===204?null:n.json()}const tm=p.createContext(null);function _y({children:e}){const{user:t}=St(),n=!!(t!=null&&t.status),r=p.useRef({}),[l,s]=p.useState([]),[a,o]=p.useState([]),[u,c]=p.useState({}),[m,f]=p.useState(0),[h,x]=p.useState(!1),[j,k]=p.useState(!1),[P,g]=p.useState(null),[d,v]=p.useState(null),E=p.useCallback(()=>{s([]),o([]),r.current={},c({}),f(G=>G+1),x(!1),k(!0),g(null),v(null)},[]),T=p.useCallback(async()=>{if(!t||n){E();return}x(!0),k(!1);let G=!0;try{const[Y,ae]=await Promise.all([fetch("/api/questions",{credentials:"include"}),fetch("/api/answers",{credentials:"include"})]);if(!G)return;const se=Y.ok?await Y.json():[],fe=ae.ok?await ae.json():[],L={};fe.forEach(X=>{X&&Number.isFinite(Number(X.questionIndex))&&(L[Number(X.questionIndex)]=String(X.text??""))});let U=[],A=[];Array.isArray(se)?U=se:se&&typeof se=="object"&&(U=(Array.isArray(se.questions)?se.questions:[]).map(ue=>typeof ue=="string"?ue:ue&&typeof ue.text=="string"?ue.text:""),A=Array.isArray(se.chapters)?se.chapters.map(ue=>({id:ue.id??null,title:ue.title??"",position:Number(ue.position??0),questionCount:Number(ue.questionCount??0),startIndex:Number(ue.startIndex??0)})):[]),A.length||(A=[{id:null,title:"",position:0,questionCount:U.length,startIndex:0}]),r.current=L,o(A);const re={};Object.keys(L).forEach(X=>{const ue=Number(X);if(!Number.isFinite(ue))return;const Ne=L[ue];typeof Ne=="string"&&Ne.trim()&&(re[ue]=!0)}),s(U),c(re),f(X=>X+1),g(null)}catch(Y){if(console.error("Failed to load questions:",Y),!G)return;s([]),o([]),c({}),r.current={},f(ae=>ae+1),v(null)}finally{if(!G)return;x(!1),k(!0)}return()=>{G=!1}},[t,n,E]);p.useEffect(()=>{let G;return T().then(Y=>{G=Y}),()=>{typeof G=="function"&&G()}},[T]);const D=p.useCallback((G,Y)=>{const ae=Number(G);if(!Number.isFinite(ae))return;const se=typeof Y=="string"?Y:"",fe=r.current||{};(fe[ae]??"")!==se&&(fe[ae]=se,r.current=fe,c(U=>{const A=se.trim().length>0,re=U[ae]??!1;if(A===re)return U;const X={...U};return A?X[ae]=!0:delete X[ae],X}),f(U=>U+1))},[]),w=p.useMemo(()=>l.length?l.reduce((G,Y,ae)=>u[ae]?G+1:G,0):0,[u,l]),_=p.useMemo(()=>l.length,[l]),$=p.useMemo(()=>_?Math.round(w/_*100):0,[w,_]),F=p.useCallback(async()=>{if(n)throw new Error("Анкета уже отправлена и недоступна для редактирования.");const G=new Set;l.forEach((se,fe)=>G.add(fe));const Y=r.current||{};Object.keys(Y).forEach(se=>{const fe=Number(se);Number.isFinite(fe)&&G.add(fe)});const ae=Array.from(G).sort((se,fe)=>se-fe).map(se=>({questionIndex:se,text:Y[se]??""}));await xn("/api/answers",{entries:ae}),g(new Date().toISOString())},[l,n,r]),J=p.useCallback(G=>{const Y=Number(G);return Number.isFinite(Y)?(r.current||{})[Y]??"":""},[]),oe=p.useMemo(()=>({questions:l,getAnswer:J,updateAnswer:D,answeredCount:w,totalCount:_,progress:$,saveAnswers:F,loading:h,loaded:j,lastSaved:P,interviewLocked:n,reload:T,answersVersion:m,chapters:a,resumeIndex:d}),[l,J,D,w,_,$,F,h,j,P,n,T,m,a,d]);return p.useEffect(()=>{if(!l.length){v(null);return}let G=null;for(let Y=0;Y<l.length;Y+=1)if(!u[Y]){G=Y;break}G===null&&(G=l.length-1),v(G)},[l,u]),i.jsx(tm.Provider,{value:oe,children:e})}function nm(){const e=p.useContext(tm);if(!e)throw new Error("useQuestions must be used within QuestionsProvider");return e}const Ty="/assets/temp_1-BuUGwm9V.png",qr=[{slug:"custom",title:"Индивидуальный дизайн",subtitle:"Создадим обложку специально под вашу историю",description:"✨ Индивидуальный дизайн активирован. Это дополнительная услуга — мы свяжемся, чтобы уточнить детали и стоимость.",isCustom:!0,gradient:"from-lav to-sky",aliases:["Индивидуальный дизайн — Создадим обложку специально под вашу историю"]},{slug:"temp-1",title:"Нежный архив",subtitle:"Тёплые оттенки и мягкая фактура для семейных историй",image:Ty,aliases:["Нежный архив — Тёплые оттенки и мягкая фактура для семейных историй"]},{slug:"temp-2",title:"Современная геометрия",subtitle:"Выразительная композиция и лаконичные линии",image:Zp,aliases:["Современная геометрия — Выразительная композиция и лаконичные линии","main_temp"]}];function Py(e){return e?qr.find(t=>t.slug===e)??null:null}function Ly(e){if(!e)return null;const t=e.trim().toLowerCase();if(!t)return null;const n=qr.find(l=>{const s=l.title.trim().toLowerCase();return t===s});if(n)return n;const r=qr.find(l=>{const s=l.title.trim().toLowerCase();return t.startsWith(s)});return r||qr.find(l=>Array.isArray(l.aliases)?l.aliases.some(s=>typeof s=="string"&&t===s.trim().toLowerCase()):!1)}function by(e){if(!e)return null;if(typeof e=="object"&&e!==null){const{slug:n=null,label:r=null,subtitle:l=null}=e;return{slug:n,label:r,subtitle:l}}if(typeof e!="string")return null;try{const n=JSON.parse(e);if(n&&typeof n=="object"){const{slug:r=null,label:l=null,subtitle:s=null}=n;if(r||l)return{slug:r,label:l,subtitle:s}}}catch{}const t=e.trim();return t?{slug:null,label:t,subtitle:null}:null}function Ru(e){const t=by(e);if(!t)return{slug:null,title:null,subtitle:null,template:null,label:null};let n=t.slug?Py(t.slug):null;!n&&t.label&&(n=Ly(t.label));let r=t.subtitle??(n==null?void 0:n.subtitle)??null;if(!t.subtitle&&t.label){const l=t.label.split("—");if(l.length>1){const s=l.slice(1).join("—").trim();s.length&&(r=s)}}return{slug:t.slug??(n==null?void 0:n.slug)??null,title:(n==null?void 0:n.title)??(t.label?t.label.split("—")[0].trim():null),subtitle:r,template:n}}function Ry(){var k,P,g;const{user:e}=St(),{loaded:t,loading:n,totalCount:r,answeredCount:l,interviewLocked:s}=nm(),a=e!=null&&e.name?`Добро пожаловать, ${e.name}`:"Добро пожаловать",o=t&&r>0,u=o&&!s?`Ответов: ${l} из ${r}`:null,c=o&&!s,m=n||!t,f={slug:((k=e==null?void 0:e.cover)==null?void 0:k.slug)??(e==null?void 0:e.coverSlug)??null,label:((P=e==null?void 0:e.cover)==null?void 0:P.label)??(e==null?void 0:e.coverTitle)??(e==null?void 0:e.coverLabel)??null,subtitle:((g=e==null?void 0:e.cover)==null?void 0:g.subtitle)??(e==null?void 0:e.coverSubtitle)??null},h=Ru(f),x=h.template,j=!!h.title;return i.jsxs("div",{children:[i.jsx(Er,{}),i.jsxs("section",{className:"container mx-auto px-4 mt-4 grid gap-4 md:grid-cols-[280px_1fr] items-start",children:[i.jsxs("aside",{className:"paper p-4 space-y-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"font-serif text-[clamp(1.4rem,3.2vw,2rem)]",children:a}),i.jsx("p",{className:"text-muted",children:"Здесь собрана основная информация о вашем проекте. При необходимости вы всегда можете перейти к заполнению вопросов."})]}),i.jsxs("div",{className:"border-t border-dashed border-line pt-4 space-y-2",children:[i.jsx("div",{className:"font-semibold",children:"Обложка"}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[i.jsx("div",{className:"w-[110px] h-[150px] rounded-[16px] overflow-hidden shadow-tiny border border-line bg-gradient-to-br from-lav to-sky",children:x!=null&&x.image?i.jsx("img",{src:x.image,alt:h.title??"Выбранный шаблон обложки",className:"h-full w-full object-cover"}):i.jsx("div",{className:"grid h-full place-items-center px-3 text-center text-sm text-white/90",children:j?h.title:"Шаблон не выбран"})}),i.jsxs("div",{className:"space-y-1 min-w-[200px]",children:[i.jsx("div",{className:"font-semibold",children:h.title??"Обложка ещё не выбрана"}),i.jsx("div",{className:"text-muted text-sm",children:h.subtitle??"Выберите шаблон, чтобы мы могли подготовить обложку."}),i.jsx(Pt,{className:"btn mt-2",to:"/covers",children:j?"Изменить обложку":"Выбрать обложку"})]})]})]}),(e==null?void 0:e.email)&&i.jsxs("div",{className:"border-t border-dashed border-line pt-4 space-y-1",children:[i.jsx("div",{className:"font-semibold",children:"Учётная запись"}),i.jsxs("div",{className:"text-muted text-sm",children:["Email: ",e.email]}),(e==null?void 0:e.createdAt)&&i.jsxs("div",{className:"text-muted text-sm",children:["Вы с нами с"," ",new Date(e.createdAt).toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric"})]})]})]}),i.jsxs("main",{className:"paper p-4 space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"font-serif text-xl",children:"Ваш проект"}),i.jsx("p",{className:"text-muted",children:"Здесь отображаются актуальные данные по интервью."})]}),m?i.jsx("div",{className:"text-center text-muted py-10",children:"Загружаем информацию..."}):s?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-start gap-3 p-4 border border-line rounded-[14px] bg-[rgba(255,255,255,.65)]",children:[i.jsx("span",{className:"text-xl","aria-hidden":"true",children:"✅"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold",children:"Ответы отправлены редакции"}),i.jsx("div",{className:"text-muted",children:"Мы изучим ваши материалы и свяжемся, если потребуются уточнения. Следите за статусом проекта на итоговой странице."})]})]}),i.jsx(Pt,{className:"btn",to:"/complete",children:"Открыть итоговую страницу"})]}):c?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-start gap-3 p-4 border border-line rounded-[14px] bg-[rgba(255,255,255,.65)]",children:[i.jsx("span",{className:"text-xl","aria-hidden":"true",children:"✍️"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold",children:"Вопросы готовы к заполнению"}),i.jsx("div",{className:"text-muted",children:"Вы можете отвечать в удобном темпе. Все изменения сохраняются на странице вопросов."}),u&&i.jsx("div",{className:"text-muted text-sm mt-2",children:u})]})]}),i.jsx(Pt,{className:"btn primary",to:"/qa",children:"Перейти к вопросам"})]}):i.jsxs("div",{className:"flex items-start gap-3 p-4 border border-line rounded-[14px] bg-[rgba(255,255,255,.65)]",children:[i.jsx("span",{className:"text-xl","aria-hidden":"true",children:"⏳"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold",children:"Вопросы ещё не назначены"}),i.jsx("div",{className:"text-muted",children:"Как только редакция подготовит список вопросов, мы отправим уведомление и вы сможете перейти к заполнению."})]})]})]})]}),i.jsx(Cr,{})]})}function rm({value:e=0}){const t=Math.max(0,Math.min(100,e));return i.jsx("div",{className:"h-[10px] bg-[#efe7dc] rounded-full overflow-hidden border border-line",children:i.jsx("span",{className:"block h-full bg-gradient-to-r from-gold to-accent",style:{width:`${t}%`}})})}function My(){return i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("div",{className:"font-serif text-[clamp(1.4rem,3.4vw,2rem)]",children:"Вопросы пока не назначены."}),i.jsx("div",{className:"text-muted",children:"Мы подготовим перечень и отправим уведомление, как только интервью будет готово к заполнению."})]})}const Dy=1500,Fy=4e3,Oy=4e3,ud="~30 минут";function lm(e,t){return e&&e.id!==void 0&&e.id!==null?String(e.id):`index-${t}`}function vn(e,t){if(t<=0)return 0;const n=Number(e);return Number.isFinite(n)?Math.min(Math.max(Math.floor(n),0),t-1):0}function Iy(e,t){const n=Math.max(0,t),l=[...Array.isArray(e)?e:[]].sort((a,o)=>{const u=Number.isFinite(Number(a==null?void 0:a.position))?Number(a.position):Number((a==null?void 0:a.startIndex)??0),c=Number.isFinite(Number(o==null?void 0:o.position))?Number(o.position):Number((o==null?void 0:o.startIndex)??0);return u-c});let s=0;return l.map((a,o)=>{const u=Number.isFinite(Number(a==null?void 0:a.startIndex))?Math.max(0,Math.floor(Number(a.startIndex))):s,c=Number.isFinite(Number(a==null?void 0:a.questionCount))?Math.max(0,Math.floor(Number(a.questionCount))):0,m=Math.max(0,n-s),f=c>0?Math.min(c,m):0;let h=u;if(f>0){const j=Math.max(0,n-f);h=Math.min(Math.max(h,s),j)}else h=Math.min(Math.max(h,s),n);let x=f>0?h+f-1:h-1;if(f>0&&n>0){const j=n-1;x>j&&(x=j,h=Math.max(0,x-f+1))}return s=f>0?x+1:Math.max(s,h),{...a,__idx:o,key:lm(a,o),title:typeof(a==null?void 0:a.title)=="string"?a.title.trim():"",start:h,end:x,count:f,originalStartIndex:u}})}function zy(e,t){const n=Math.max(0,e),r=new Array(n).fill(-1);return t.forEach((l,s)=>{const a=Number.isFinite(l==null?void 0:l.count)?Math.max(0,l.count):0,o=Number.isFinite(l==null?void 0:l.start)?Math.max(0,Math.floor(l.start)):0,u=Number.isFinite(l==null?void 0:l.end)?Math.max(o,Math.floor(l.end)):o+a-1;if(!(a<=0||u<o))for(let c=o;c<=u&&c<n;c+=1)r[c]=s}),r}function cd(e){if(Number.isFinite(e==null?void 0:e.count))return Math.max(0,e.count);if(Number.isFinite(e==null?void 0:e.questionCount))return Math.max(0,e.questionCount);const t=Number.isFinite(e==null?void 0:e.start)?e.start:0,n=Number.isFinite(e==null?void 0:e.end)?e.end:t-1;return Math.max(0,Math.floor(n)-Math.floor(t)+1)}function dd(e,t){const n=`Глава ${t+1}.`,r=e!=null&&e.title?e.title:null;return{heading:n,subtitle:r}}function Uy(){var pn;const e=rr(),{refreshUser:t,setUser:n,user:r}=St(),{questions:l,chapters:s,getAnswer:a,updateAnswer:o,progress:u,answeredCount:c,totalCount:m,saveAnswers:f,loaded:h,loading:x,interviewLocked:j,answersVersion:k,resumeIndex:P}=nm(),[g,d]=p.useState(0),[v,E]=p.useState(null),[T,D]=p.useState(""),[w,_]=p.useState(null),[$,F]=p.useState(!1),[J,oe]=p.useState(!1),[G,Y]=p.useState("idle"),[ae,se]=p.useState(!1),fe=p.useRef(null),L=p.useRef(null),U=p.useRef(null),A=p.useRef(null),re=p.useRef(""),X=p.useRef(!1),ue=p.useRef(0),Ne=p.useRef(!1),ee=l.length,pe=p.useMemo(()=>Iy(s,ee),[s,ee]),Ie=p.useMemo(()=>zy(ee,pe),[ee,pe]),Z=p.useMemo(()=>v===null?-1:pe.findIndex(z=>z.key===String(v)),[pe,v]),ge=Z>=0?pe[Z]:null,Xe=ee>0,at=ge?cd(ge):ee,ye=ge&&Xe?vn((ge==null?void 0:ge.start)??0,ee):0,Qe=(()=>{if(!Xe)return 0;if(!ge)return Math.max(ee-1,0);if(at===0)return ye;const z=Number.isFinite(Number(ge.end))?Number(ge.end):Number(ge.start??0);return Math.max(ye,vn(z,ee))})(),fn=p.useCallback(()=>{L.current&&(clearTimeout(L.current),L.current=null),U.current&&(clearTimeout(U.current),U.current=null),A.current&&(clearTimeout(A.current),A.current=null)},[]);p.useEffect(()=>fn,[fn]),p.useEffect(()=>{if(!ee){d(0);return}d(z=>vn(z,ee))},[ee]),p.useEffect(()=>{if(v===null)return;pe.some(he=>he.key===String(v))||E(null)},[pe,v]),p.useEffect(()=>{if(!ee){D(""),re.current="";return}const z=vn(g,ee),he=a(z)??"";re.current!==he&&(D(he),re.current=he)},[g,k,a,ee]),p.useEffect(()=>{if(v===null)return;const z=fe.current;z&&requestAnimationFrame(()=>{z.focus();const he=z.value.length;z.setSelectionRange(he,he)})},[v,g]),p.useEffect(()=>{if(Ne.current||!h||x)return;if(!pe.length||!ee){Ne.current=!0;return}let z=null;if(typeof window<"u"&&(r!=null&&r.id))try{const Ke=window.localStorage.getItem(`fate:last-position:${r.id}`);if(Ke){const _e=JSON.parse(Ke);_e&&Number.isFinite(Number(_e.index))&&(z=Number(_e.index))}}catch{}let he=z;if(he===null&&Number.isFinite(P)&&(he=P),he===null){Ne.current=!0;return}const Se=vn(he,ee),He=Ie[Se];if(!Number.isInteger(He)||He<0||He>=pe.length){Ne.current=!0;return}E(pe[He].key),d(Se),Ne.current=!0},[h,x,pe,Ie,ee,P,r==null?void 0:r.id]),p.useEffect(()=>{if(typeof window>"u"||!(r!=null&&r.id)||!ee||v===null)return;const z=vn(g,ee);try{window.localStorage.setItem(`fate:last-position:${r.id}`,JSON.stringify({index:z}))}catch{}},[r==null?void 0:r.id,g,ee,v]);const kt=p.useCallback((z,he="info")=>{_({message:z,tone:he}),A.current&&clearTimeout(A.current),A.current=window.setTimeout(()=>{_(null),A.current=null},Oy)},[]),Be=p.useCallback(()=>{Y("saved"),U.current&&clearTimeout(U.current),U.current=window.setTimeout(()=>{Y("idle"),U.current=null},Fy)},[]),Zt=p.useCallback(z=>{L.current&&clearTimeout(L.current),L.current=window.setTimeout(async()=>{if(L.current=null,!!X.current){Y("saving");try{await f(),ue.current===z?(X.current=!1,Be()):Y("dirty")}catch(he){console.error("Failed to auto-save answers",he),Y("error")}}},Dy)},[f,Be]),en=p.useCallback((z,he)=>{const Se=lm(z,he),He=Number.isFinite(Number(z==null?void 0:z.start))?Number(z.start):Number((z==null?void 0:z.startIndex)??0),Ke=vn(He,ee||1);E(Se),d(Ke)},[ee]),pt=p.useCallback(()=>E(null),[]),et=p.useCallback(()=>d(z=>Math.max(z-1,ye)),[ye]),tn=p.useCallback(()=>d(z=>Math.min(z+1,Qe)),[Qe]),nn=p.useCallback(z=>{if(!ee)return;const he=z.target.value;D(he),re.current=he;const Se=vn(g,ee);o(Se,he),ue.current+=1,X.current=!0;const He=ue.current;Y(Ke=>Ke==="saving"?Ke:"dirty"),Zt(He)},[g,ee,o,Zt]),tt=p.useCallback(async()=>{if(!$){L.current&&(clearTimeout(L.current),L.current=null),F(!0),Y("saving");try{await f(),X.current=!1,Be(),kt("Ответы сохранены","success")}catch(z){console.error("Failed to save answers",z),Y("error"),kt((z==null?void 0:z.message)||"Не удалось сохранить ответы. Попробуйте ещё раз.","error")}finally{F(!1)}}},[$,f,kt,Be]),mt=p.useCallback(async()=>{if(!J){L.current&&(clearTimeout(L.current),L.current=null),oe(!0),Y("saving");try{await f(),await xn("/api/complete"),X.current=!1,Be();const z=await t();z&&n(z),kt("Ответы отправлены редакции","success"),e("/complete",{replace:!0})}catch(z){console.error("Failed to complete interview",z),Y("error"),kt((z==null?void 0:z.message)||"Не удалось отправить ответы. Попробуйте позже.","error")}finally{oe(!1),se(!1)}}},[J,f,t,n,e,kt,Be]);if(j)return i.jsx(Tu,{to:"/complete",replace:!0});const $t=x&&!h,bn=ee>0,Rn=!$t&&bn&&v===null;let ze=null;if($t)ze=i.jsx("section",{className:"paper p-6 text-center text-muted",children:"Загружаем вопросы…"});else if(!bn)ze=i.jsxs("section",{className:"paper p-6 space-y-6 text-center",children:[i.jsx(My,{}),i.jsx("div",{children:i.jsx(Pt,{className:"btn",to:"/dashboard",children:"Вернуться в кабинет"})})]});else if(Rn)ze=i.jsxs("section",{className:"paper p-6 space-y-6",children:[i.jsxs("div",{className:"space-y-2 text-center",children:[i.jsx("h1",{className:"font-serif text-[clamp(1.6rem,3.6vw,2.2rem)]",children:"Выберите главу"}),i.jsx("p",{className:"text-muted",children:"Ответы распределены по главам. Работайте постепенно — сохраняем черновик автоматически."})]}),pe.length===0?i.jsx("div",{className:"text-center text-muted",children:"Главы ещё не сформированы. Как только редакция подготовит вопросы, они появятся здесь."}):i.jsx("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:pe.map((z,he)=>{const{heading:Se,subtitle:He}=dd(z,he),Ke=cd(z);return i.jsxs("div",{className:"paper px-4 py-5 flex flex-col gap-4 text-center",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("div",{className:"font-serif text-lg",children:Se}),He?i.jsx("div",{className:"text-muted text-sm whitespace-pre-wrap break-words",children:He}):null]}),i.jsxs("div",{className:"text-muted text-sm",children:["Вопросов: ",Ke," · ",ud]}),i.jsx("div",{className:"mt-auto flex justify-center",children:i.jsx("button",{type:"button",className:"btn primary",onClick:()=>en(z,he),children:"Открыть"})})]},z.key)})}),i.jsx("div",{className:"flex justify-center",children:i.jsx(Pt,{className:"btn",to:"/dashboard",children:"Вернуться в кабинет"})})]});else{const z=vn(g,ee),he=typeof l[z]=="string"?l[z]:((pn=l[z])==null?void 0:pn.text)??"",Se=Z>=0?Z+1:z+1,{heading:He,subtitle:Ke}=dd(ge,Se-1),_e=at>0?Math.max(1,z-ye+1):0;ze=i.jsxs("section",{className:"paper p-6 space-y-6",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[i.jsx("button",{className:"btn",type:"button",onClick:pt,children:"← Ко всем главам"}),i.jsxs("div",{className:"text-sm text-muted",children:["Ответов: ",c," из ",m]})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("h1",{className:"font-serif text-[clamp(1.6rem,3.6vw,2.2rem)]",children:He}),Ke?i.jsx("div",{className:"text-muted whitespace-pre-wrap break-words",children:Ke}):null,i.jsxs("div",{className:"text-muted text-sm",children:["Вопросов в главе: ",at," · ",ud]})]}),i.jsx(rm,{value:u}),at===0?i.jsxs("div",{className:"border border-dashed border-line rounded-[16px] bg-[rgba(255,255,255,.65)] p-6 text-center space-y-2",children:[i.jsx("div",{className:"font-semibold",children:"В этой главе пока нет вопросов"}),i.jsx("div",{className:"text-muted text-sm",children:"Дождитесь, когда редакция добавит вопросы, или выберите другую главу."})]}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[i.jsxs("div",{className:"font-semibold",children:["Вопрос ",_e," из ",at]}),i.jsxs("div",{className:"text-muted text-sm",children:["Общий номер: ",z+1]})]}),i.jsx("div",{className:"border border-dashed border-line rounded-[16px] bg-[rgba(255,255,255,.75)] p-4 text-[1.05rem] leading-relaxed whitespace-pre-wrap break-words",children:he||"Текст вопроса недоступен."})]}),i.jsx("textarea",{ref:fe,className:"input min-h-[220px] w-full",value:T,onChange:nn,placeholder:"Введите ответ…"}),i.jsx("div",{className:"text-sm text-muted",children:G==="saving"?"Сохраняем черновик…":G==="dirty"?"Есть несохранённые изменения.":G==="saved"?"Черновик сохранён.":G==="error"?"Автосохранение не удалось. Сохраните ответы вручную.":null}),i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[i.jsx("button",{className:"btn",type:"button",onClick:et,disabled:z<=ye,children:"← Предыдущий вопрос"}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx("button",{className:"btn",type:"button",onClick:tt,disabled:$,children:$?"Сохраняем…":"Сохранить"}),i.jsx("button",{className:"btn danger",type:"button",onClick:()=>se(!0),disabled:J,children:"Отправить ответы"})]}),i.jsx("button",{className:"btn",type:"button",onClick:tn,disabled:z>=Qe,children:"Следующий вопрос →"})]})]})]})}const nt=w?i.jsx("div",{className:`fixed bottom-6 left-1/2 -translate-x-1/2 px-5 py-3 rounded-[16px] shadow-lg border ${w.tone==="error"?"bg-[#fdecea] border-[#f3b8b5] text-[#8a2a21]":w.tone==="success"?"bg-[#e7f6ee] border-[#b7ddc3] text-[#1f5c3d]":"bg-[rgba(255,255,255,.95)] border-line text-[#2b2a27]"}`,children:w.message}):null;return i.jsxs("div",{children:[i.jsx(Er,{}),i.jsx("main",{className:"container mx-auto px-4 mt-6 mb-10 space-y-6",children:ze}),i.jsx(Cr,{}),nt,i.jsx(ds,{open:ae,title:"Отправить ответы редакции?",message:J?"Отправляем ответы…":"После отправки редактирование будет недоступно. Убедитесь, что сохранили все изменения.",confirmLabel:J?"Отправляем…":"Отправить",confirmTone:"primary",busy:J,onConfirm:mt,onCancel:()=>se(!1)})]})}function Ay(){const e=rr(),{user:t,refreshUser:n}=St(),r=p.useMemo(()=>{var E,T,D;const v={slug:((E=t==null?void 0:t.cover)==null?void 0:E.slug)??(t==null?void 0:t.coverSlug)??null,label:((T=t==null?void 0:t.cover)==null?void 0:T.label)??(t==null?void 0:t.coverTitle)??(t==null?void 0:t.coverLabel)??null,subtitle:((D=t==null?void 0:t.cover)==null?void 0:D.subtitle)??(t==null?void 0:t.coverSubtitle)??null};return Ru(v)},[t==null?void 0:t.cover,t==null?void 0:t.coverSlug,t==null?void 0:t.coverTitle,t==null?void 0:t.coverLabel,t==null?void 0:t.coverSubtitle]),[l,s]=p.useState(r.slug),[a,o]=p.useState(!1),[u,c]=p.useState(!1),[m,f]=p.useState(""),[h,x]=p.useState(!1);p.useEffect(()=>{s(r.slug)},[r.slug]);const j=p.useMemo(()=>qr.find(v=>v.slug===l)??null,[l]),k=p.useMemo(()=>j?j.subtitle?`${j.title} — ${j.subtitle}`:j.title:null,[j]),P=async v=>{if(u)return;const E=!!v.isCustom;x(E),c(!0),f("");try{await xn("/api/cover",{slug:v.slug,label:v.title,subtitle:v.subtitle??null}),s(v.slug),E&&await new Promise(T=>setTimeout(T,2200)),await n(),o(!0)}catch(T){console.error("Failed to save cover template",T),f("Не удалось сохранить обложку. Попробуйте ещё раз позже.")}finally{c(!1)}},g=()=>{u||(x(!1),o(!1))},d=()=>{x(!1),o(!1),typeof window<"u"&&window.history.length>1?e(-1):e("/dashboard")};return i.jsxs("div",{className:"cover-page",children:[i.jsx(Er,{}),i.jsx(ds,{open:a,title:"Обложка выбрана",message:i.jsxs("div",{className:"space-y-3 text-muted leading-relaxed",children:[k?i.jsxs("p",{children:["Мы сохранили шаблон"," ",i.jsx("span",{className:"font-medium text-[#5b5246]",children:k}),"."]}):null,i.jsx("p",{children:"Вы всегда можете изменить выбор позже на этой странице."})]}),cancelLabel:"Остаться здесь",confirmLabel:"Назад в кабинет",onCancel:g,onConfirm:d}),i.jsx("div",{className:"topbar",children:i.jsx("div",{className:"container mx-auto px-4 py-3 text-muted",children:"Выберите шаблон обложки для своего проекта"})}),i.jsxs("section",{className:"container mx-auto px-4 mt-4 space-y-4",children:[m&&i.jsx("div",{className:"card-glass px-4 py-3 text-sm text-[#a23a2f]",children:m}),i.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:qr.map(v=>{const E=v.slug===l,T=!!v.isCustom,D=T&&h;return i.jsxs("label",{className:`cover cover-card transition-transform duration-200 ${u?"pointer-events-none":""} ${E?"ring-4 ring-[#d0b8a8]/80 ring-offset-2":""} ${T?"cover-card--custom":""} ${D?"cover-card--flipped":""}`,children:[i.jsx("input",{type:"radio",name:"cover",className:"cover-input absolute inset-0 opacity-0 cursor-pointer",onChange:()=>P(v),disabled:u,"aria-label":`Выбрать обложку ${v.title}`}),i.jsxs("div",{className:"cover-outer",children:[i.jsxs("div",{className:`cover-face cover-front ${T?`bg-gradient-to-br ${v.gradient}`:""}`,style:v.image?{backgroundImage:`url(${v.image})`,backgroundSize:"cover",backgroundPosition:"center"}:void 0,children:[i.jsx("span",{className:"tag",children:v.title}),i.jsx("div",{className:"meta font-serif",children:v.subtitle})]}),i.jsxs("div",{className:`cover-face cover-back ${T?`bg-gradient-to-br ${v.gradient}`:""} ${T?"cover-face--center":""}`,style:v.image?{backgroundImage:`url(${v.image})`,backgroundSize:"cover",backgroundPosition:"center"}:void 0,children:[!T&&i.jsx("span",{className:"tag",children:v.title}),i.jsx("div",{className:`meta font-serif ${T?"meta--center":""}`,children:T?i.jsx("span",{className:"cover-copy",children:v.description}):v.subtitle})]}),i.jsx("span",{className:"cover-spine","aria-hidden":"true"}),i.jsx("span",{className:"cover-edge","aria-hidden":"true"})]})]},v.slug)})})]}),i.jsx(Cr,{})]})}const sm={in_review:"Редакция изучает материалы",in_design:"Дизайн и вёрстка",printing:"Печать тиража",ready:"Готово к выдаче",shipped:"Отправлено",delivered:"Доставлено"};Object.entries(sm).map(([e,t])=>({value:e,label:t}));function $y(e){return e?sm[e]??null:null}function By(){const{user:e,refreshUser:t}=St(),n=!!(e!=null&&e.ordered),r=(e==null?void 0:e.statusLabel)??$y(e==null?void 0:e.status);p.useEffect(()=>{t()},[t]);const l=n?"Заказ подтверждён":"Ожидает подтверждения",s=n?"Мы уже работаем над вашей книгой и будем обновлять статус по мере продвижения.":"Подтвердите заказ, чтобы мы могли перейти к подготовке книги.",a=r?`Этап проекта: ${r}.`:"Статус проекта появится, как только редакция начнёт работу.";return i.jsxs("div",{children:[i.jsx(Er,{}),i.jsx("div",{className:"topbar",children:i.jsx("div",{className:"container mx-auto px-4 py-3 text-muted",children:"Интервью отправлено редакции"})}),i.jsx("section",{className:"container mx-auto px-4 py-6",children:i.jsxs("div",{className:"paper p-5 space-y-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"font-serif text-[1.6rem] mb-1",children:"Спасибо! Мы получили ваши ответы."}),i.jsx("p",{className:"text-muted",children:"Редакционная команда уже приступила к подготовке рукописи. Если появятся дополнительные вопросы, куратор свяжется с вами."})]}),i.jsx("hr",{className:"hairline"}),i.jsxs("div",{children:[i.jsx("h3",{className:"mb-2",children:"Что будет дальше"}),i.jsxs("div",{className:"grid md:grid-cols-[160px_1fr] gap-3 items-center",children:[i.jsx("div",{className:"cover bg-gradient-to-br from-blush to-lav w-[160px]",children:i.jsx("div",{className:"meta",children:"Обложка: выбрана в кабинете"})}),i.jsx("p",{className:"text-muted m-0",children:"Мы соберём текст, подготовим редакторский конспект и передадим материалы дизайнеру. После утверждения макета организуем печать тиража."})]})]}),i.jsx("hr",{className:"hairline"}),i.jsxs("div",{children:[i.jsx("h3",{className:"mb-2",children:"Готовность интервью"}),i.jsx(rm,{value:100}),i.jsx("p",{className:"mt-2",children:"100% вопросов заполнено — дальше команда Fate ведёт работу над книгой и будет держать вас в курсе."})]}),i.jsx("hr",{className:"hairline"}),i.jsxs("div",{children:[i.jsx("h3",{className:"mb-2",children:"Статус производства"}),i.jsxs("div",{className:"status",children:[i.jsx("span",{className:"text-lg","aria-hidden":"true",children:"ℹ️"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold",children:l}),i.jsx("div",{className:"text-muted",children:s}),i.jsx("div",{className:"text-muted mt-1",children:a})]})]}),i.jsx("p",{className:"text-muted mt-2",children:"(Эта страница всегда доступна в кабинете, чтобы вы могли отслеживать ход работы и обновления проекта.)"})]})]})}),i.jsx(Cr,{})]})}function Vy(){const{adminLogin:e}=St(),t=rr(),n=dn(),[r,l]=p.useState(""),[s,a]=p.useState(""),[o,u]=p.useState(""),[c,m]=p.useState(""),f=async h=>{var x,j;h.preventDefault();try{await e(r.trim(),s,o.trim()),t(((j=(x=n.state)==null?void 0:x.from)==null?void 0:j.pathname)||"/admin",{replace:!0})}catch{m("Не удалось войти. Проверьте данные и попробуйте снова.")}};return i.jsx("section",{className:"min-h-[100dvh] grid place-items-center py-12 px-4",children:i.jsxs("div",{className:"paper w-[min(420px,92vw)] p-6",children:[i.jsx("h1",{className:"font-serif text-2xl mb-2",children:"Вход в админ-панель"}),i.jsxs("form",{onSubmit:f,className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block mb-1",htmlFor:"admin-email",children:"Электронная почта"}),i.jsx("input",{id:"admin-email",className:"input",value:r,onChange:h=>l(h.target.value),placeholder:"admin@example.com",autoComplete:"email"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block mb-1",htmlFor:"admin-password",children:"Пароль"}),i.jsx(Pu,{id:"admin-password",value:s,onChange:h=>a(h.target.value),autoComplete:"current-password"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block mb-1",htmlFor:"admin-secret",children:"Секретный ключ"}),i.jsx("input",{id:"admin-secret",className:"input",value:o,onChange:h=>u(h.target.value),placeholder:"ADMIN_SECRET_KEY",autoComplete:"one-time-code"})]}),c&&i.jsx("div",{className:"text-red-600",children:c}),i.jsx("div",{className:"flex gap-2",children:i.jsx("button",{className:"btn primary",type:"submit",children:"Войти"})})]})]})})}function Wy(){return i.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:[i.jsxs("defs",{children:[i.jsxs("linearGradient",{id:"clientsGradientHead",x1:"6",y1:"4",x2:"12",y2:"14",gradientUnits:"userSpaceOnUse",children:[i.jsx("stop",{stopColor:"#C084FC"}),i.jsx("stop",{offset:"1",stopColor:"#7C3AED"})]}),i.jsxs("linearGradient",{id:"clientsGradientBody",x1:"5",y1:"12",x2:"14",y2:"22",gradientUnits:"userSpaceOnUse",children:[i.jsx("stop",{stopColor:"#A855F7"}),i.jsx("stop",{offset:"1",stopColor:"#5B21B6"})]}),i.jsxs("linearGradient",{id:"clientsGradientBooks",x1:"4",y1:"17",x2:"20",y2:"21",gradientUnits:"userSpaceOnUse",children:[i.jsx("stop",{stopColor:"#FDE68A"}),i.jsx("stop",{offset:"1",stopColor:"#FDBA74"})]})]}),i.jsx("circle",{cx:"8.4",cy:"8",r:"2.9",fill:"url(#clientsGradientHead)"}),i.jsx("circle",{cx:"14.9",cy:"9",r:"2.4",fill:"#A855F7",opacity:"0.85"}),i.jsx("path",{d:"M4.5 18.5c1-2.8 3.3-4.6 6-4.6s5 1.8 6 4.6",fill:"url(#clientsGradientBody)"}),i.jsx("path",{d:"M6 19.2h5.5",stroke:"#EDE9FE",strokeWidth:"1.1",strokeLinecap:"round",opacity:"0.8"}),i.jsx("path",{d:"M13.5 18.6c.6-1.7 2.1-2.7 3.7-2.7",stroke:"#C4B5FD",strokeWidth:"1",strokeLinecap:"round",opacity:"0.8"}),i.jsx("rect",{x:"4.2",y:"19",width:"6.2",height:"1.9",rx:"0.8",fill:"url(#clientsGradientBooks)"}),i.jsx("rect",{x:"11.2",y:"19.4",width:"6.8",height:"1.6",rx:"0.7",fill:"#F97316",opacity:"0.85"}),i.jsx("path",{d:"M5.3 19.8h3.2",stroke:"#B45309",strokeWidth:"0.8",strokeLinecap:"round",opacity:"0.65"})]})}function Qy(){return i.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:[i.jsxs("defs",{children:[i.jsxs("linearGradient",{id:"templatesPaper",x1:"5",y1:"4",x2:"16",y2:"20",gradientUnits:"userSpaceOnUse",children:[i.jsx("stop",{stopColor:"#DDD6FE"}),i.jsx("stop",{offset:"1",stopColor:"#C7D2FE"})]}),i.jsxs("linearGradient",{id:"templatesTab",x1:"6",y1:"6",x2:"18",y2:"8",gradientUnits:"userSpaceOnUse",children:[i.jsx("stop",{stopColor:"#A855F7"}),i.jsx("stop",{offset:"1",stopColor:"#6366F1"})]}),i.jsxs("linearGradient",{id:"templatesBook",x1:"5",y1:"16",x2:"19",y2:"22",gradientUnits:"userSpaceOnUse",children:[i.jsx("stop",{stopColor:"#F3F4FF"}),i.jsx("stop",{offset:"1",stopColor:"#E0E7FF"})]})]}),i.jsx("rect",{x:"5",y:"4.5",width:"12.5",height:"14.5",rx:"2",fill:"url(#templatesPaper)"}),i.jsx("path",{d:"M7 7h8.5",stroke:"url(#templatesTab)",strokeWidth:"1.6",strokeLinecap:"round"}),i.jsx("path",{d:"M7 10.2h9.5",stroke:"#A78BFA",strokeWidth:"1.2",strokeLinecap:"round",opacity:"0.85"}),i.jsx("path",{d:"M7 13.4h6.8",stroke:"#8B5CF6",strokeWidth:"1.2",strokeLinecap:"round",opacity:"0.85"}),i.jsx("rect",{x:"4",y:"16.8",width:"15.6",height:"3.2",rx:"1.3",fill:"url(#templatesBook)"}),i.jsx("path",{d:"M6 18.2h4",stroke:"#6366F1",strokeWidth:"1",strokeLinecap:"round",opacity:"0.75"}),i.jsx("path",{d:"M12.5 18.2h4.5",stroke:"#6366F1",strokeWidth:"1",strokeLinecap:"round",opacity:"0.55"}),i.jsx("rect",{x:"13.6",y:"5.2",width:"4.8",height:"5",rx:"1.2",fill:"#C084FC",opacity:"0.6"})]})}function Hy(){return i.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:[i.jsxs("defs",{children:[i.jsxs("radialGradient",{id:"settingsGlow",cx:"50%",cy:"40%",r:"70%",children:[i.jsx("stop",{offset:"0%",stopColor:"#F5F5F5"}),i.jsx("stop",{offset:"70%",stopColor:"#D1D5DB"}),i.jsx("stop",{offset:"100%",stopColor:"#9CA3AF"})]}),i.jsxs("linearGradient",{id:"settingsGear",x1:"8",y1:"8",x2:"16",y2:"16",gradientUnits:"userSpaceOnUse",children:[i.jsx("stop",{stopColor:"#FFFFFF"}),i.jsx("stop",{offset:"1",stopColor:"#D1D5DB"})]}),i.jsx("filter",{id:"settingsShadow",x:"-20%",y:"-20%",width:"140%",height:"140%",children:i.jsx("feDropShadow",{dx:"0",dy:"1",stdDeviation:"1.2",floodColor:"#4B5563",floodOpacity:"0.35"})})]}),i.jsx("circle",{cx:"12",cy:"12",r:"9.4",fill:"url(#settingsGlow)",filter:"url(#settingsShadow)"}),i.jsx("path",{d:"M12 9.2a2.8 2.8 0 1 1 0 5.6 2.8 2.8 0 0 1 0-5.6Zm0-3.4 1 1.9 2.1-.2.3 2.1 1.8.9-.9 1.9.9 1.9-1.8.9-.3 2.1-2.1-.2-1 1.9-1-1.9-2.1.2-.3-2.1-1.8-.9.9-1.9-.9-1.9 1.8-.9.3-2.1 2.1.2 1-1.9Z",fill:"url(#settingsGear)",stroke:"#6B7280",strokeWidth:"0.8",strokeLinecap:"round",strokeLinejoin:"round"})]})}const Ca={clients:i.jsx(Wy,{}),templates:i.jsx(Qy,{}),settings:i.jsx(Hy,{})};function _a({to:e,end:t,icon:n,children:r}){return i.jsxs(my,{to:e,end:t,className:({isActive:l})=>["admin-nav__item flex items-center gap-3 px-3 py-2 rounded-[14px] border transition",l?"bg-white/80 border-line shadow-tiny":"border-transparent hover:bg-white/50"].join(" "),children:[n?i.jsx("span",{className:"flex h-6 w-6 items-center justify-center text-[1.1rem]","aria-hidden":"true",children:n}):null,i.jsx("span",{className:"font-medium",children:r})]})}function Ky(){const{logout:e}=St();return i.jsx("div",{className:"admin-layout min-h-screen bg-[radial-gradient(90rem_60rem_at_-10%_-10%,#F1E6D6_0%,transparent_60%),_radial-gradient(80rem_60rem_at_110%_10%,#F7EDE4_0%,transparent_55%),_#F5EFE6]",children:i.jsxs("div",{className:"admin-shell container mx-auto px-4 py-6 grid gap-6 md:grid-cols-[260px_1fr]",children:[i.jsxs("aside",{className:"admin-nav paper p-4 h-min sticky top-6",children:[i.jsxs("div",{className:"admin-nav__header flex flex-col gap-2 mb-3",children:[i.jsx(Vi,{className:"h-10 max-w-[50px]"}),i.jsx("div",{className:"font-serif text-[1.2rem]",children:"Админка"})]}),i.jsxs("nav",{className:"admin-nav__list space-y-2",children:[i.jsx(_a,{to:"/admin",end:!0,icon:Ca.clients,children:"Клиенты"}),i.jsx(_a,{to:"/admin/templates",icon:Ca.templates,children:"Шаблоны"}),i.jsx(_a,{to:"/admin/settings",icon:Ca.settings,children:"Настройки"})]}),i.jsx("hr",{className:"hairline admin-nav__divider"}),i.jsx("button",{className:"btn w-full admin-nav__logout",onClick:e,children:"Выйти"})]}),i.jsx("main",{className:"admin-content space-y-4",children:i.jsx(Gp,{})})]})})}function Gy(e){if(!e)return i.jsx("span",{className:"text-muted text-sm",children:"не подключен"});const t=e.username&&e.username.length?`@${e.username}`:[e.first_name,e.last_name].filter(Boolean).join(" ").trim()||`ID ${e.id}`,n=[`id: ${e.id}`];return e.phone&&n.push(e.phone),i.jsxs("div",{className:"leading-tight",children:[i.jsx("div",{children:t}),i.jsx("div",{className:"text-xs text-muted",children:n.join(" | ")})]})}function Yy(e){const t=[e.id,e.name,e.email,e.answersCount,e.status,e.ordered?"заказ подтверждён":"ожидает подтверждения"],n=e.telegram;return n&&t.push(n.username,n.first_name,n.last_name,n.phone,n.id&&`id${n.id}`),t.filter(r=>r!=null).join(" ").toLowerCase()}function Xy(){const{user:e}=St(),[t,n]=p.useState([]),[r,l]=p.useState(""),[s,a]=p.useState(null),[o,u]=p.useState(!1),[c,m]=p.useState("");p.useEffect(()=>{fetch("/api/admin/users",{credentials:"include"}).then(d=>d.json()).then(n)},[]);const f=p.useMemo(()=>{const d=r.trim().toLowerCase();return d?t.filter(v=>Yy(v).includes(d)):t},[t,r]),h=r.trim().length?`Найдено: ${f.length} из ${t.length}`:`Всего пользователей: ${t.length}`,x=d=>{a(d),m("")},j=()=>{o||a(null)},k=async()=>{var d;if(!(!s||o)){m("");try{u(!0),await bu(`/api/admin/users/${s.id}`),n(v=>v.filter(E=>E.id!==s.id)),a(null)}catch(v){console.error("Failed to delete user",v);const E=(d=v==null?void 0:v.details)==null?void 0:d.error;let T="Не удалось удалить пользователя. Попробуйте позже.";E==="CANNOT_DELETE_ADMIN"?T="Нельзя удалить административный аккаунт.":E==="CANNOT_DELETE_SELF"?T="Нельзя удалить собственный аккаунт.":E==="NOT_FOUND"&&(T="Пользователь уже удалён."),m(T)}finally{u(!1)}}},P=s&&typeof s.email=="string"&&s.email.trim().length?` (${s.email.trim()})`:"",g=s?i.jsxs("div",{className:"space-y-3 text-muted leading-relaxed",children:[i.jsx("p",{children:`Удалить аккаунт ${s.name&&s.name.trim().length?s.name:"без имени"}${P}? Это действие необратимо.`}),i.jsx("p",{children:"Будут стерты ответы, вопросы и связанные данные пользователя."}),c&&i.jsx("p",{className:"text-sm text-[#b23a2f]",children:c})]}):null;return i.jsxs("div",{className:"paper p-4 space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[i.jsx("h2",{className:"font-serif text-xl",children:"Пользователи"}),i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i.jsx("span",{className:"text-sm text-muted",children:h}),i.jsx("input",{className:"input w-[260px]",placeholder:"Поиск по имени, email, Telegram или ID",value:r,onChange:d=>l(d.target.value)})]})]}),i.jsx("div",{className:"overflow-auto",children:i.jsxs("table",{className:"w-full border border-line rounded-[14px] overflow-hidden",children:[i.jsx("thead",{className:"bg-[#fffaf2] text-[#6f6457]",children:i.jsxs("tr",{children:[i.jsx("th",{className:"w-[64px] text-left p-3","aria-label":"Действия"}),i.jsx("th",{className:"text-left p-3",children:"Имя"}),i.jsx("th",{className:"text-left p-3",children:"Email"}),i.jsx("th",{className:"text-left p-3",children:"Telegram"}),i.jsx("th",{className:"text-left p-3",children:"Статус заказа"}),i.jsx("th",{className:"text-left p-3",children:"Ответов"}),i.jsx("th",{className:"text-left p-3",children:"Действия"})]})}),i.jsxs("tbody",{children:[f.map(d=>{const v=(e==null?void 0:e.id)===d.id,E=d.isAdmin||v;return i.jsxs("tr",{className:"border-t border-line",children:[i.jsx("td",{className:"p-3",children:i.jsx("button",{type:"button",className:"btn icon-btn danger",onClick:()=>x(d),disabled:E,title:E?"Удаление недоступно для этого аккаунта":"Удалить аккаунт","aria-label":`Удалить ${d.name||"пользователя"}`,children:"🗑️"})}),i.jsx("td",{className:"p-3",children:d.name}),i.jsx("td",{className:"p-3 break-all",children:d.email}),i.jsx("td",{className:"p-3",children:Gy(d.telegram)}),i.jsx("td",{className:"p-3",children:d.ordered?"заказ подтверждён":"ожидает подтверждения"}),i.jsx("td",{className:"p-3",children:d.answersCount}),i.jsx("td",{className:"p-3",children:i.jsx(Pt,{className:"btn",to:`/admin/users/${d.id}`,children:"Открыть"})})]},d.id)}),f.length===0&&i.jsx("tr",{children:i.jsx("td",{className:"p-4 text-center text-muted",colSpan:7,children:"Пользователи не найдены. Попробуйте изменить условия поиска."})})]})]})}),i.jsx(ds,{open:!!s,title:"Удалить аккаунт?",message:g,confirmLabel:"Удалить",cancelLabel:"Отмена",confirmTone:"danger",busy:o,onConfirm:k,onCancel:j})]})}function Ms(e){return(Array.isArray(e)?e:[]).map(t=>typeof t=="string"?t.trim():"").filter(t=>t.length)}const Ta=[{value:"",label:"Без статуса"},{value:"in_review",label:"Материалы на редактуре"},{value:"in_design",label:"Вёрстка и дизайн"},{value:"printing",label:"Печать"},{value:"ready",label:"Готово к доставке"},{value:"shipped",label:"Отправлено"},{value:"delivered",label:"Доставлено"}],fd=4e3,Pa=24*60*60*1e3,pd=new Intl.DateTimeFormat("ru-RU",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"});function Ds(e){const t=Math.abs(e),n=t%10,r=t%100;return n===1&&r!==11?`${e} день`:n>=2&&n<=4&&(r<10||r>=20)?`${e} дня`:`${e} дней`}function kl(e){const t=Math.abs(e),n=t%10,r=t%100;return n===1&&r!==11?"вопрос":n>=2&&n<=4&&(r<10||r>=20)?"вопроса":"вопросов"}function md(e,t,n){const r=Number.isFinite(Number(t))?Number(t):0,l=Number.isFinite(Number(n==null?void 0:n.questionCount))?Number(n.questionCount):null;return e==="replace"?l===0?"Глава очищена: вопросов нет.":l!=null?`Глава обновлена: сохранено ${l} ${kl(l)}.`:"Глава обновлена.":r===0?l==null?"Новые вопросы не добавлены.":`Новые вопросы не добавлены. В главе по-прежнему ${l} ${kl(l)}.`:l==null?`Добавлено ${r} ${kl(r)}.`:`Добавлено ${r} ${kl(r)}. В главе теперь ${l} ${kl(l)}.`}function Fs(e,t){return e?e.code==="DUPLICATE_QUESTION"?"Не удалось сохранить: конфликт позиций вопросов. Обновите список и попробуйте снова.":e.code==="INVALID_REFERENCE"?"Выбранная глава недоступна. Обновите данные и попробуйте ещё раз.":typeof e.message=="string"&&e.message.trim()?e.message:t:t}const El=200,qy=500;function Jy(){const{id:e}=Dg(),[t,n]=p.useState(null),[r,l]=p.useState(""),[s,a]=p.useState(!1),[o,u]=p.useState(!1),c=p.useRef(null),[m,f]=p.useState(null),h=p.useRef(null),[x,j]=p.useState(!1),[k,P]=p.useState(null),g=p.useRef(null),[d,v]=p.useState("append"),[E,T]=p.useState(!1),[D,w]=p.useState("manual"),[_,$]=p.useState(null),[F,J]=p.useState(""),[oe,G]=p.useState(""),[Y,ae]=p.useState(!1),[se,fe]=p.useState(null),[L,U]=p.useState(""),[A,re]=p.useState(!1),[X,ue]=p.useState(null),[Ne,ee]=p.useState(null),[pe,Ie]=p.useState(!1),[Z,ge]=p.useState(null),[Xe,at]=p.useState([]),[ye,Qe]=p.useState("pick"),[fn,kt]=p.useState(null),[Be,Zt]=p.useState([]),[en,pt]=p.useState([]),[et,tn]=p.useState(!1),[nn,tt]=p.useState(null),[mt,$t]=p.useState(!1),[bn,Rn]=p.useState(null);Jp(E);const ze=p.useMemo(()=>{var R,O,V;const S={slug:((R=t==null?void 0:t.cover)==null?void 0:R.slug)??(t==null?void 0:t.coverSlug)??null,label:((O=t==null?void 0:t.cover)==null?void 0:O.label)??(t==null?void 0:t.coverTitle)??(t==null?void 0:t.coverLabel)??null,subtitle:((V=t==null?void 0:t.cover)==null?void 0:V.subtitle)??(t==null?void 0:t.coverSubtitle)??null};return Ru(S)},[t==null?void 0:t.cover,t==null?void 0:t.coverSlug,t==null?void 0:t.coverTitle,t==null?void 0:t.coverLabel,t==null?void 0:t.coverSubtitle]),nt=ze.template,pn=p.useCallback((S,R="info")=>{f({message:S,tone:R}),h.current&&clearTimeout(h.current),h.current=window.setTimeout(()=>{f(null),h.current=null},fd)},[]),z=p.useCallback((S,R="success")=>{P({message:S,tone:R}),g.current&&clearTimeout(g.current),g.current=window.setTimeout(()=>{P(null),g.current=null},fd)},[]);p.useEffect(()=>()=>{h.current&&(clearTimeout(h.current),h.current=null),g.current&&(clearTimeout(g.current),g.current=null)},[]);const he=p.useMemo(()=>Ms(en),[en]);p.useEffect(()=>{fetch(`/api/admin/users/${e}`,{credentials:"include"}).then(S=>S.json()).then(S=>{n(S),l(S.status||""),a(!!S.ordered)}).catch(S=>{console.error("Failed to load user",S)})},[e]);const Se=p.useCallback(async()=>{const S=await fetch(`/api/admin/users/${e}`,{credentials:"include"}).then(R=>R.json());n(S),l(S.status||""),a(!!S.ordered)},[e]),He=async()=>{await xn(`/api/admin/users/${e}/order`,{ordered:s}),await Se()},Ke=p.useCallback(async()=>{if(!x){j(!0);try{await xn(`/api/admin/users/${e}/status`,{status:r||null}),await Se(),pn("Статус обновлён","success")}catch(S){console.error("Failed to update user status",S),pn((S==null?void 0:S.message)||"Не удалось сохранить статус. Попробуйте ещё раз.","error")}finally{j(!1)}}},[x,e,r,Se,pn]),_e=p.useMemo(()=>Array.isArray(t==null?void 0:t.chapters)?t.chapters:[],[t]),Wi=p.useMemo(()=>Ta.find(S=>S.value===r)||Ta[0],[r]);p.useEffect(()=>{const S=O=>{c.current&&!c.current.contains(O.target)&&u(!1)},R=O=>{O.key==="Escape"&&u(!1)};return document.addEventListener("mousedown",S),document.addEventListener("keydown",R),()=>{document.removeEventListener("mousedown",S),document.removeEventListener("keydown",R)}},[]);const fs=p.useCallback(()=>{u(S=>!S)},[]),_r=p.useCallback(S=>{l(S),u(!1)},[]);p.useEffect(()=>{u(!1)},[r]);const ps=m?i.jsx("div",{className:`fixed bottom-6 left-1/2 -translate-x-1/2 px-5 py-3 rounded-[16px] shadow-lg border ${m.tone==="error"?"bg-[#fdecea] border-[#f3b8b5] text-[#8a2a21]":m.tone==="success"?"bg-[#e7f6ee] border-[#b7ddc3] text-[#1f5c3d]":"bg-[rgba(255,255,255,.95)] border-line text-[#2b2a27]"}`,children:m.message}):null;p.useEffect(()=>{if(!_e.length){$(null);return}$(S=>S&&_e.some(R=>String(R.id)===String(S))?S:_e[0].id)},[_e]);const Tr=p.useMemo(()=>_&&_e.find(S=>String(S.id)===String(_))||null,[_e,_]),Pr=p.useMemo(()=>_?_e.findIndex(S=>String(S.id)===String(_)):-1,[_e,_]),Qi=p.useMemo(()=>_e.reduce((S,R)=>!R||!Array.isArray(R.questions)?S:S+R.questions.length,0),[_e]),mn=p.useMemo(()=>{if(!(t!=null&&t.interviewLocked)||!Array.isArray(t==null?void 0:t.answers)||t.answers.length===0)return null;let S=null;for(const R of t.answers){if(!R||!R.createdAt)continue;const O=new Date(R.createdAt);Number.isNaN(O.getTime())||(!S||O>S)&&(S=O)}return S},[t==null?void 0:t.answers,t==null?void 0:t.interviewLocked]),ot=p.useMemo(()=>{if(!mn)return null;const S=14,R=new Date,O=R.getTime()-mn.getTime(),V=O>0?Math.floor(O/Pa):0,be=Math.max(0,S-V),ht=new Date(mn.getTime()+S*Pa),vt=R>ht,Gi=vt?Math.max(0,Math.floor((R.getTime()-ht.getTime())/Pa)):0;let Mn="green";return V>=10||vt?Mn="red":V>=4&&(Mn="orange"),{now:R,elapsedDays:V,remainingDays:be,deadlineDate:ht,tone:Mn,totalDays:S,overdue:vt,overdueDays:Gi}},[mn]),lr=p.useMemo(()=>{const S=new Map;return Array.isArray(t==null?void 0:t.answers)&&t.answers.forEach(R=>{const O=Number(R==null?void 0:R.questionIndex);Number.isFinite(O)&&S.set(O,R)}),S},[t==null?void 0:t.answers]),Bt=p.useCallback((S,R)=>{const O=typeof(S==null?void 0:S.title)=="string"?S.title.trim():"";return O.length?O:`Глава ${R+1}`},[]),hn=p.useMemo(()=>{const S=new Set,R=_e.map((O,V)=>{const ht=(Array.isArray(O==null?void 0:O.questions)?O.questions:[]).map((vt,Gi)=>{const Mn=Number(vt==null?void 0:vt.index);if(!Number.isFinite(Mn))return null;const ms=lr.get(Mn),Mu=typeof(ms==null?void 0:ms.text)=="string"?ms.text.trim():"";return Mu?(S.add(Mn),{chapterId:(O==null?void 0:O.id)??`chapter-${V}`,chapterNumber:V+1,chapterTitle:Bt(O,V),questionIndex:Mn,questionNumber:Gi+1,questionText:typeof(vt==null?void 0:vt.text)=="string"?vt.text:"",answerText:Mu}):null}).filter(Boolean);return{chapter:O,index:V,title:Bt(O,V),answers:ht}}).filter(O=>O.answers.length>0);if(lr.size>S.size){const O=[];lr.forEach((V,be)=>{if(S.has(be))return;const ht=typeof(V==null?void 0:V.text)=="string"?V.text.trim():"";ht&&O.push({chapterId:null,chapterNumber:null,chapterTitle:"Без главы",questionIndex:be,questionNumber:be+1,questionText:"",answerText:ht})}),O.length>0&&R.push({chapter:null,index:Number.MAX_SAFE_INTEGER,title:"Без главы",answers:O})}return R},[_e,lr,Bt]),Hi=p.useMemo(()=>hn.reduce((S,R)=>S+R.answers.length,0),[hn]),Ki=()=>{J(""),G(""),fe(null),ae(!1),U(""),ue(null),w("manual"),v("append"),Qe("pick"),tn(!1),tt(null),kt(null),Zt([]),pt([]),T(!0)},y=()=>{T(!1)},N=S=>{w(S),S==="template"&&(Qe("pick"),tt(null),tn(!1),kt(null),Zt([]),pt([]),C())},C=p.useCallback(async()=>{Ie(!0),ge(null);try{const S=await fetch("/api/admin/templates",{credentials:"include"});if(!S.ok)throw new Error("Не удалось загрузить список шаблонов.");const R=await S.json();at(Array.isArray(R.templates)?R.templates:[])}catch(S){console.error(S),ge(S.message||"Не удалось загрузить список шаблонов. Попробуйте ещё раз.")}finally{Ie(!1)}},[]),b=async S=>{if(S.preventDefault(),!_){fe("Выберите главу, чтобы добавить вопросы.");return}const R=F.trim(),O=oe;if(!R&&!O.trim()&&d==="append"){fe("Добавьте хотя бы один вопрос или переключитесь на замену.");return}ae(!0),fe(null);try{const V=await xn(`/api/admin/users/${e}/questions`,{mode:d,chapterId:_,questions:R?[R]:[],bulk:O});J(""),G(""),await Se(),z(md(d,V==null?void 0:V.added,V==null?void 0:V.chapter),"success")}catch(V){console.error(V),fe(Fs(V,"Не удалось сохранить вопросы. Попробуйте ещё раз."))}finally{ae(!1)}},I=async S=>{if(S.preventDefault(),!A){re(!0),ue(null);try{const R=await xn(`/api/admin/users/${e}/chapters`,{title:L.trim()||null});U(""),R!=null&&R.id&&$(R.id),await Se()}catch(R){console.error(R),ue(R.message||"Не удалось создать главу. Попробуйте ещё раз.")}finally{re(!1)}}},q=async S=>{if(S!=null&&S.id){tt(null),tn(!0);try{const R=await fetch(`/api/admin/templates/${S.id}`,{credentials:"include"});if(!R.ok)throw new Error("Не удалось открыть шаблон.");const O=await R.json(),V=Ms(O.questions);kt({id:O.id,title:O.title,description:O.description??null}),Zt(V),pt(V),Qe("preview"),V.length||tt("В шаблоне нет вопросов.")}catch(R){console.error(R),tt(R.message||"Не удалось открыть шаблон.")}finally{tn(!1)}}},ne=()=>{pt([...Be]),tt(null),Qe("edit")},Q=()=>{const S=Ms(en);Zt(S),pt(S),tt(null),Qe("preview")},H=(S,R)=>{pt(O=>{const V=[...O];return V[S]=R,V})},B=S=>{pt(R=>R.filter((O,V)=>V!==S))},K=()=>{pt(S=>[...S,""])},le=async S=>{if(!_){tt("Выберите главу, чтобы обновить вопросы.");return}const R=Ms(S);if(d==="append"&&R.length===0){tt("Добавьте хотя бы один вопрос или переключитесь на замену.");return}tn(!0),tt(null);try{const O=await xn(`/api/admin/users/${e}/questions`,{mode:d,chapterId:_,questions:R});await Se(),Qe("pick"),kt(null),Zt([]),pt([]),z(md(d,O==null?void 0:O.added,O==null?void 0:O.chapter),"success")}catch(O){console.error(O),tt(Fs(O,"Не удалось применить шаблон. Попробуйте ещё раз."))}finally{tn(!1)}},de=async S=>{ee(null);try{await bu(`/api/admin/users/${e}/questions/${S}`),await Se(),z("Вопрос удалён.","success")}catch(R){console.error(R),ee(Fs(R,"Не удалось удалить вопрос. Попробуйте ещё раз."))}},Ue=p.useMemo(()=>`answers-${(typeof(t==null?void 0:t.name)=="string"&&t.name.trim()||typeof(t==null?void 0:t.email)=="string"&&t.email.trim()||`user-${e}`).replace(/[\\/:*?"<>|]+/g,"_").slice(0,80)||e}.docx`,[t==null?void 0:t.name,t==null?void 0:t.email,e]),je=p.useCallback(async()=>{if(!mt){$t(!0),Rn(null);try{const S=await fetch(`/api/admin/users/${e}/export/answers`,{credentials:"include"});if(!S.ok){let be=null;try{be=await S.json()}catch{}const ht=new Error(typeof(be==null?void 0:be.error)=="string"&&be.error.length?be.error:"Не удалось экспортировать файл. Попробуйте ещё раз.");throw ht.code=be==null?void 0:be.error,ht}const R=await S.blob(),O=window.URL.createObjectURL(R),V=document.createElement("a");V.href=O,V.download=Ue,document.body.appendChild(V),V.click(),V.remove(),window.URL.revokeObjectURL(O),z("Файл с ответами выгружен.","success")}catch(S){console.error("Failed to export answers",S);const R=Fs(S,"Не удалось экспортировать файл. Попробуйте ещё раз.");Rn(R),z(R,"error")}finally{$t(!1)}}},[mt,e,Ue,z]);if(!t)return null;const te=t.telegram||null,Te=te!=null&&te.username&&te.username.length?`@${te.username}`:"-",rn=[te==null?void 0:te.first_name,te==null?void 0:te.last_name].filter(Boolean).join(" "),sr=rn&&rn.trim().length?rn.trim():"-",Vt=(te==null?void 0:te.id)??"-",Dt=(te==null?void 0:te.phone)??"-",dl=ot?ot.tone==="green"?"bg-[#dce6d5] border border-[#c2d6ba] text-[#2f4f2f]":ot.tone==="orange"?"bg-[#f6e3cc] border border-[#e4c49b] text-[#7a4f24]":"bg-[#f8d9d6] border border-[#e9b4ac] text-[#7f2d2d]":t.interviewLocked?"bg-[#efe4d8] border border-[#dfc8b5] text-[#6c5b4a]":"bg-[#efe7dd] border border-dashed border-[#d8c9b8] text-[#7a6f64]";let Wt="",Et=null;ot&&mn?(ot.overdue?Wt=`Срок истёк ${ot.overdueDays?`${Ds(ot.overdueDays)} назад`:"сегодня"}.`:Wt=`Завершить до ${pd.format(ot.deadlineDate)} · осталось ${Ds(ot.remainingDays)}.`,Et=`Ответы отправлены ${pd.format(mn)} · прошло ${Ds(ot.elapsedDays)}.`):t.interviewLocked?(Wt="Ответы отправлены, ожидается подтверждение даты.",Et="Цветовая индикация обновится после получения отметки времени."):(Wt="Ответы ещё не отправлены пользователем.",Et="Контроль сроков начнётся после полной отправки ответов.");const Lr=`Общий срок: ${Ds((ot==null?void 0:ot.totalDays)??14)}.`,ir=d==="replace"?"Режим: заменить вопросы главы.":"Режим: добавить вопросы к выбранной главе.",me=E?i.jsx("div",{className:"modal-backdrop",children:i.jsxs("div",{className:"modal-card w-[min(860px,96vw)] space-y-4",children:[i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("h3",{className:"font-serif text-[1.6rem]",children:"Управление вопросами"}),i.jsx("div",{className:"text-sm text-muted",children:ir}),E&&k?i.jsx("div",{className:`text-sm ${k.tone==="error"?"text-[#b2563f]":"text-[#1f5c3d]"}`,children:k.message}):null,Tr?i.jsxs("div",{className:"text-sm",children:["Текущая глава:",i.jsxs("b",{children:[" ",Bt(Tr,Pr>=0?Pr:0)]})]}):i.jsx("div",{className:"text-sm text-[#b2563f]",children:"Выберите или создайте главу."})]}),i.jsx("button",{className:"btn icon-btn",onClick:y,children:"X"})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-[240px_1fr]",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"border border-line rounded-[12px] bg-white/70 p-3 space-y-3",children:[i.jsx("div",{className:"text-xs uppercase tracking-wide text-muted",children:"Главы"}),i.jsx("div",{className:"space-y-2 max-h-[240px] overflow-y-auto pr-1",children:_e.length===0?i.jsx("div",{className:"text-sm text-muted",children:"Создайте первую главу, чтобы добавить вопросы."}):_e.map((S,R)=>{const O=String(S.id)===String(_);return i.jsx("button",{type:"button",className:`w-full text-left btn ${O?"primary":""}`,onClick:()=>$(S.id),children:Bt(S,R)},S.id)})}),i.jsxs("form",{className:"space-y-2",onSubmit:I,children:[i.jsx("input",{className:"input",placeholder:"Название главы",value:L,onChange:S=>U(S.target.value),disabled:A}),i.jsx("button",{className:"btn",type:"submit",disabled:A,children:A?"Создаём...":"Создать главу"})]}),X?i.jsx("div",{className:"text-sm text-[#b2563f]",children:X}):null]}),i.jsxs("div",{className:"border border-line rounded-[12px] bg-white/70 p-3 space-y-2",children:[i.jsx("div",{className:"text-xs uppercase tracking-wide text-muted",children:"Режим"}),i.jsxs("label",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"radio",name:"chapter-mode",checked:d==="append",onChange:()=>v("append")}),"Добавить к выбранной главе"]}),i.jsxs("label",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"radio",name:"chapter-mode",checked:d==="replace",onChange:()=>v("replace")}),"Заменить вопросы главы"]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("button",{className:`btn ${D==="manual"?"primary":""}`,type:"button",onClick:()=>N("manual"),children:"Вручную"}),i.jsx("button",{className:`btn ${D==="template"?"primary":""}`,type:"button",onClick:()=>N("template"),children:"Из шаблона"})]}),D==="manual"?i.jsxs("form",{className:"space-y-3",onSubmit:b,children:[i.jsxs("div",{className:"paper p-4",children:[i.jsx("div",{className:"font-semibold mb-2",children:"Добавить один вопрос"}),i.jsx("input",{className:"input",placeholder:"Введите текст вопроса",value:F,onChange:S=>J(S.target.value),disabled:Y}),i.jsx("div",{className:"text-sm text-muted mt-2",children:"Короткие подсказки допустимы, HTML не поддерживается."})]}),i.jsxs("div",{className:"paper p-4",children:[i.jsx("div",{className:"font-semibold mb-2",children:'Добавить несколько вопросов (разделитель "$")'}),i.jsx("textarea",{className:"input min-h-[140px]",placeholder:"Вопрос 1 $ Вопрос 2 $ Вопрос 3",value:oe,onChange:S=>G(S.target.value),disabled:Y}),i.jsxs("div",{className:"text-sm text-muted mt-2",children:["Используйте символ ",i.jsx("b",{children:"$"}),", чтобы разделить вопросы."]})]}),se?i.jsx("div",{className:"text-sm text-[#b2563f]",children:se}):null,i.jsx("div",{className:"flex justify-end modal-actions",children:i.jsx("button",{className:"btn primary",type:"submit",disabled:Y||!_,children:Y?"Сохраняем...":"Сохранить"})})]}):i.jsx("div",{className:"space-y-3",children:ye==="pick"?i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"text-sm text-muted",children:"Выберите шаблон, чтобы загрузить вопросы в главу."}),pe?i.jsx("div",{className:"text-muted text-sm",children:"Загрузка шаблонов..."}):Z?i.jsx("div",{className:"text-sm text-[#b2563f]",children:Z}):i.jsx("div",{className:"space-y-2 max-h-[55vh] overflow-y-auto pr-1",children:Xe.map(S=>i.jsxs("div",{className:"border border-line rounded-[12px] bg-white/70 p-3 space-y-2",children:[i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold",children:S.title}),S.description?i.jsx("div",{className:"text-muted text-sm",children:S.description}):null]}),i.jsx("div",{className:"text-right text-sm text-muted",children:i.jsxs("div",{children:["Вопросов: ",S.questionCount??0]})})]}),S.firstQuestion?i.jsx("div",{className:"text-sm text-muted whitespace-pre-wrap break-words border border-dashed border-line rounded-[10px] bg-white/80 p-2",children:S.firstQuestion}):null,i.jsx("div",{className:"flex justify-end modal-actions",children:i.jsx("button",{className:"btn primary",onClick:()=>q(S),disabled:et,children:et?"Загрузка...":"Выбрать"})})]},S.id))}),i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsx("button",{className:"btn",onClick:C,disabled:pe,children:"Обновить"}),nn?i.jsx("div",{className:"text-[#b2563f] text-sm",children:nn}):null]})]}):ye==="preview"?i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"text-sm text-muted",children:ir}),i.jsx("div",{className:"border border-line rounded-[12px] bg-white/70 p-3 max-h-[55vh] overflow-y-auto",children:Be.length===0?i.jsx("div",{className:"text-muted text-sm",children:"В шаблоне нет вопросов."}):i.jsx("ol",{className:"list-decimal pl-5 space-y-1 text-sm",children:Be.map((S,R)=>i.jsx("li",{className:"whitespace-pre-wrap break-words",children:S},`${(fn==null?void 0:fn.id)||"template"}-${R}`))})}),nn?i.jsx("div",{className:"text-[#b2563f] text-sm",children:nn}):null,i.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap modal-actions",children:[i.jsx("button",{className:"btn",onClick:()=>{Qe("pick"),tt(null)},disabled:et,children:"Назад"}),i.jsxs("div",{className:"flex gap-2 flex-wrap",children:[i.jsx("button",{className:"btn",type:"button",onClick:ne,disabled:et,children:"Изменить"}),i.jsx("button",{className:"btn primary",type:"button",onClick:()=>le(Be),disabled:et,children:et?"Применяем...":"Применить"})]})]})]}):i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap modal-actions",children:[i.jsxs("div",{className:"text-sm text-muted",children:["Вопросов: ",he.length]}),i.jsx("button",{className:"btn",type:"button",onClick:K,disabled:et,children:"Добавить вопрос"})]}),i.jsx("div",{className:"space-y-3 max-h-[55vh] overflow-y-auto pr-1",children:en.length===0?i.jsx("div",{className:"text-muted text-sm",children:"Добавьте вопросы, чтобы отредактировать шаблон."}):en.map((S,R)=>i.jsxs("div",{className:"border border-line rounded-[12px] bg-white/70 p-3 space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsxs("span",{children:["Вопрос ",R+1]}),i.jsx("button",{className:"btn",type:"button",onClick:()=>B(R),disabled:et,children:"Удалить"})]}),i.jsx("textarea",{className:"input min-h-[80px]",value:S,onChange:O=>H(R,O.target.value),disabled:et})]},`editable-${R}`))}),nn?i.jsx("div",{className:"text-[#b2563f] text-sm",children:nn}):null,i.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap modal-actions",children:[i.jsx("button",{className:"btn",type:"button",onClick:Q,disabled:et,children:"Назад"}),i.jsx("button",{className:"btn primary",type:"button",onClick:()=>le(en),disabled:et,children:et?"Применяем...":"Применить"})]})]})})]})]})]})}):null;return i.jsxs(i.Fragment,{children:[ps,i.jsxs("div",{className:"grid gap-4 md:grid-cols-[320px_1fr]",children:[i.jsxs("aside",{className:"paper p-4 space-y-4",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-serif text-xl mb-1",children:t.name}),i.jsx("div",{className:"text-muted break-all",children:t.email})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"font-semibold",children:"Обложка"}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[i.jsx("div",{className:"w-[120px] h-[160px] rounded-[16px] overflow-hidden shadow-tiny border border-line bg-gradient-to-br from-lav to-sky",children:nt!=null&&nt.image?i.jsx("img",{src:nt.image,alt:ze.title??"Выбранный шаблон обложки",className:"h-full w-full object-cover"}):i.jsx("div",{className:"grid h-full place-items-center px-3 text-center text-sm text-white/90",children:ze.title??"Шаблон не выбран"})}),i.jsxs("div",{className:"space-y-1 min-w-[200px]",children:[i.jsx("div",{className:"font-semibold",children:ze.title??"Обложка не выбрана"}),i.jsx("div",{className:"text-muted text-sm",children:ze.subtitle??"Пользователь пока не выбрал шаблон обложки."})]})]})]}),i.jsxs("div",{className:"paper p-3 space-y-3",children:[i.jsx("div",{className:"font-semibold text-sm tracking-wide uppercase text-[#7a6f64]",children:"Telegram"}),te?i.jsxs("dl",{className:"space-y-3 text-sm",children:[i.jsxs("div",{children:[i.jsx("dt",{className:"text-muted text-xs uppercase tracking-wide",children:"Ник"}),i.jsx("dd",{children:Te})]}),i.jsxs("div",{children:[i.jsx("dt",{className:"text-muted text-xs uppercase tracking-wide",children:"Имя"}),i.jsx("dd",{children:sr})]}),i.jsxs("div",{children:[i.jsx("dt",{className:"text-muted text-xs uppercase tracking-wide",children:"ID"}),i.jsx("dd",{children:Vt})]}),i.jsxs("div",{children:[i.jsx("dt",{className:"text-muted text-xs uppercase tracking-wide",children:"Телефон"}),i.jsx("dd",{children:Dt})]})]}):i.jsx("div",{className:"text-muted text-sm",children:"Telegram не подключен."})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:s,onChange:S=>a(S.target.checked)}),"Заказ оформлен"]}),i.jsx("button",{className:"btn mt-2",onClick:He,children:"Сохранить статус заказа"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold mb-2",children:"Статус проекта"}),i.jsxs("div",{className:`status-select${o?" status-select--open":""}`,ref:c,children:[i.jsx("button",{type:"button",className:"status-select__field",onClick:fs,"aria-haspopup":"listbox","aria-expanded":o?"true":"false",children:i.jsx("span",{className:"status-select__label",children:Wi.label})}),i.jsx("ul",{className:"status-select__list",role:"listbox",children:Ta.map(S=>{const R=S.value||"none",O=S.value===r;return i.jsx("li",{children:i.jsx("button",{type:"button",className:`status-select__option${O?" status-select__option--active":""}`,onClick:()=>_r(S.value),role:"option","aria-selected":O?"true":"false",children:S.label})},R)})})]}),i.jsx("button",{className:"btn mt-2",onClick:Ke,disabled:x,type:"button",children:"Сохранить статус"})]}),i.jsxs("div",{className:`rounded-[14px] p-3 leading-snug ${dl}`,children:[i.jsx("div",{className:"text-xs uppercase tracking-wide font-semibold opacity-80",children:"Срок по ответам"}),i.jsx("div",{className:"text-sm font-medium mt-1",children:Wt}),Et?i.jsx("div",{className:"text-xs mt-1 opacity-80",children:Et}):null,i.jsx("div",{className:"text-xs mt-2 opacity-70",children:Lr})]})]}),i.jsxs("main",{className:"space-y-4",children:[i.jsxs("section",{className:"paper p-4 space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[i.jsx("h3",{className:"font-serif text-xl",children:"Вопросы пользователя"}),i.jsxs("div",{className:"text-muted",children:["Всего: ",Qi]})]}),i.jsx("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:i.jsx("button",{className:"btn primary",onClick:Ki,children:"Управление вопросами"})}),!E&&k?i.jsx("div",{className:`text-sm ${k.tone==="error"?"text-[#b2563f]":"text-[#1f5c3d]"}`,children:k.message}):null,Ne?i.jsx("div",{className:"text-sm text-[#b2563f]",children:Ne}):null,i.jsx("div",{className:"space-y-4 mt-2",children:_e.map((S,R)=>i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsx("div",{className:"font-serif text-lg",children:Bt(S,R)}),i.jsxs("div",{className:"text-muted text-sm",children:["Вопросов: ",Array.isArray(S.questions)?S.questions.length:0]})]}),!S.questions||S.questions.length===0?i.jsxs("div",{className:"status",children:[i.jsx("span",{className:"text-lg",children:"В этой главе пока нет вопросов"}),i.jsx("div",{className:"text-muted",children:"Добавьте вопросы через кнопку «Управление вопросами»."})]}):i.jsx("div",{className:"grid gap-3",children:S.questions.map((O,V)=>i.jsxs("div",{className:"p-3 border border-line rounded-[14px] bg-paper flex items-start gap-3",children:[i.jsx("div",{className:"w-6 h-6 grid place-items-center rounded-full bg-gradient-to-b from-gold to-blush text-[#5b5246] shrink-0",children:V+1}),i.jsx("div",{className:"flex-1 whitespace-pre-wrap break-words",children:O.text}),i.jsx("button",{className:"btn",onClick:()=>de(O.id),title:"Удалить вопрос",children:"Удалить"})]},O.id))})]},S.id))})]}),i.jsxs("section",{className:"paper p-4 space-y-3",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[i.jsx("h3",{className:"font-serif text-xl mb-0",children:"Ответы пользователя"}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[i.jsxs("div",{className:"text-muted text-sm",children:["Ответов: ",Hi]}),i.jsx("button",{className:"btn",type:"button",onClick:je,disabled:mt,children:mt?"Готовим файл…":"Экспорт в Word"})]})]}),bn?i.jsx("div",{className:"text-sm text-[#b2563f]",children:bn}):null,hn.length===0?i.jsx("div",{className:"text-muted",children:"Ответы пока не сохранены."}):i.jsx("div",{className:"space-y-4",children:hn.map(S=>{var R;return i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"font-serif text-lg",children:S.title}),i.jsx("div",{className:"grid gap-3",children:S.answers.map(O=>i.jsx(Zy,{answer:O},O.questionIndex))})]},((R=S.chapter)==null?void 0:R.id)??`chapter-${S.index}`)})})]})]}),me]})]})}function Zy({answer:e}){if(!e)return null;const{chapterNumber:t,questionNumber:n,questionIndex:r,questionText:l,answerText:s}=e,a=t!=null?`Вопрос ${t}.${n}`:`Вопрос ${n}`;return i.jsxs("div",{className:"answer-card p-3 border border-line rounded-[14px] bg-paper space-y-2",children:[i.jsxs("div",{className:"answer-card__question text-muted text-sm",children:[a," · #",r+1]}),l?i.jsx("div",{className:"answer-card__questionText text-sm font-medium whitespace-pre-wrap break-words",children:l}):null,i.jsx(ex,{text:s})]})}function ex({text:e}){const t=typeof e=="string"?e:"",n=t.length,[r,l]=p.useState(()=>Math.min(n,El));if(p.useEffect(()=>{l(Math.min(t.length,El))},[t]),!t.length)return i.jsx("div",{className:"answer-card__text text-muted text-sm",children:"Ответ отсутствует."});const s=t.slice(0,r),a=n>r,o=n>El&&r>El;return i.jsxs("div",{className:"answer-card__body space-y-2",children:[i.jsxs("div",{className:"answer-card__text whitespace-pre-wrap break-words",children:[s,a?i.jsx("span",{className:"answer-card__fade","aria-hidden":"true"}):null]}),i.jsxs("div",{className:"answer-card__controls",children:[a?i.jsx("button",{type:"button",className:"answer-card__control",onClick:()=>l(u=>Math.min(n,u+qy)),children:"Открыть больше"}):null,o?i.jsx("button",{type:"button",className:"answer-card__control",onClick:()=>l(Math.min(n,El)),children:"Свернуть"}):null]})]})}function Os({children:e}){const{user:t,loaded:n}=St(),r=dn();return n?t?e:i.jsx(Tu,{to:"/login",state:{from:r},replace:!0}):null}function tx({children:e}){const{user:t,loaded:n}=St(),r=dn();return n?!t||!t.isAdmin?i.jsx(Tu,{to:"/admin/login",state:{from:r},replace:!0}):e||i.jsx(Gp,{}):null}const La=50;function hd(e){const t=typeof e=="string"?e.split("$"):[],n=[];let r=0;for(const l of t){const s=l.trim();s&&(r+=1,n.push(s))}return{list:n,total:r}}function nx(e){if(!e)return null;try{return new Date(e).toLocaleString("ru-RU",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return null}}function vd({questions:e,total:t}){if(!e.length)return null;const n=e.slice(0,La),r=e.length>La;return i.jsxs("div",{className:"border border-dashed border-line rounded-[12px] bg-white/70 p-3 space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between text-xs uppercase tracking-wide text-[#7a6f64]",children:[i.jsx("span",{children:"Предпросмотр"}),i.jsxs("span",{children:["Вопросов: ",e.length,t>e.length?` из ${t}`:""]})]}),i.jsx("ol",{className:"list-decimal pl-5 text-sm space-y-1 max-h-56 overflow-y-auto",children:n.map((l,s)=>i.jsx("li",{className:"whitespace-pre-wrap break-words",children:l},`${s}-${l.slice(0,12)}`))}),r?i.jsxs("div",{className:"text-xs text-muted",children:["Показаны первые ",La," вопросов."]}):null]})}function rx(){const[e,t]=p.useState([]),[n,r]=p.useState(!0),[l,s]=p.useState(null),[a,o]=p.useState(""),[u,c]=p.useState(""),[m,f]=p.useState(""),[h,x]=p.useState(!1),[j,k]=p.useState(null),[P,g]=p.useState(null),[d,v]=p.useState(!1),[E,T]=p.useState(!1),[D,w]=p.useState(!1),[_,$]=p.useState(!1),[F,J]=p.useState(null),[oe,G]=p.useState(null),[Y,ae]=p.useState(""),[se,fe]=p.useState(""),[L,U]=p.useState(""),A=p.useMemo(()=>hd(m),[m]),re=p.useMemo(()=>hd(L),[L]),X=p.useCallback(async()=>{r(!0),s(null);try{const Z=await fetch("/api/admin/templates",{credentials:"include"});if(!Z.ok)throw new Error("Не удалось получить список шаблонов.");const ge=await Z.json();t(Array.isArray(ge.templates)?ge.templates:[])}catch(Z){console.error(Z),s(Z.message||"Не удалось получить список шаблонов. Попробуйте позже.")}finally{r(!1)}},[]);p.useEffect(()=>{X()},[X]);const ue=async Z=>{Z.preventDefault();const ge=a.trim(),Xe=u.trim(),at=A.list;if(!ge.length){k("Введите название шаблона.");return}if(at.length===0){k("Добавьте хотя бы один вопрос.");return}x(!0),k(null);try{await xn("/api/admin/templates",{title:ge,description:Xe.length?Xe:void 0,questions:at}),o(""),c(""),f(""),await X()}catch(ye){console.error(ye),k(ye.message||"Не удалось сохранить шаблон.")}finally{x(!1)}},Ne=async Z=>{G(Z),T(!0),w(!0),$(!1),J(null);try{const ge=await fetch(`/api/admin/templates/${Z}`,{credentials:"include"});if(!ge.ok)throw new Error("Не удалось загрузить шаблон.");const Xe=await ge.json();ae(Xe.title??""),fe(Xe.description??""),U(Array.isArray(Xe.questions)?Xe.questions.join(" $ "):"")}catch(ge){console.error(ge),J(ge.message||"Не удалось загрузить шаблон.")}finally{w(!1)}},ee=()=>{T(!1),w(!1),$(!1),J(null),G(null),ae(""),fe(""),U("")},pe=async Z=>{if(Z.preventDefault(),!oe)return;const ge=Y.trim(),Xe=se.trim(),at=re.list;if(!ge.length){J("Введите название шаблона.");return}if(at.length===0){J("Добавьте хотя бы один вопрос.");return}$(!0),J(null);try{await Cy(`/api/admin/templates/${oe}`,{title:ge,description:Xe.length?Xe:void 0,questions:at}),await X(),ee()}catch(ye){console.error(ye),J(ye.message||"Не удалось обновить шаблон.")}finally{$(!1)}},Ie=async()=>{if(P){v(!0);try{await bu(`/api/admin/templates/${P.id}`),g(null),await X()}catch(Z){console.error(Z),s(Z.message||"Не удалось удалить шаблон.")}finally{v(!1)}}};return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("section",{className:"paper p-4 space-y-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"font-serif text-2xl",children:"Шаблоны вопросов"}),i.jsx("p",{className:"text-muted",children:"Сохраняйте готовые наборы вопросов, чтобы быстро отправлять их пользователям без повторного набора."})]}),i.jsxs("form",{onSubmit:ue,className:"space-y-4",children:[i.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-semibold block",htmlFor:"template-title",children:"Название шаблона"}),i.jsx("input",{id:"template-title",className:"input",placeholder:"Например: Вступительное интервью",value:a,onChange:Z=>o(Z.target.value),disabled:h})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-semibold block",htmlFor:"template-description",children:"Описание (необязательно)"}),i.jsx("input",{id:"template-description",className:"input",placeholder:"Краткое пояснение для админов",value:u,onChange:Z=>c(Z.target.value),disabled:h})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-semibold block",htmlFor:"template-questions",children:"Вопросы (разделяйте символом $)"}),i.jsx("textarea",{id:"template-questions",className:"input min-h-[140px]",placeholder:"Вопрос 1 $ Вопрос 2 $ Вопрос 3",value:m,onChange:Z=>f(Z.target.value),disabled:h}),i.jsxs("div",{className:"text-sm text-muted",children:["Questions: ",A.list.length]}),i.jsx(vd,{questions:A.list,total:A.total})]}),j?i.jsx("div",{className:"text-sm text-[#b2563f]",children:j}):null,i.jsx("button",{type:"submit",className:"btn primary",disabled:h,children:h?"Сохранение...":"Сохранить шаблон"})]})]}),i.jsxs("section",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"font-serif text-xl",children:"Доступные шаблоны"}),i.jsx("button",{className:"btn",onClick:X,disabled:n,children:"Обновить"})]}),l?i.jsx("div",{className:"text-[#b2563f]",children:l}):null,n?i.jsx("div",{className:"paper p-4 text-muted",children:"Загрузка шаблонов..."}):e.length===0?i.jsx("div",{className:"paper p-4 text-muted",children:"Шаблонов пока нет. Создайте первый, используя форму выше."}):i.jsx("div",{className:"grid gap-3 lg:grid-cols-2",children:e.map(Z=>i.jsxs("div",{className:"paper p-4 space-y-3",children:[i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-serif text-lg",children:Z.title}),Z.description?i.jsx("div",{className:"text-muted text-sm",children:Z.description}):null]}),i.jsxs("div",{className:"text-right text-sm text-muted",children:[i.jsxs("div",{children:["Вопросов: ",Z.questionCount]}),Z.updatedAt?i.jsx("div",{className:"text-xs mt-1",children:nx(Z.updatedAt)}):null]})]}),Z.firstQuestion?i.jsxs("div",{className:"border border-line rounded-[12px] bg-white/60 p-3",children:[i.jsx("div",{className:"text-xs uppercase tracking-wide text-[#7a6f64]",children:"Первый вопрос"}),i.jsx("div",{className:"mt-1 whitespace-pre-wrap break-words text-sm",children:Z.firstQuestion})]}):null,i.jsxs("div",{className:"flex items-center justify-end gap-2",children:[i.jsx("button",{className:"btn",onClick:()=>Ne(Z.id),children:"Редактировать"}),i.jsx("button",{className:"btn danger",onClick:()=>g(Z),children:"Удалить"})]})]},Z.id))})]}),E?i.jsx("div",{className:"modal-backdrop",children:i.jsxs("div",{className:"modal-card w-[min(680px,92vw)] space-y-4",children:[i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsx("h3",{className:"font-serif text-[1.6rem]",children:"Редактирование шаблона"}),i.jsx("button",{className:"btn icon-btn",onClick:ee,children:"X"})]}),D?i.jsx("div",{className:"text-muted",children:"Загрузка данных шаблона..."}):i.jsxs("form",{onSubmit:pe,className:"space-y-3",children:[i.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-semibold block",htmlFor:"edit-title",children:"Название"}),i.jsx("input",{id:"edit-title",className:"input",value:Y,onChange:Z=>ae(Z.target.value),disabled:_})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-semibold block",htmlFor:"edit-description",children:"Описание"}),i.jsx("input",{id:"edit-description",className:"input",value:se,onChange:Z=>fe(Z.target.value),disabled:_})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-semibold block",htmlFor:"edit-questions",children:"Вопросы"}),i.jsx("textarea",{id:"edit-questions",className:"input min-h-[160px]",value:L,onChange:Z=>U(Z.target.value),disabled:_}),i.jsxs("div",{className:"text-sm text-muted",children:["Questions: ",re.list.length]}),i.jsx(vd,{questions:re.list,total:re.total})]}),F?i.jsx("div",{className:"text-sm text-[#b2563f]",children:F}):null,i.jsxs("div",{className:"flex items-center justify-end gap-2",children:[i.jsx("button",{className:"btn",type:"button",onClick:ee,children:"Отмена"}),i.jsx("button",{className:"btn primary",type:"submit",disabled:_,children:_?"Сохранение...":"Сохранить изменения"})]})]})]})}):null,i.jsx(ds,{open:!!P,title:"Удалить шаблон?",message:P?`Шаблон «${P.title}» будет удален без возможности восстановления.`:"",confirmLabel:"Удалить",cancelLabel:"Отмена",confirmTone:"danger",busy:d,onCancel:()=>g(null),onConfirm:Ie})]})}function lx(){return i.jsxs("div",{className:"paper p-4 space-y-3",children:[i.jsx("h2",{className:"font-serif text-xl",children:"Настройки"}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{className:"paper p-4 space-y-3",children:[i.jsx("div",{className:"font-semibold",children:"Контакты студии"}),i.jsxs("label",{className:"block",children:[i.jsx("span",{className:"text-sm text-muted",children:"Название проекта"}),i.jsx("input",{className:"input mt-1",defaultValue:"Fate",disabled:!0})]}),i.jsxs("label",{className:"block",children:[i.jsx("span",{className:"text-sm text-muted",children:"Email для связи"}),i.jsx("input",{className:"input mt-1",defaultValue:"hello@fate.books"})]}),i.jsx("button",{className:"btn primary",disabled:!0,children:"Сохранить"})]}),i.jsxs("div",{className:"paper p-4 space-y-2",children:[i.jsx("div",{className:"font-semibold",children:"Безопасность"}),i.jsxs("label",{className:"block",children:[i.jsx("span",{className:"text-sm text-muted",children:"Время жизни сессии (часов)"}),i.jsx("input",{className:"input mt-1",type:"number",defaultValue:6})]}),i.jsx("div",{className:"text-muted text-sm",children:"JWT хранится в httpOnly cookie, а CSRF защищён двойным токеном."})]})]})]})}const sx=ty([{path:"/",element:i.jsx(jy,{})},{path:"/register",element:i.jsx(ky,{})},{path:"/login",element:i.jsx(Ey,{})},{path:"/dashboard",element:i.jsx(Os,{children:i.jsx(Ry,{})})},{path:"/qa",element:i.jsx(Os,{children:i.jsx(Uy,{})})},{path:"/covers",element:i.jsx(Os,{children:i.jsx(Ay,{})})},{path:"/complete",element:i.jsx(Os,{children:i.jsx(By,{})})},{path:"/admin/login",element:i.jsx(Vy,{})},{path:"/admin",element:i.jsx(tx,{children:i.jsx(Ky,{})}),children:[{index:!0,element:i.jsx(Xy,{})},{path:"users/:id",element:i.jsx(Jy,{})},{path:"templates",element:i.jsx(rx,{})},{path:"settings",element:i.jsx(lx,{})}]}]);Mp(document.getElementById("root")).render(i.jsx(Pd.StrictMode,{children:i.jsx(yy,{children:i.jsx(_y,{children:i.jsx(uy,{router:sx})})})}));
