function Hc(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const l in r)if(l!=="default"&&!(l in e)){const i=Object.getOwnPropertyDescriptor(r,l);i&&Object.defineProperty(e,l,i.get?i:{enumerable:!0,get:()=>r[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(l){if(l.ep)return;l.ep=!0;const i=n(l);fetch(l.href,i)}})();function Qc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Wc={exports:{}},ss={},Kc={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ul=Symbol.for("react.element"),zp=Symbol.for("react.portal"),Ip=Symbol.for("react.fragment"),Up=Symbol.for("react.strict_mode"),Ap=Symbol.for("react.profiler"),$p=Symbol.for("react.provider"),Bp=Symbol.for("react.context"),Vp=Symbol.for("react.forward_ref"),Hp=Symbol.for("react.suspense"),Qp=Symbol.for("react.memo"),Wp=Symbol.for("react.lazy"),fu=Symbol.iterator;function Kp(e){return e===null||typeof e!="object"?null:(e=fu&&e[fu]||e["@@iterator"],typeof e=="function"?e:null)}var Yc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Xc=Object.assign,Gc={};function Ar(e,t,n){this.props=e,this.context=t,this.refs=Gc,this.updater=n||Yc}Ar.prototype.isReactComponent={};Ar.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ar.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Jc(){}Jc.prototype=Ar.prototype;function no(e,t,n){this.props=e,this.context=t,this.refs=Gc,this.updater=n||Yc}var ro=no.prototype=new Jc;ro.constructor=no;Xc(ro,Ar.prototype);ro.isPureReactComponent=!0;var pu=Array.isArray,qc=Object.prototype.hasOwnProperty,lo={current:null},Zc={key:!0,ref:!0,__self:!0,__source:!0};function ed(e,t,n){var r,l={},i=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)qc.call(t,r)&&!Zc.hasOwnProperty(r)&&(l[r]=t[r]);var o=arguments.length-2;if(o===1)l.children=n;else if(1<o){for(var u=Array(o),c=0;c<o;c++)u[c]=arguments[c+2];l.children=u}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)l[r]===void 0&&(l[r]=o[r]);return{$$typeof:Ul,type:e,key:i,ref:s,props:l,_owner:lo.current}}function Yp(e,t){return{$$typeof:Ul,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function io(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ul}function Xp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var hu=/\/+/g;function Ps(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Xp(""+e.key):t.toString(36)}function xi(e,t,n,r,l){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Ul:case zp:s=!0}}if(s)return s=e,l=l(s),e=r===""?"."+Ps(s,0):r,pu(l)?(n="",e!=null&&(n=e.replace(hu,"$&/")+"/"),xi(l,t,n,"",function(c){return c})):l!=null&&(io(l)&&(l=Yp(l,n+(!l.key||s&&s.key===l.key?"":(""+l.key).replace(hu,"$&/")+"/")+e)),t.push(l)),1;if(s=0,r=r===""?".":r+":",pu(e))for(var o=0;o<e.length;o++){i=e[o];var u=r+Ps(i,o);s+=xi(i,t,n,u,l)}else if(u=Kp(e),typeof u=="function")for(e=u.call(e),o=0;!(i=e.next()).done;)i=i.value,u=r+Ps(i,o++),s+=xi(i,t,n,u,l);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function ql(e,t,n){if(e==null)return e;var r=[],l=0;return xi(e,r,"","",function(i){return t.call(n,i,l++)}),r}function Gp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var et={current:null},wi={transition:null},Jp={ReactCurrentDispatcher:et,ReactCurrentBatchConfig:wi,ReactCurrentOwner:lo};function td(){throw Error("act(...) is not supported in production builds of React.")}se.Children={map:ql,forEach:function(e,t,n){ql(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ql(e,function(){t++}),t},toArray:function(e){return ql(e,function(t){return t})||[]},only:function(e){if(!io(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};se.Component=Ar;se.Fragment=Ip;se.Profiler=Ap;se.PureComponent=no;se.StrictMode=Up;se.Suspense=Hp;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jp;se.act=td;se.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Xc({},e.props),l=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=lo.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(u in t)qc.call(t,u)&&!Zc.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&o!==void 0?o[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){o=Array(u);for(var c=0;c<u;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:Ul,type:e.type,key:l,ref:i,props:r,_owner:s}};se.createContext=function(e){return e={$$typeof:Bp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:$p,_context:e},e.Consumer=e};se.createElement=ed;se.createFactory=function(e){var t=ed.bind(null,e);return t.type=e,t};se.createRef=function(){return{current:null}};se.forwardRef=function(e){return{$$typeof:Vp,render:e}};se.isValidElement=io;se.lazy=function(e){return{$$typeof:Wp,_payload:{_status:-1,_result:e},_init:Gp}};se.memo=function(e,t){return{$$typeof:Qp,type:e,compare:t===void 0?null:t}};se.startTransition=function(e){var t=wi.transition;wi.transition={};try{e()}finally{wi.transition=t}};se.unstable_act=td;se.useCallback=function(e,t){return et.current.useCallback(e,t)};se.useContext=function(e){return et.current.useContext(e)};se.useDebugValue=function(){};se.useDeferredValue=function(e){return et.current.useDeferredValue(e)};se.useEffect=function(e,t){return et.current.useEffect(e,t)};se.useId=function(){return et.current.useId()};se.useImperativeHandle=function(e,t,n){return et.current.useImperativeHandle(e,t,n)};se.useInsertionEffect=function(e,t){return et.current.useInsertionEffect(e,t)};se.useLayoutEffect=function(e,t){return et.current.useLayoutEffect(e,t)};se.useMemo=function(e,t){return et.current.useMemo(e,t)};se.useReducer=function(e,t,n){return et.current.useReducer(e,t,n)};se.useRef=function(e){return et.current.useRef(e)};se.useState=function(e){return et.current.useState(e)};se.useSyncExternalStore=function(e,t,n){return et.current.useSyncExternalStore(e,t,n)};se.useTransition=function(){return et.current.useTransition()};se.version="18.3.1";Kc.exports=se;var m=Kc.exports;const nd=Qc(m),qp=Hc({__proto__:null,default:nd},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zp=m,eh=Symbol.for("react.element"),th=Symbol.for("react.fragment"),nh=Object.prototype.hasOwnProperty,rh=Zp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lh={key:!0,ref:!0,__self:!0,__source:!0};function rd(e,t,n){var r,l={},i=null,s=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)nh.call(t,r)&&!lh.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)l[r]===void 0&&(l[r]=t[r]);return{$$typeof:eh,type:e,key:i,ref:s,props:l,_owner:rh.current}}ss.Fragment=th;ss.jsx=rd;ss.jsxs=rd;Wc.exports=ss;var a=Wc.exports,ld={exports:{}},gt={},id={exports:{}},sd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,V){var z=T.length;T.push(V);e:for(;0<z;){var K=z-1>>>1,Y=T[K];if(0<l(Y,V))T[K]=V,T[z]=Y,z=K;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var V=T[0],z=T.pop();if(z!==V){T[0]=z;e:for(var K=0,Y=T.length,Le=Y>>>1;K<Le;){var Ne=2*(K+1)-1,ce=T[Ne],pe=Ne+1,Se=T[pe];if(0>l(ce,z))pe<Y&&0>l(Se,ce)?(T[K]=Se,T[pe]=z,K=pe):(T[K]=ce,T[Ne]=z,K=Ne);else if(pe<Y&&0>l(Se,z))T[K]=Se,T[pe]=z,K=pe;else break e}}return V}function l(T,V){var z=T.sortIndex-V.sortIndex;return z!==0?z:T.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var u=[],c=[],p=1,f=null,h=3,w=!1,N=!1,S=!1,L=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(T){for(var V=n(c);V!==null;){if(V.callback===null)r(c);else if(V.startTime<=T)r(c),V.sortIndex=V.expirationTime,t(u,V);else break;V=n(c)}}function E(T){if(S=!1,g(T),!N)if(n(u)!==null)N=!0,ee(P);else{var V=n(c);V!==null&&ae(E,V.startTime-T)}}function P(T,V){N=!1,S&&(S=!1,v(_),_=-1),w=!0;var z=h;try{for(g(V),f=n(u);f!==null&&(!(f.expirationTime>V)||T&&!I());){var K=f.callback;if(typeof K=="function"){f.callback=null,h=f.priorityLevel;var Y=K(f.expirationTime<=V);V=e.unstable_now(),typeof Y=="function"?f.callback=Y:f===n(u)&&r(u),g(V)}else r(u);f=n(u)}if(f!==null)var Le=!0;else{var Ne=n(c);Ne!==null&&ae(E,Ne.startTime-V),Le=!1}return Le}finally{f=null,h=z,w=!1}}var O=!1,x=null,_=-1,U=5,b=-1;function I(){return!(e.unstable_now()-b<U)}function A(){if(x!==null){var T=e.unstable_now();b=T;var V=!0;try{V=x(!0,T)}finally{V?X():(O=!1,x=null)}}else O=!1}var X;if(typeof d=="function")X=function(){d(A)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,re=q.port2;q.port1.onmessage=A,X=function(){re.postMessage(null)}}else X=function(){L(A,0)};function ee(T){x=T,O||(O=!0,X())}function ae(T,V){_=L(function(){T(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){N||w||(N=!0,ee(P))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(T){switch(h){case 1:case 2:case 3:var V=3;break;default:V=h}var z=h;h=V;try{return T()}finally{h=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,V){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var z=h;h=T;try{return V()}finally{h=z}},e.unstable_scheduleCallback=function(T,V,z){var K=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?K+z:K):z=K,T){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=z+Y,T={id:p++,callback:V,priorityLevel:T,startTime:z,expirationTime:Y,sortIndex:-1},z>K?(T.sortIndex=z,t(c,T),n(u)===null&&T===n(c)&&(S?(v(_),_=-1):S=!0,ae(E,z-K))):(T.sortIndex=Y,t(u,T),N||w||(N=!0,ee(P))),T},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(T){var V=h;return function(){var z=h;h=V;try{return T.apply(this,arguments)}finally{h=z}}}})(sd);id.exports=sd;var ih=id.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sh=m,vt=ih;function D(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ad=new Set,wl={};function qn(e,t){Rr(e,t),Rr(e+"Capture",t)}function Rr(e,t){for(wl[e]=t,e=0;e<t.length;e++)ad.add(t[e])}var tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sa=Object.prototype.hasOwnProperty,ah=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mu={},vu={};function oh(e){return sa.call(vu,e)?!0:sa.call(mu,e)?!1:ah.test(e)?vu[e]=!0:(mu[e]=!0,!1)}function uh(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ch(e,t,n,r){if(t===null||typeof t>"u"||uh(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function tt(e,t,n,r,l,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var We={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){We[e]=new tt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];We[t]=new tt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){We[e]=new tt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){We[e]=new tt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){We[e]=new tt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){We[e]=new tt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){We[e]=new tt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){We[e]=new tt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){We[e]=new tt(e,5,!1,e.toLowerCase(),null,!1,!1)});var so=/[\-:]([a-z])/g;function ao(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(so,ao);We[t]=new tt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(so,ao);We[t]=new tt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(so,ao);We[t]=new tt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){We[e]=new tt(e,1,!1,e.toLowerCase(),null,!1,!1)});We.xlinkHref=new tt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){We[e]=new tt(e,1,!1,e.toLowerCase(),null,!0,!0)});function oo(e,t,n,r){var l=We.hasOwnProperty(t)?We[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ch(t,n,l,r)&&(n=null),r||l===null?oh(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var an=sh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zl=Symbol.for("react.element"),pr=Symbol.for("react.portal"),hr=Symbol.for("react.fragment"),uo=Symbol.for("react.strict_mode"),aa=Symbol.for("react.profiler"),od=Symbol.for("react.provider"),ud=Symbol.for("react.context"),co=Symbol.for("react.forward_ref"),oa=Symbol.for("react.suspense"),ua=Symbol.for("react.suspense_list"),fo=Symbol.for("react.memo"),fn=Symbol.for("react.lazy"),cd=Symbol.for("react.offscreen"),gu=Symbol.iterator;function Xr(e){return e===null||typeof e!="object"?null:(e=gu&&e[gu]||e["@@iterator"],typeof e=="function"?e:null)}var Te=Object.assign,Ts;function sl(e){if(Ts===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ts=t&&t[1]||""}return`
`+Ts+e}var Ls=!1;function Rs(e,t){if(!e||Ls)return"";Ls=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var l=c.stack.split(`
`),i=r.stack.split(`
`),s=l.length-1,o=i.length-1;1<=s&&0<=o&&l[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(l[s]!==i[o]){if(s!==1||o!==1)do if(s--,o--,0>o||l[s]!==i[o]){var u=`
`+l[s].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=s&&0<=o);break}}}finally{Ls=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?sl(e):""}function dh(e){switch(e.tag){case 5:return sl(e.type);case 16:return sl("Lazy");case 13:return sl("Suspense");case 19:return sl("SuspenseList");case 0:case 2:case 15:return e=Rs(e.type,!1),e;case 11:return e=Rs(e.type.render,!1),e;case 1:return e=Rs(e.type,!0),e;default:return""}}function ca(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case hr:return"Fragment";case pr:return"Portal";case aa:return"Profiler";case uo:return"StrictMode";case oa:return"Suspense";case ua:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ud:return(e.displayName||"Context")+".Consumer";case od:return(e._context.displayName||"Context")+".Provider";case co:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case fo:return t=e.displayName||null,t!==null?t:ca(e.type)||"Memo";case fn:t=e._payload,e=e._init;try{return ca(e(t))}catch{}}return null}function fh(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ca(t);case 8:return t===uo?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function _n(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function dd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ph(e){var t=dd(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ei(e){e._valueTracker||(e._valueTracker=ph(e))}function fd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=dd(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Di(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function da(e,t){var n=t.checked;return Te({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function yu(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=_n(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function pd(e,t){t=t.checked,t!=null&&oo(e,"checked",t,!1)}function fa(e,t){pd(e,t);var n=_n(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?pa(e,t.type,n):t.hasOwnProperty("defaultValue")&&pa(e,t.type,_n(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function xu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function pa(e,t,n){(t!=="number"||Di(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var al=Array.isArray;function Er(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+_n(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function ha(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(D(91));return Te({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function wu(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(D(92));if(al(n)){if(1<n.length)throw Error(D(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:_n(n)}}function hd(e,t){var n=_n(t.value),r=_n(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ju(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function md(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ma(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?md(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ti,vd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ti=ti||document.createElement("div"),ti.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ti.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function jl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var dl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hh=["Webkit","ms","Moz","O"];Object.keys(dl).forEach(function(e){hh.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),dl[t]=dl[e]})});function gd(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||dl.hasOwnProperty(e)&&dl[e]?(""+t).trim():t+"px"}function yd(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=gd(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var mh=Te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function va(e,t){if(t){if(mh[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(D(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(D(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(D(61))}if(t.style!=null&&typeof t.style!="object")throw Error(D(62))}}function ga(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ya=null;function po(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xa=null,Cr=null,_r=null;function Nu(e){if(e=Bl(e)){if(typeof xa!="function")throw Error(D(280));var t=e.stateNode;t&&(t=ds(t),xa(e.stateNode,e.type,t))}}function xd(e){Cr?_r?_r.push(e):_r=[e]:Cr=e}function wd(){if(Cr){var e=Cr,t=_r;if(_r=Cr=null,Nu(e),t)for(e=0;e<t.length;e++)Nu(t[e])}}function jd(e,t){return e(t)}function Nd(){}var Ds=!1;function Sd(e,t,n){if(Ds)return e(t,n);Ds=!0;try{return jd(e,t,n)}finally{Ds=!1,(Cr!==null||_r!==null)&&(Nd(),wd())}}function Nl(e,t){var n=e.stateNode;if(n===null)return null;var r=ds(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(D(231,t,typeof n));return n}var wa=!1;if(tn)try{var Gr={};Object.defineProperty(Gr,"passive",{get:function(){wa=!0}}),window.addEventListener("test",Gr,Gr),window.removeEventListener("test",Gr,Gr)}catch{wa=!1}function vh(e,t,n,r,l,i,s,o,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(p){this.onError(p)}}var fl=!1,Mi=null,bi=!1,ja=null,gh={onError:function(e){fl=!0,Mi=e}};function yh(e,t,n,r,l,i,s,o,u){fl=!1,Mi=null,vh.apply(gh,arguments)}function xh(e,t,n,r,l,i,s,o,u){if(yh.apply(this,arguments),fl){if(fl){var c=Mi;fl=!1,Mi=null}else throw Error(D(198));bi||(bi=!0,ja=c)}}function Zn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function kd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Su(e){if(Zn(e)!==e)throw Error(D(188))}function wh(e){var t=e.alternate;if(!t){if(t=Zn(e),t===null)throw Error(D(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var i=l.alternate;if(i===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===i.child){for(i=l.child;i;){if(i===n)return Su(l),e;if(i===r)return Su(l),t;i=i.sibling}throw Error(D(188))}if(n.return!==r.return)n=l,r=i;else{for(var s=!1,o=l.child;o;){if(o===n){s=!0,n=l,r=i;break}if(o===r){s=!0,r=l,n=i;break}o=o.sibling}if(!s){for(o=i.child;o;){if(o===n){s=!0,n=i,r=l;break}if(o===r){s=!0,r=i,n=l;break}o=o.sibling}if(!s)throw Error(D(189))}}if(n.alternate!==r)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?e:t}function Ed(e){return e=wh(e),e!==null?Cd(e):null}function Cd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Cd(e);if(t!==null)return t;e=e.sibling}return null}var _d=vt.unstable_scheduleCallback,ku=vt.unstable_cancelCallback,jh=vt.unstable_shouldYield,Nh=vt.unstable_requestPaint,Oe=vt.unstable_now,Sh=vt.unstable_getCurrentPriorityLevel,ho=vt.unstable_ImmediatePriority,Pd=vt.unstable_UserBlockingPriority,Oi=vt.unstable_NormalPriority,kh=vt.unstable_LowPriority,Td=vt.unstable_IdlePriority,as=null,Bt=null;function Eh(e){if(Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(as,e,void 0,(e.current.flags&128)===128)}catch{}}var Mt=Math.clz32?Math.clz32:Ph,Ch=Math.log,_h=Math.LN2;function Ph(e){return e>>>=0,e===0?32:31-(Ch(e)/_h|0)|0}var ni=64,ri=4194304;function ol(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Fi(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,i=e.pingedLanes,s=n&268435455;if(s!==0){var o=s&~l;o!==0?r=ol(o):(i&=s,i!==0&&(r=ol(i)))}else s=n&~l,s!==0?r=ol(s):i!==0&&(r=ol(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&l)&&(l=r&-r,i=t&-t,l>=i||l===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Mt(t),l=1<<n,r|=e[n],t&=~l;return r}function Th(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lh(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-Mt(i),o=1<<s,u=l[s];u===-1?(!(o&n)||o&r)&&(l[s]=Th(o,t)):u<=t&&(e.expiredLanes|=o),i&=~o}}function Na(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ld(){var e=ni;return ni<<=1,!(ni&4194240)&&(ni=64),e}function Ms(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Al(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Mt(t),e[t]=n}function Rh(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-Mt(n),i=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~i}}function mo(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Mt(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var me=0;function Rd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Dd,vo,Md,bd,Od,Sa=!1,li=[],xn=null,wn=null,jn=null,Sl=new Map,kl=new Map,hn=[],Dh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Eu(e,t){switch(e){case"focusin":case"focusout":xn=null;break;case"dragenter":case"dragleave":wn=null;break;case"mouseover":case"mouseout":jn=null;break;case"pointerover":case"pointerout":Sl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":kl.delete(t.pointerId)}}function Jr(e,t,n,r,l,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[l]},t!==null&&(t=Bl(t),t!==null&&vo(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Mh(e,t,n,r,l){switch(t){case"focusin":return xn=Jr(xn,e,t,n,r,l),!0;case"dragenter":return wn=Jr(wn,e,t,n,r,l),!0;case"mouseover":return jn=Jr(jn,e,t,n,r,l),!0;case"pointerover":var i=l.pointerId;return Sl.set(i,Jr(Sl.get(i)||null,e,t,n,r,l)),!0;case"gotpointercapture":return i=l.pointerId,kl.set(i,Jr(kl.get(i)||null,e,t,n,r,l)),!0}return!1}function Fd(e){var t=An(e.target);if(t!==null){var n=Zn(t);if(n!==null){if(t=n.tag,t===13){if(t=kd(n),t!==null){e.blockedOn=t,Od(e.priority,function(){Md(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ji(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ka(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ya=r,n.target.dispatchEvent(r),ya=null}else return t=Bl(n),t!==null&&vo(t),e.blockedOn=n,!1;t.shift()}return!0}function Cu(e,t,n){ji(e)&&n.delete(t)}function bh(){Sa=!1,xn!==null&&ji(xn)&&(xn=null),wn!==null&&ji(wn)&&(wn=null),jn!==null&&ji(jn)&&(jn=null),Sl.forEach(Cu),kl.forEach(Cu)}function qr(e,t){e.blockedOn===t&&(e.blockedOn=null,Sa||(Sa=!0,vt.unstable_scheduleCallback(vt.unstable_NormalPriority,bh)))}function El(e){function t(l){return qr(l,e)}if(0<li.length){qr(li[0],e);for(var n=1;n<li.length;n++){var r=li[n];r.blockedOn===e&&(r.blockedOn=null)}}for(xn!==null&&qr(xn,e),wn!==null&&qr(wn,e),jn!==null&&qr(jn,e),Sl.forEach(t),kl.forEach(t),n=0;n<hn.length;n++)r=hn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<hn.length&&(n=hn[0],n.blockedOn===null);)Fd(n),n.blockedOn===null&&hn.shift()}var Pr=an.ReactCurrentBatchConfig,zi=!0;function Oh(e,t,n,r){var l=me,i=Pr.transition;Pr.transition=null;try{me=1,go(e,t,n,r)}finally{me=l,Pr.transition=i}}function Fh(e,t,n,r){var l=me,i=Pr.transition;Pr.transition=null;try{me=4,go(e,t,n,r)}finally{me=l,Pr.transition=i}}function go(e,t,n,r){if(zi){var l=ka(e,t,n,r);if(l===null)Vs(e,t,r,Ii,n),Eu(e,r);else if(Mh(l,e,t,n,r))r.stopPropagation();else if(Eu(e,r),t&4&&-1<Dh.indexOf(e)){for(;l!==null;){var i=Bl(l);if(i!==null&&Dd(i),i=ka(e,t,n,r),i===null&&Vs(e,t,r,Ii,n),i===l)break;l=i}l!==null&&r.stopPropagation()}else Vs(e,t,r,null,n)}}var Ii=null;function ka(e,t,n,r){if(Ii=null,e=po(r),e=An(e),e!==null)if(t=Zn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=kd(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ii=e,null}function zd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sh()){case ho:return 1;case Pd:return 4;case Oi:case kh:return 16;case Td:return 536870912;default:return 16}default:return 16}}var vn=null,yo=null,Ni=null;function Id(){if(Ni)return Ni;var e,t=yo,n=t.length,r,l="value"in vn?vn.value:vn.textContent,i=l.length;for(e=0;e<n&&t[e]===l[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===l[i-r];r++);return Ni=l.slice(e,1<r?1-r:void 0)}function Si(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ii(){return!0}function _u(){return!1}function yt(e){function t(n,r,l,i,s){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ii:_u,this.isPropagationStopped=_u,this}return Te(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ii)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ii)},persist:function(){},isPersistent:ii}),t}var $r={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xo=yt($r),$l=Te({},$r,{view:0,detail:0}),zh=yt($l),bs,Os,Zr,os=Te({},$l,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zr&&(Zr&&e.type==="mousemove"?(bs=e.screenX-Zr.screenX,Os=e.screenY-Zr.screenY):Os=bs=0,Zr=e),bs)},movementY:function(e){return"movementY"in e?e.movementY:Os}}),Pu=yt(os),Ih=Te({},os,{dataTransfer:0}),Uh=yt(Ih),Ah=Te({},$l,{relatedTarget:0}),Fs=yt(Ah),$h=Te({},$r,{animationName:0,elapsedTime:0,pseudoElement:0}),Bh=yt($h),Vh=Te({},$r,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Hh=yt(Vh),Qh=Te({},$r,{data:0}),Tu=yt(Qh),Wh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Yh[e])?!!t[e]:!1}function wo(){return Xh}var Gh=Te({},$l,{key:function(e){if(e.key){var t=Wh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Si(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Kh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wo,charCode:function(e){return e.type==="keypress"?Si(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Si(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Jh=yt(Gh),qh=Te({},os,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lu=yt(qh),Zh=Te({},$l,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wo}),em=yt(Zh),tm=Te({},$r,{propertyName:0,elapsedTime:0,pseudoElement:0}),nm=yt(tm),rm=Te({},os,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),lm=yt(rm),im=[9,13,27,32],jo=tn&&"CompositionEvent"in window,pl=null;tn&&"documentMode"in document&&(pl=document.documentMode);var sm=tn&&"TextEvent"in window&&!pl,Ud=tn&&(!jo||pl&&8<pl&&11>=pl),Ru=" ",Du=!1;function Ad(e,t){switch(e){case"keyup":return im.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $d(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var mr=!1;function am(e,t){switch(e){case"compositionend":return $d(t);case"keypress":return t.which!==32?null:(Du=!0,Ru);case"textInput":return e=t.data,e===Ru&&Du?null:e;default:return null}}function om(e,t){if(mr)return e==="compositionend"||!jo&&Ad(e,t)?(e=Id(),Ni=yo=vn=null,mr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ud&&t.locale!=="ko"?null:t.data;default:return null}}var um={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!um[e.type]:t==="textarea"}function Bd(e,t,n,r){xd(r),t=Ui(t,"onChange"),0<t.length&&(n=new xo("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var hl=null,Cl=null;function cm(e){Zd(e,0)}function us(e){var t=yr(e);if(fd(t))return e}function dm(e,t){if(e==="change")return t}var Vd=!1;if(tn){var zs;if(tn){var Is="oninput"in document;if(!Is){var bu=document.createElement("div");bu.setAttribute("oninput","return;"),Is=typeof bu.oninput=="function"}zs=Is}else zs=!1;Vd=zs&&(!document.documentMode||9<document.documentMode)}function Ou(){hl&&(hl.detachEvent("onpropertychange",Hd),Cl=hl=null)}function Hd(e){if(e.propertyName==="value"&&us(Cl)){var t=[];Bd(t,Cl,e,po(e)),Sd(cm,t)}}function fm(e,t,n){e==="focusin"?(Ou(),hl=t,Cl=n,hl.attachEvent("onpropertychange",Hd)):e==="focusout"&&Ou()}function pm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return us(Cl)}function hm(e,t){if(e==="click")return us(t)}function mm(e,t){if(e==="input"||e==="change")return us(t)}function vm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ot=typeof Object.is=="function"?Object.is:vm;function _l(e,t){if(Ot(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!sa.call(t,l)||!Ot(e[l],t[l]))return!1}return!0}function Fu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zu(e,t){var n=Fu(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Fu(n)}}function Qd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Qd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Wd(){for(var e=window,t=Di();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Di(e.document)}return t}function No(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function gm(e){var t=Wd(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Qd(n.ownerDocument.documentElement,n)){if(r!==null&&No(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,i=Math.min(r.start,l);r=r.end===void 0?i:Math.min(r.end,l),!e.extend&&i>r&&(l=r,r=i,i=l),l=zu(n,i);var s=zu(n,r);l&&s&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ym=tn&&"documentMode"in document&&11>=document.documentMode,vr=null,Ea=null,ml=null,Ca=!1;function Iu(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ca||vr==null||vr!==Di(r)||(r=vr,"selectionStart"in r&&No(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ml&&_l(ml,r)||(ml=r,r=Ui(Ea,"onSelect"),0<r.length&&(t=new xo("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}function si(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var gr={animationend:si("Animation","AnimationEnd"),animationiteration:si("Animation","AnimationIteration"),animationstart:si("Animation","AnimationStart"),transitionend:si("Transition","TransitionEnd")},Us={},Kd={};tn&&(Kd=document.createElement("div").style,"AnimationEvent"in window||(delete gr.animationend.animation,delete gr.animationiteration.animation,delete gr.animationstart.animation),"TransitionEvent"in window||delete gr.transitionend.transition);function cs(e){if(Us[e])return Us[e];if(!gr[e])return e;var t=gr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Kd)return Us[e]=t[n];return e}var Yd=cs("animationend"),Xd=cs("animationiteration"),Gd=cs("animationstart"),Jd=cs("transitionend"),qd=new Map,Uu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tn(e,t){qd.set(e,t),qn(t,[e])}for(var As=0;As<Uu.length;As++){var $s=Uu[As],xm=$s.toLowerCase(),wm=$s[0].toUpperCase()+$s.slice(1);Tn(xm,"on"+wm)}Tn(Yd,"onAnimationEnd");Tn(Xd,"onAnimationIteration");Tn(Gd,"onAnimationStart");Tn("dblclick","onDoubleClick");Tn("focusin","onFocus");Tn("focusout","onBlur");Tn(Jd,"onTransitionEnd");Rr("onMouseEnter",["mouseout","mouseover"]);Rr("onMouseLeave",["mouseout","mouseover"]);Rr("onPointerEnter",["pointerout","pointerover"]);Rr("onPointerLeave",["pointerout","pointerover"]);qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qn("onBeforeInput",["compositionend","keypress","textInput","paste"]);qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jm=new Set("cancel close invalid load scroll toggle".split(" ").concat(ul));function Au(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,xh(r,t,void 0,e),e.currentTarget=null}function Zd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],u=o.instance,c=o.currentTarget;if(o=o.listener,u!==i&&l.isPropagationStopped())break e;Au(l,o,c),i=u}else for(s=0;s<r.length;s++){if(o=r[s],u=o.instance,c=o.currentTarget,o=o.listener,u!==i&&l.isPropagationStopped())break e;Au(l,o,c),i=u}}}if(bi)throw e=ja,bi=!1,ja=null,e}function we(e,t){var n=t[Ra];n===void 0&&(n=t[Ra]=new Set);var r=e+"__bubble";n.has(r)||(ef(t,e,2,!1),n.add(r))}function Bs(e,t,n){var r=0;t&&(r|=4),ef(n,e,r,t)}var ai="_reactListening"+Math.random().toString(36).slice(2);function Pl(e){if(!e[ai]){e[ai]=!0,ad.forEach(function(n){n!=="selectionchange"&&(jm.has(n)||Bs(n,!1,e),Bs(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ai]||(t[ai]=!0,Bs("selectionchange",!1,t))}}function ef(e,t,n,r){switch(zd(t)){case 1:var l=Oh;break;case 4:l=Fh;break;default:l=go}n=l.bind(null,t,n,e),l=void 0,!wa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function Vs(e,t,n,r,l){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===l||o.nodeType===8&&o.parentNode===l)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===l||u.nodeType===8&&u.parentNode===l))return;s=s.return}for(;o!==null;){if(s=An(o),s===null)return;if(u=s.tag,u===5||u===6){r=i=s;continue e}o=o.parentNode}}r=r.return}Sd(function(){var c=i,p=po(n),f=[];e:{var h=qd.get(e);if(h!==void 0){var w=xo,N=e;switch(e){case"keypress":if(Si(n)===0)break e;case"keydown":case"keyup":w=Jh;break;case"focusin":N="focus",w=Fs;break;case"focusout":N="blur",w=Fs;break;case"beforeblur":case"afterblur":w=Fs;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=Pu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=Uh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=em;break;case Yd:case Xd:case Gd:w=Bh;break;case Jd:w=nm;break;case"scroll":w=zh;break;case"wheel":w=lm;break;case"copy":case"cut":case"paste":w=Hh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=Lu}var S=(t&4)!==0,L=!S&&e==="scroll",v=S?h!==null?h+"Capture":null:h;S=[];for(var d=c,g;d!==null;){g=d;var E=g.stateNode;if(g.tag===5&&E!==null&&(g=E,v!==null&&(E=Nl(d,v),E!=null&&S.push(Tl(d,E,g)))),L)break;d=d.return}0<S.length&&(h=new w(h,N,null,n,p),f.push({event:h,listeners:S}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",h&&n!==ya&&(N=n.relatedTarget||n.fromElement)&&(An(N)||N[nn]))break e;if((w||h)&&(h=p.window===p?p:(h=p.ownerDocument)?h.defaultView||h.parentWindow:window,w?(N=n.relatedTarget||n.toElement,w=c,N=N?An(N):null,N!==null&&(L=Zn(N),N!==L||N.tag!==5&&N.tag!==6)&&(N=null)):(w=null,N=c),w!==N)){if(S=Pu,E="onMouseLeave",v="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(S=Lu,E="onPointerLeave",v="onPointerEnter",d="pointer"),L=w==null?h:yr(w),g=N==null?h:yr(N),h=new S(E,d+"leave",w,n,p),h.target=L,h.relatedTarget=g,E=null,An(p)===c&&(S=new S(v,d+"enter",N,n,p),S.target=g,S.relatedTarget=L,E=S),L=E,w&&N)t:{for(S=w,v=N,d=0,g=S;g;g=dr(g))d++;for(g=0,E=v;E;E=dr(E))g++;for(;0<d-g;)S=dr(S),d--;for(;0<g-d;)v=dr(v),g--;for(;d--;){if(S===v||v!==null&&S===v.alternate)break t;S=dr(S),v=dr(v)}S=null}else S=null;w!==null&&$u(f,h,w,S,!1),N!==null&&L!==null&&$u(f,L,N,S,!0)}}e:{if(h=c?yr(c):window,w=h.nodeName&&h.nodeName.toLowerCase(),w==="select"||w==="input"&&h.type==="file")var P=dm;else if(Mu(h))if(Vd)P=mm;else{P=pm;var O=fm}else(w=h.nodeName)&&w.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(P=hm);if(P&&(P=P(e,c))){Bd(f,P,n,p);break e}O&&O(e,h,c),e==="focusout"&&(O=h._wrapperState)&&O.controlled&&h.type==="number"&&pa(h,"number",h.value)}switch(O=c?yr(c):window,e){case"focusin":(Mu(O)||O.contentEditable==="true")&&(vr=O,Ea=c,ml=null);break;case"focusout":ml=Ea=vr=null;break;case"mousedown":Ca=!0;break;case"contextmenu":case"mouseup":case"dragend":Ca=!1,Iu(f,n,p);break;case"selectionchange":if(ym)break;case"keydown":case"keyup":Iu(f,n,p)}var x;if(jo)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else mr?Ad(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(Ud&&n.locale!=="ko"&&(mr||_!=="onCompositionStart"?_==="onCompositionEnd"&&mr&&(x=Id()):(vn=p,yo="value"in vn?vn.value:vn.textContent,mr=!0)),O=Ui(c,_),0<O.length&&(_=new Tu(_,e,null,n,p),f.push({event:_,listeners:O}),x?_.data=x:(x=$d(n),x!==null&&(_.data=x)))),(x=sm?am(e,n):om(e,n))&&(c=Ui(c,"onBeforeInput"),0<c.length&&(p=new Tu("onBeforeInput","beforeinput",null,n,p),f.push({event:p,listeners:c}),p.data=x))}Zd(f,t)})}function Tl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ui(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,i=l.stateNode;l.tag===5&&i!==null&&(l=i,i=Nl(e,n),i!=null&&r.unshift(Tl(e,i,l)),i=Nl(e,t),i!=null&&r.push(Tl(e,i,l))),e=e.return}return r}function dr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function $u(e,t,n,r,l){for(var i=t._reactName,s=[];n!==null&&n!==r;){var o=n,u=o.alternate,c=o.stateNode;if(u!==null&&u===r)break;o.tag===5&&c!==null&&(o=c,l?(u=Nl(n,i),u!=null&&s.unshift(Tl(n,u,o))):l||(u=Nl(n,i),u!=null&&s.push(Tl(n,u,o)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var Nm=/\r\n?/g,Sm=/\u0000|\uFFFD/g;function Bu(e){return(typeof e=="string"?e:""+e).replace(Nm,`
`).replace(Sm,"")}function oi(e,t,n){if(t=Bu(t),Bu(e)!==t&&n)throw Error(D(425))}function Ai(){}var _a=null,Pa=null;function Ta(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var La=typeof setTimeout=="function"?setTimeout:void 0,km=typeof clearTimeout=="function"?clearTimeout:void 0,Vu=typeof Promise=="function"?Promise:void 0,Em=typeof queueMicrotask=="function"?queueMicrotask:typeof Vu<"u"?function(e){return Vu.resolve(null).then(e).catch(Cm)}:La;function Cm(e){setTimeout(function(){throw e})}function Hs(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),El(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);El(t)}function Nn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Hu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Br=Math.random().toString(36).slice(2),$t="__reactFiber$"+Br,Ll="__reactProps$"+Br,nn="__reactContainer$"+Br,Ra="__reactEvents$"+Br,_m="__reactListeners$"+Br,Pm="__reactHandles$"+Br;function An(e){var t=e[$t];if(t)return t;for(var n=e.parentNode;n;){if(t=n[nn]||n[$t]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Hu(e);e!==null;){if(n=e[$t])return n;e=Hu(e)}return t}e=n,n=e.parentNode}return null}function Bl(e){return e=e[$t]||e[nn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function yr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(D(33))}function ds(e){return e[Ll]||null}var Da=[],xr=-1;function Ln(e){return{current:e}}function je(e){0>xr||(e.current=Da[xr],Da[xr]=null,xr--)}function ye(e,t){xr++,Da[xr]=e.current,e.current=t}var Pn={},Ge=Ln(Pn),st=Ln(!1),Wn=Pn;function Dr(e,t){var n=e.type.contextTypes;if(!n)return Pn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},i;for(i in n)l[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function at(e){return e=e.childContextTypes,e!=null}function $i(){je(st),je(Ge)}function Qu(e,t,n){if(Ge.current!==Pn)throw Error(D(168));ye(Ge,t),ye(st,n)}function tf(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(D(108,fh(e)||"Unknown",l));return Te({},n,r)}function Bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Pn,Wn=Ge.current,ye(Ge,e),ye(st,st.current),!0}function Wu(e,t,n){var r=e.stateNode;if(!r)throw Error(D(169));n?(e=tf(e,t,Wn),r.__reactInternalMemoizedMergedChildContext=e,je(st),je(Ge),ye(Ge,e)):je(st),ye(st,n)}var Xt=null,fs=!1,Qs=!1;function nf(e){Xt===null?Xt=[e]:Xt.push(e)}function Tm(e){fs=!0,nf(e)}function Rn(){if(!Qs&&Xt!==null){Qs=!0;var e=0,t=me;try{var n=Xt;for(me=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Xt=null,fs=!1}catch(l){throw Xt!==null&&(Xt=Xt.slice(e+1)),_d(ho,Rn),l}finally{me=t,Qs=!1}}return null}var wr=[],jr=0,Vi=null,Hi=0,wt=[],jt=0,Kn=null,Jt=1,qt="";function Fn(e,t){wr[jr++]=Hi,wr[jr++]=Vi,Vi=e,Hi=t}function rf(e,t,n){wt[jt++]=Jt,wt[jt++]=qt,wt[jt++]=Kn,Kn=e;var r=Jt;e=qt;var l=32-Mt(r)-1;r&=~(1<<l),n+=1;var i=32-Mt(t)+l;if(30<i){var s=l-l%5;i=(r&(1<<s)-1).toString(32),r>>=s,l-=s,Jt=1<<32-Mt(t)+l|n<<l|r,qt=i+e}else Jt=1<<i|n<<l|r,qt=e}function So(e){e.return!==null&&(Fn(e,1),rf(e,1,0))}function ko(e){for(;e===Vi;)Vi=wr[--jr],wr[jr]=null,Hi=wr[--jr],wr[jr]=null;for(;e===Kn;)Kn=wt[--jt],wt[jt]=null,qt=wt[--jt],wt[jt]=null,Jt=wt[--jt],wt[jt]=null}var mt=null,pt=null,Ee=!1,Dt=null;function lf(e,t){var n=Nt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ku(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,mt=e,pt=Nn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,mt=e,pt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Kn!==null?{id:Jt,overflow:qt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Nt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,mt=e,pt=null,!0):!1;default:return!1}}function Ma(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ba(e){if(Ee){var t=pt;if(t){var n=t;if(!Ku(e,t)){if(Ma(e))throw Error(D(418));t=Nn(n.nextSibling);var r=mt;t&&Ku(e,t)?lf(r,n):(e.flags=e.flags&-4097|2,Ee=!1,mt=e)}}else{if(Ma(e))throw Error(D(418));e.flags=e.flags&-4097|2,Ee=!1,mt=e}}}function Yu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;mt=e}function ui(e){if(e!==mt)return!1;if(!Ee)return Yu(e),Ee=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ta(e.type,e.memoizedProps)),t&&(t=pt)){if(Ma(e))throw sf(),Error(D(418));for(;t;)lf(e,t),t=Nn(t.nextSibling)}if(Yu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){pt=Nn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}pt=null}}else pt=mt?Nn(e.stateNode.nextSibling):null;return!0}function sf(){for(var e=pt;e;)e=Nn(e.nextSibling)}function Mr(){pt=mt=null,Ee=!1}function Eo(e){Dt===null?Dt=[e]:Dt.push(e)}var Lm=an.ReactCurrentBatchConfig;function el(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var r=n.stateNode}if(!r)throw Error(D(147,e));var l=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var o=l.refs;s===null?delete o[i]:o[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,e))}return e}function ci(e,t){throw e=Object.prototype.toString.call(t),Error(D(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xu(e){var t=e._init;return t(e._payload)}function af(e){function t(v,d){if(e){var g=v.deletions;g===null?(v.deletions=[d],v.flags|=16):g.push(d)}}function n(v,d){if(!e)return null;for(;d!==null;)t(v,d),d=d.sibling;return null}function r(v,d){for(v=new Map;d!==null;)d.key!==null?v.set(d.key,d):v.set(d.index,d),d=d.sibling;return v}function l(v,d){return v=Cn(v,d),v.index=0,v.sibling=null,v}function i(v,d,g){return v.index=g,e?(g=v.alternate,g!==null?(g=g.index,g<d?(v.flags|=2,d):g):(v.flags|=2,d)):(v.flags|=1048576,d)}function s(v){return e&&v.alternate===null&&(v.flags|=2),v}function o(v,d,g,E){return d===null||d.tag!==6?(d=qs(g,v.mode,E),d.return=v,d):(d=l(d,g),d.return=v,d)}function u(v,d,g,E){var P=g.type;return P===hr?p(v,d,g.props.children,E,g.key):d!==null&&(d.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===fn&&Xu(P)===d.type)?(E=l(d,g.props),E.ref=el(v,d,g),E.return=v,E):(E=Li(g.type,g.key,g.props,null,v.mode,E),E.ref=el(v,d,g),E.return=v,E)}function c(v,d,g,E){return d===null||d.tag!==4||d.stateNode.containerInfo!==g.containerInfo||d.stateNode.implementation!==g.implementation?(d=Zs(g,v.mode,E),d.return=v,d):(d=l(d,g.children||[]),d.return=v,d)}function p(v,d,g,E,P){return d===null||d.tag!==7?(d=Qn(g,v.mode,E,P),d.return=v,d):(d=l(d,g),d.return=v,d)}function f(v,d,g){if(typeof d=="string"&&d!==""||typeof d=="number")return d=qs(""+d,v.mode,g),d.return=v,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Zl:return g=Li(d.type,d.key,d.props,null,v.mode,g),g.ref=el(v,null,d),g.return=v,g;case pr:return d=Zs(d,v.mode,g),d.return=v,d;case fn:var E=d._init;return f(v,E(d._payload),g)}if(al(d)||Xr(d))return d=Qn(d,v.mode,g,null),d.return=v,d;ci(v,d)}return null}function h(v,d,g,E){var P=d!==null?d.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return P!==null?null:o(v,d,""+g,E);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Zl:return g.key===P?u(v,d,g,E):null;case pr:return g.key===P?c(v,d,g,E):null;case fn:return P=g._init,h(v,d,P(g._payload),E)}if(al(g)||Xr(g))return P!==null?null:p(v,d,g,E,null);ci(v,g)}return null}function w(v,d,g,E,P){if(typeof E=="string"&&E!==""||typeof E=="number")return v=v.get(g)||null,o(d,v,""+E,P);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Zl:return v=v.get(E.key===null?g:E.key)||null,u(d,v,E,P);case pr:return v=v.get(E.key===null?g:E.key)||null,c(d,v,E,P);case fn:var O=E._init;return w(v,d,g,O(E._payload),P)}if(al(E)||Xr(E))return v=v.get(g)||null,p(d,v,E,P,null);ci(d,E)}return null}function N(v,d,g,E){for(var P=null,O=null,x=d,_=d=0,U=null;x!==null&&_<g.length;_++){x.index>_?(U=x,x=null):U=x.sibling;var b=h(v,x,g[_],E);if(b===null){x===null&&(x=U);break}e&&x&&b.alternate===null&&t(v,x),d=i(b,d,_),O===null?P=b:O.sibling=b,O=b,x=U}if(_===g.length)return n(v,x),Ee&&Fn(v,_),P;if(x===null){for(;_<g.length;_++)x=f(v,g[_],E),x!==null&&(d=i(x,d,_),O===null?P=x:O.sibling=x,O=x);return Ee&&Fn(v,_),P}for(x=r(v,x);_<g.length;_++)U=w(x,v,_,g[_],E),U!==null&&(e&&U.alternate!==null&&x.delete(U.key===null?_:U.key),d=i(U,d,_),O===null?P=U:O.sibling=U,O=U);return e&&x.forEach(function(I){return t(v,I)}),Ee&&Fn(v,_),P}function S(v,d,g,E){var P=Xr(g);if(typeof P!="function")throw Error(D(150));if(g=P.call(g),g==null)throw Error(D(151));for(var O=P=null,x=d,_=d=0,U=null,b=g.next();x!==null&&!b.done;_++,b=g.next()){x.index>_?(U=x,x=null):U=x.sibling;var I=h(v,x,b.value,E);if(I===null){x===null&&(x=U);break}e&&x&&I.alternate===null&&t(v,x),d=i(I,d,_),O===null?P=I:O.sibling=I,O=I,x=U}if(b.done)return n(v,x),Ee&&Fn(v,_),P;if(x===null){for(;!b.done;_++,b=g.next())b=f(v,b.value,E),b!==null&&(d=i(b,d,_),O===null?P=b:O.sibling=b,O=b);return Ee&&Fn(v,_),P}for(x=r(v,x);!b.done;_++,b=g.next())b=w(x,v,_,b.value,E),b!==null&&(e&&b.alternate!==null&&x.delete(b.key===null?_:b.key),d=i(b,d,_),O===null?P=b:O.sibling=b,O=b);return e&&x.forEach(function(A){return t(v,A)}),Ee&&Fn(v,_),P}function L(v,d,g,E){if(typeof g=="object"&&g!==null&&g.type===hr&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Zl:e:{for(var P=g.key,O=d;O!==null;){if(O.key===P){if(P=g.type,P===hr){if(O.tag===7){n(v,O.sibling),d=l(O,g.props.children),d.return=v,v=d;break e}}else if(O.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===fn&&Xu(P)===O.type){n(v,O.sibling),d=l(O,g.props),d.ref=el(v,O,g),d.return=v,v=d;break e}n(v,O);break}else t(v,O);O=O.sibling}g.type===hr?(d=Qn(g.props.children,v.mode,E,g.key),d.return=v,v=d):(E=Li(g.type,g.key,g.props,null,v.mode,E),E.ref=el(v,d,g),E.return=v,v=E)}return s(v);case pr:e:{for(O=g.key;d!==null;){if(d.key===O)if(d.tag===4&&d.stateNode.containerInfo===g.containerInfo&&d.stateNode.implementation===g.implementation){n(v,d.sibling),d=l(d,g.children||[]),d.return=v,v=d;break e}else{n(v,d);break}else t(v,d);d=d.sibling}d=Zs(g,v.mode,E),d.return=v,v=d}return s(v);case fn:return O=g._init,L(v,d,O(g._payload),E)}if(al(g))return N(v,d,g,E);if(Xr(g))return S(v,d,g,E);ci(v,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,d!==null&&d.tag===6?(n(v,d.sibling),d=l(d,g),d.return=v,v=d):(n(v,d),d=qs(g,v.mode,E),d.return=v,v=d),s(v)):n(v,d)}return L}var br=af(!0),of=af(!1),Qi=Ln(null),Wi=null,Nr=null,Co=null;function _o(){Co=Nr=Wi=null}function Po(e){var t=Qi.current;je(Qi),e._currentValue=t}function Oa(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Tr(e,t){Wi=e,Co=Nr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(it=!0),e.firstContext=null)}function kt(e){var t=e._currentValue;if(Co!==e)if(e={context:e,memoizedValue:t,next:null},Nr===null){if(Wi===null)throw Error(D(308));Nr=e,Wi.dependencies={lanes:0,firstContext:e}}else Nr=Nr.next=e;return t}var $n=null;function To(e){$n===null?$n=[e]:$n.push(e)}function uf(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,To(t)):(n.next=l.next,l.next=n),t.interleaved=n,rn(e,r)}function rn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var pn=!1;function Lo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Zt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Sn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ue&2){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,rn(e,n)}return l=r.interleaved,l===null?(t.next=t,To(r)):(t.next=l.next,l.next=t),r.interleaved=t,rn(e,n)}function ki(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,mo(e,n)}}function Gu(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?l=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?l=i=t:i=i.next=t}else l=i=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ki(e,t,n,r){var l=e.updateQueue;pn=!1;var i=l.firstBaseUpdate,s=l.lastBaseUpdate,o=l.shared.pending;if(o!==null){l.shared.pending=null;var u=o,c=u.next;u.next=null,s===null?i=c:s.next=c,s=u;var p=e.alternate;p!==null&&(p=p.updateQueue,o=p.lastBaseUpdate,o!==s&&(o===null?p.firstBaseUpdate=c:o.next=c,p.lastBaseUpdate=u))}if(i!==null){var f=l.baseState;s=0,p=c=u=null,o=i;do{var h=o.lane,w=o.eventTime;if((r&h)===h){p!==null&&(p=p.next={eventTime:w,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var N=e,S=o;switch(h=t,w=n,S.tag){case 1:if(N=S.payload,typeof N=="function"){f=N.call(w,f,h);break e}f=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=S.payload,h=typeof N=="function"?N.call(w,f,h):N,h==null)break e;f=Te({},f,h);break e;case 2:pn=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=l.effects,h===null?l.effects=[o]:h.push(o))}else w={eventTime:w,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},p===null?(c=p=w,u=f):p=p.next=w,s|=h;if(o=o.next,o===null){if(o=l.shared.pending,o===null)break;h=o,o=h.next,h.next=null,l.lastBaseUpdate=h,l.shared.pending=null}}while(!0);if(p===null&&(u=f),l.baseState=u,l.firstBaseUpdate=c,l.lastBaseUpdate=p,t=l.shared.interleaved,t!==null){l=t;do s|=l.lane,l=l.next;while(l!==t)}else i===null&&(l.shared.lanes=0);Xn|=s,e.lanes=s,e.memoizedState=f}}function Ju(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(D(191,l));l.call(r)}}}var Vl={},Vt=Ln(Vl),Rl=Ln(Vl),Dl=Ln(Vl);function Bn(e){if(e===Vl)throw Error(D(174));return e}function Ro(e,t){switch(ye(Dl,t),ye(Rl,e),ye(Vt,Vl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ma(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ma(t,e)}je(Vt),ye(Vt,t)}function Or(){je(Vt),je(Rl),je(Dl)}function df(e){Bn(Dl.current);var t=Bn(Vt.current),n=ma(t,e.type);t!==n&&(ye(Rl,e),ye(Vt,n))}function Do(e){Rl.current===e&&(je(Vt),je(Rl))}var _e=Ln(0);function Yi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ws=[];function Mo(){for(var e=0;e<Ws.length;e++)Ws[e]._workInProgressVersionPrimary=null;Ws.length=0}var Ei=an.ReactCurrentDispatcher,Ks=an.ReactCurrentBatchConfig,Yn=0,Pe=null,Ue=null,$e=null,Xi=!1,vl=!1,Ml=0,Rm=0;function Ke(){throw Error(D(321))}function bo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ot(e[n],t[n]))return!1;return!0}function Oo(e,t,n,r,l,i){if(Yn=i,Pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ei.current=e===null||e.memoizedState===null?Om:Fm,e=n(r,l),vl){i=0;do{if(vl=!1,Ml=0,25<=i)throw Error(D(301));i+=1,$e=Ue=null,t.updateQueue=null,Ei.current=zm,e=n(r,l)}while(vl)}if(Ei.current=Gi,t=Ue!==null&&Ue.next!==null,Yn=0,$e=Ue=Pe=null,Xi=!1,t)throw Error(D(300));return e}function Fo(){var e=Ml!==0;return Ml=0,e}function At(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?Pe.memoizedState=$e=e:$e=$e.next=e,$e}function Et(){if(Ue===null){var e=Pe.alternate;e=e!==null?e.memoizedState:null}else e=Ue.next;var t=$e===null?Pe.memoizedState:$e.next;if(t!==null)$e=t,Ue=e;else{if(e===null)throw Error(D(310));Ue=e,e={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},$e===null?Pe.memoizedState=$e=e:$e=$e.next=e}return $e}function bl(e,t){return typeof t=="function"?t(e):t}function Ys(e){var t=Et(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var r=Ue,l=r.baseQueue,i=n.pending;if(i!==null){if(l!==null){var s=l.next;l.next=i.next,i.next=s}r.baseQueue=l=i,n.pending=null}if(l!==null){i=l.next,r=r.baseState;var o=s=null,u=null,c=i;do{var p=c.lane;if((Yn&p)===p)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:p,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(o=u=f,s=r):u=u.next=f,Pe.lanes|=p,Xn|=p}c=c.next}while(c!==null&&c!==i);u===null?s=r:u.next=o,Ot(r,t.memoizedState)||(it=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do i=l.lane,Pe.lanes|=i,Xn|=i,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Xs(e){var t=Et(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,i=t.memoizedState;if(l!==null){n.pending=null;var s=l=l.next;do i=e(i,s.action),s=s.next;while(s!==l);Ot(i,t.memoizedState)||(it=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function ff(){}function pf(e,t){var n=Pe,r=Et(),l=t(),i=!Ot(r.memoizedState,l);if(i&&(r.memoizedState=l,it=!0),r=r.queue,zo(vf.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||$e!==null&&$e.memoizedState.tag&1){if(n.flags|=2048,Ol(9,mf.bind(null,n,r,l,t),void 0,null),Be===null)throw Error(D(349));Yn&30||hf(n,t,l)}return l}function hf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Pe.updateQueue,t===null?(t={lastEffect:null,stores:null},Pe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function mf(e,t,n,r){t.value=n,t.getSnapshot=r,gf(t)&&yf(e)}function vf(e,t,n){return n(function(){gf(t)&&yf(e)})}function gf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ot(e,n)}catch{return!0}}function yf(e){var t=rn(e,1);t!==null&&bt(t,e,1,-1)}function qu(e){var t=At();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bl,lastRenderedState:e},t.queue=e,e=e.dispatch=bm.bind(null,Pe,e),[t.memoizedState,e]}function Ol(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Pe.updateQueue,t===null?(t={lastEffect:null,stores:null},Pe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function xf(){return Et().memoizedState}function Ci(e,t,n,r){var l=At();Pe.flags|=e,l.memoizedState=Ol(1|t,n,void 0,r===void 0?null:r)}function ps(e,t,n,r){var l=Et();r=r===void 0?null:r;var i=void 0;if(Ue!==null){var s=Ue.memoizedState;if(i=s.destroy,r!==null&&bo(r,s.deps)){l.memoizedState=Ol(t,n,i,r);return}}Pe.flags|=e,l.memoizedState=Ol(1|t,n,i,r)}function Zu(e,t){return Ci(8390656,8,e,t)}function zo(e,t){return ps(2048,8,e,t)}function wf(e,t){return ps(4,2,e,t)}function jf(e,t){return ps(4,4,e,t)}function Nf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Sf(e,t,n){return n=n!=null?n.concat([e]):null,ps(4,4,Nf.bind(null,t,e),n)}function Io(){}function kf(e,t){var n=Et();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&bo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ef(e,t){var n=Et();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&bo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Cf(e,t,n){return Yn&21?(Ot(n,t)||(n=Ld(),Pe.lanes|=n,Xn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,it=!0),e.memoizedState=n)}function Dm(e,t){var n=me;me=n!==0&&4>n?n:4,e(!0);var r=Ks.transition;Ks.transition={};try{e(!1),t()}finally{me=n,Ks.transition=r}}function _f(){return Et().memoizedState}function Mm(e,t,n){var r=En(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Pf(e))Tf(t,n);else if(n=uf(e,t,n,r),n!==null){var l=Ze();bt(n,e,r,l),Lf(n,t,r)}}function bm(e,t,n){var r=En(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Pf(e))Tf(t,l);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,o=i(s,n);if(l.hasEagerState=!0,l.eagerState=o,Ot(o,s)){var u=t.interleaved;u===null?(l.next=l,To(t)):(l.next=u.next,u.next=l),t.interleaved=l;return}}catch{}finally{}n=uf(e,t,l,r),n!==null&&(l=Ze(),bt(n,e,r,l),Lf(n,t,r))}}function Pf(e){var t=e.alternate;return e===Pe||t!==null&&t===Pe}function Tf(e,t){vl=Xi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Lf(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,mo(e,n)}}var Gi={readContext:kt,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useInsertionEffect:Ke,useLayoutEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useMutableSource:Ke,useSyncExternalStore:Ke,useId:Ke,unstable_isNewReconciler:!1},Om={readContext:kt,useCallback:function(e,t){return At().memoizedState=[e,t===void 0?null:t],e},useContext:kt,useEffect:Zu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ci(4194308,4,Nf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ci(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ci(4,2,e,t)},useMemo:function(e,t){var n=At();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=At();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Mm.bind(null,Pe,e),[r.memoizedState,e]},useRef:function(e){var t=At();return e={current:e},t.memoizedState=e},useState:qu,useDebugValue:Io,useDeferredValue:function(e){return At().memoizedState=e},useTransition:function(){var e=qu(!1),t=e[0];return e=Dm.bind(null,e[1]),At().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Pe,l=At();if(Ee){if(n===void 0)throw Error(D(407));n=n()}else{if(n=t(),Be===null)throw Error(D(349));Yn&30||hf(r,t,n)}l.memoizedState=n;var i={value:n,getSnapshot:t};return l.queue=i,Zu(vf.bind(null,r,i,e),[e]),r.flags|=2048,Ol(9,mf.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=At(),t=Be.identifierPrefix;if(Ee){var n=qt,r=Jt;n=(r&~(1<<32-Mt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ml++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Rm++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Fm={readContext:kt,useCallback:kf,useContext:kt,useEffect:zo,useImperativeHandle:Sf,useInsertionEffect:wf,useLayoutEffect:jf,useMemo:Ef,useReducer:Ys,useRef:xf,useState:function(){return Ys(bl)},useDebugValue:Io,useDeferredValue:function(e){var t=Et();return Cf(t,Ue.memoizedState,e)},useTransition:function(){var e=Ys(bl)[0],t=Et().memoizedState;return[e,t]},useMutableSource:ff,useSyncExternalStore:pf,useId:_f,unstable_isNewReconciler:!1},zm={readContext:kt,useCallback:kf,useContext:kt,useEffect:zo,useImperativeHandle:Sf,useInsertionEffect:wf,useLayoutEffect:jf,useMemo:Ef,useReducer:Xs,useRef:xf,useState:function(){return Xs(bl)},useDebugValue:Io,useDeferredValue:function(e){var t=Et();return Ue===null?t.memoizedState=e:Cf(t,Ue.memoizedState,e)},useTransition:function(){var e=Xs(bl)[0],t=Et().memoizedState;return[e,t]},useMutableSource:ff,useSyncExternalStore:pf,useId:_f,unstable_isNewReconciler:!1};function Tt(e,t){if(e&&e.defaultProps){t=Te({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Fa(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Te({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var hs={isMounted:function(e){return(e=e._reactInternals)?Zn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ze(),l=En(e),i=Zt(r,l);i.payload=t,n!=null&&(i.callback=n),t=Sn(e,i,l),t!==null&&(bt(t,e,l,r),ki(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ze(),l=En(e),i=Zt(r,l);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Sn(e,i,l),t!==null&&(bt(t,e,l,r),ki(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ze(),r=En(e),l=Zt(n,r);l.tag=2,t!=null&&(l.callback=t),t=Sn(e,l,r),t!==null&&(bt(t,e,r,n),ki(t,e,r))}};function ec(e,t,n,r,l,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,s):t.prototype&&t.prototype.isPureReactComponent?!_l(n,r)||!_l(l,i):!0}function Rf(e,t,n){var r=!1,l=Pn,i=t.contextType;return typeof i=="object"&&i!==null?i=kt(i):(l=at(t)?Wn:Ge.current,r=t.contextTypes,i=(r=r!=null)?Dr(e,l):Pn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=hs,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=i),t}function tc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&hs.enqueueReplaceState(t,t.state,null)}function za(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},Lo(e);var i=t.contextType;typeof i=="object"&&i!==null?l.context=kt(i):(i=at(t)?Wn:Ge.current,l.context=Dr(e,i)),l.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Fa(e,t,i,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&hs.enqueueReplaceState(l,l.state,null),Ki(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Fr(e,t){try{var n="",r=t;do n+=dh(r),r=r.return;while(r);var l=n}catch(i){l=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:l,digest:null}}function Gs(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ia(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Im=typeof WeakMap=="function"?WeakMap:Map;function Df(e,t,n){n=Zt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){qi||(qi=!0,Ya=r),Ia(e,t)},n}function Mf(e,t,n){n=Zt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){Ia(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ia(e,t),typeof r!="function"&&(kn===null?kn=new Set([this]):kn.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function nc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Im;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=qm.bind(null,e,t,n),t.then(e,e))}function rc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function lc(e,t,n,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Zt(-1,1),t.tag=2,Sn(n,t,1))),n.lanes|=1),e)}var Um=an.ReactCurrentOwner,it=!1;function qe(e,t,n,r){t.child=e===null?of(t,null,n,r):br(t,e.child,n,r)}function ic(e,t,n,r,l){n=n.render;var i=t.ref;return Tr(t,l),r=Oo(e,t,n,r,i,l),n=Fo(),e!==null&&!it?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,ln(e,t,l)):(Ee&&n&&So(t),t.flags|=1,qe(e,t,r,l),t.child)}function sc(e,t,n,r,l){if(e===null){var i=n.type;return typeof i=="function"&&!Wo(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,bf(e,t,i,r,l)):(e=Li(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&l)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:_l,n(s,r)&&e.ref===t.ref)return ln(e,t,l)}return t.flags|=1,e=Cn(i,r),e.ref=t.ref,e.return=t,t.child=e}function bf(e,t,n,r,l){if(e!==null){var i=e.memoizedProps;if(_l(i,r)&&e.ref===t.ref)if(it=!1,t.pendingProps=r=i,(e.lanes&l)!==0)e.flags&131072&&(it=!0);else return t.lanes=e.lanes,ln(e,t,l)}return Ua(e,t,n,r,l)}function Of(e,t,n){var r=t.pendingProps,l=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(kr,dt),dt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ye(kr,dt),dt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ye(kr,dt),dt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ye(kr,dt),dt|=r;return qe(e,t,l,n),t.child}function Ff(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ua(e,t,n,r,l){var i=at(n)?Wn:Ge.current;return i=Dr(t,i),Tr(t,l),n=Oo(e,t,n,r,i,l),r=Fo(),e!==null&&!it?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,ln(e,t,l)):(Ee&&r&&So(t),t.flags|=1,qe(e,t,n,l),t.child)}function ac(e,t,n,r,l){if(at(n)){var i=!0;Bi(t)}else i=!1;if(Tr(t,l),t.stateNode===null)_i(e,t),Rf(t,n,r),za(t,n,r,l),r=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var u=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=kt(c):(c=at(n)?Wn:Ge.current,c=Dr(t,c));var p=n.getDerivedStateFromProps,f=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==r||u!==c)&&tc(t,s,r,c),pn=!1;var h=t.memoizedState;s.state=h,Ki(t,r,s,l),u=t.memoizedState,o!==r||h!==u||st.current||pn?(typeof p=="function"&&(Fa(t,n,p,r),u=t.memoizedState),(o=pn||ec(t,n,o,r,h,u,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),s.props=r,s.state=u,s.context=c,r=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,cf(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:Tt(t.type,o),s.props=c,f=t.pendingProps,h=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=kt(u):(u=at(n)?Wn:Ge.current,u=Dr(t,u));var w=n.getDerivedStateFromProps;(p=typeof w=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==u)&&tc(t,s,r,u),pn=!1,h=t.memoizedState,s.state=h,Ki(t,r,s,l);var N=t.memoizedState;o!==f||h!==N||st.current||pn?(typeof w=="function"&&(Fa(t,n,w,r),N=t.memoizedState),(c=pn||ec(t,n,c,r,h,N,u)||!1)?(p||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,N,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,N,u)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=N),s.props=r,s.state=N,s.context=u,r=c):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Aa(e,t,n,r,i,l)}function Aa(e,t,n,r,l,i){Ff(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return l&&Wu(t,n,!1),ln(e,t,i);r=t.stateNode,Um.current=t;var o=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=br(t,e.child,null,i),t.child=br(t,null,o,i)):qe(e,t,o,i),t.memoizedState=r.state,l&&Wu(t,n,!0),t.child}function zf(e){var t=e.stateNode;t.pendingContext?Qu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Qu(e,t.context,!1),Ro(e,t.containerInfo)}function oc(e,t,n,r,l){return Mr(),Eo(l),t.flags|=256,qe(e,t,n,r),t.child}var $a={dehydrated:null,treeContext:null,retryLane:0};function Ba(e){return{baseLanes:e,cachePool:null,transitions:null}}function If(e,t,n){var r=t.pendingProps,l=_e.current,i=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(l&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),ye(_e,l&1),e===null)return ba(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,i?(r=t.mode,i=t.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=gs(s,r,0,null),e=Qn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Ba(n),t.memoizedState=$a,e):Uo(t,s));if(l=e.memoizedState,l!==null&&(o=l.dehydrated,o!==null))return Am(e,t,s,r,o,l,n);if(i){i=r.fallback,s=t.mode,l=e.child,o=l.sibling;var u={mode:"hidden",children:r.children};return!(s&1)&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Cn(l,u),r.subtreeFlags=l.subtreeFlags&14680064),o!==null?i=Cn(o,i):(i=Qn(i,s,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,s=e.child.memoizedState,s=s===null?Ba(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~n,t.memoizedState=$a,r}return i=e.child,e=i.sibling,r=Cn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Uo(e,t){return t=gs({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function di(e,t,n,r){return r!==null&&Eo(r),br(t,e.child,null,n),e=Uo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Am(e,t,n,r,l,i,s){if(n)return t.flags&256?(t.flags&=-257,r=Gs(Error(D(422))),di(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,l=t.mode,r=gs({mode:"visible",children:r.children},l,0,null),i=Qn(i,l,s,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&br(t,e.child,null,s),t.child.memoizedState=Ba(s),t.memoizedState=$a,i);if(!(t.mode&1))return di(e,t,s,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(D(419)),r=Gs(i,r,void 0),di(e,t,s,r)}if(o=(s&e.childLanes)!==0,it||o){if(r=Be,r!==null){switch(s&-s){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|s)?0:l,l!==0&&l!==i.retryLane&&(i.retryLane=l,rn(e,l),bt(r,e,l,-1))}return Qo(),r=Gs(Error(D(421))),di(e,t,s,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Zm.bind(null,e),l._reactRetry=t,null):(e=i.treeContext,pt=Nn(l.nextSibling),mt=t,Ee=!0,Dt=null,e!==null&&(wt[jt++]=Jt,wt[jt++]=qt,wt[jt++]=Kn,Jt=e.id,qt=e.overflow,Kn=t),t=Uo(t,r.children),t.flags|=4096,t)}function uc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Oa(e.return,t,n)}function Js(e,t,n,r,l){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=l)}function Uf(e,t,n){var r=t.pendingProps,l=r.revealOrder,i=r.tail;if(qe(e,t,r.children,n),r=_e.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&uc(e,n,t);else if(e.tag===19)uc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ye(_e,r),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Yi(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Js(t,!1,l,n,i);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Yi(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Js(t,!0,n,null,i);break;case"together":Js(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function _i(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ln(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Xn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(D(153));if(t.child!==null){for(e=t.child,n=Cn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Cn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function $m(e,t,n){switch(t.tag){case 3:zf(t),Mr();break;case 5:df(t);break;case 1:at(t.type)&&Bi(t);break;case 4:Ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;ye(Qi,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ye(_e,_e.current&1),t.flags|=128,null):n&t.child.childLanes?If(e,t,n):(ye(_e,_e.current&1),e=ln(e,t,n),e!==null?e.sibling:null);ye(_e,_e.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Uf(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),ye(_e,_e.current),r)break;return null;case 22:case 23:return t.lanes=0,Of(e,t,n)}return ln(e,t,n)}var Af,Va,$f,Bf;Af=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Va=function(){};$f=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,Bn(Vt.current);var i=null;switch(n){case"input":l=da(e,l),r=da(e,r),i=[];break;case"select":l=Te({},l,{value:void 0}),r=Te({},r,{value:void 0}),i=[];break;case"textarea":l=ha(e,l),r=ha(e,r),i=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ai)}va(n,r);var s;n=null;for(c in l)if(!r.hasOwnProperty(c)&&l.hasOwnProperty(c)&&l[c]!=null)if(c==="style"){var o=l[c];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(wl.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(o=l!=null?l[c]:void 0,r.hasOwnProperty(c)&&u!==o&&(u!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&o[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(i||(i=[]),i.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,o=o?o.__html:void 0,u!=null&&o!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(wl.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&we("scroll",e),i||o===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};Bf=function(e,t,n,r){n!==r&&(t.flags|=4)};function tl(e,t){if(!Ee)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ye(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Bm(e,t,n){var r=t.pendingProps;switch(ko(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(t),null;case 1:return at(t.type)&&$i(),Ye(t),null;case 3:return r=t.stateNode,Or(),je(st),je(Ge),Mo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ui(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Dt!==null&&(Ja(Dt),Dt=null))),Va(e,t),Ye(t),null;case 5:Do(t);var l=Bn(Dl.current);if(n=t.type,e!==null&&t.stateNode!=null)$f(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(D(166));return Ye(t),null}if(e=Bn(Vt.current),ui(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[$t]=t,r[Ll]=i,e=(t.mode&1)!==0,n){case"dialog":we("cancel",r),we("close",r);break;case"iframe":case"object":case"embed":we("load",r);break;case"video":case"audio":for(l=0;l<ul.length;l++)we(ul[l],r);break;case"source":we("error",r);break;case"img":case"image":case"link":we("error",r),we("load",r);break;case"details":we("toggle",r);break;case"input":yu(r,i),we("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},we("invalid",r);break;case"textarea":wu(r,i),we("invalid",r)}va(n,i),l=null;for(var s in i)if(i.hasOwnProperty(s)){var o=i[s];s==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&oi(r.textContent,o,e),l=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&oi(r.textContent,o,e),l=["children",""+o]):wl.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&we("scroll",r)}switch(n){case"input":ei(r),xu(r,i,!0);break;case"textarea":ei(r),ju(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ai)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=md(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[$t]=t,e[Ll]=r,Af(e,t,!1,!1),t.stateNode=e;e:{switch(s=ga(n,r),n){case"dialog":we("cancel",e),we("close",e),l=r;break;case"iframe":case"object":case"embed":we("load",e),l=r;break;case"video":case"audio":for(l=0;l<ul.length;l++)we(ul[l],e);l=r;break;case"source":we("error",e),l=r;break;case"img":case"image":case"link":we("error",e),we("load",e),l=r;break;case"details":we("toggle",e),l=r;break;case"input":yu(e,r),l=da(e,r),we("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=Te({},r,{value:void 0}),we("invalid",e);break;case"textarea":wu(e,r),l=ha(e,r),we("invalid",e);break;default:l=r}va(n,l),o=l;for(i in o)if(o.hasOwnProperty(i)){var u=o[i];i==="style"?yd(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&vd(e,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&jl(e,u):typeof u=="number"&&jl(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(wl.hasOwnProperty(i)?u!=null&&i==="onScroll"&&we("scroll",e):u!=null&&oo(e,i,u,s))}switch(n){case"input":ei(e),xu(e,r,!1);break;case"textarea":ei(e),ju(e);break;case"option":r.value!=null&&e.setAttribute("value",""+_n(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Er(e,!!r.multiple,i,!1):r.defaultValue!=null&&Er(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Ai)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ye(t),null;case 6:if(e&&t.stateNode!=null)Bf(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(D(166));if(n=Bn(Dl.current),Bn(Vt.current),ui(t)){if(r=t.stateNode,n=t.memoizedProps,r[$t]=t,(i=r.nodeValue!==n)&&(e=mt,e!==null))switch(e.tag){case 3:oi(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&oi(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[$t]=t,t.stateNode=r}return Ye(t),null;case 13:if(je(_e),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ee&&pt!==null&&t.mode&1&&!(t.flags&128))sf(),Mr(),t.flags|=98560,i=!1;else if(i=ui(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(D(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(D(317));i[$t]=t}else Mr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ye(t),i=!1}else Dt!==null&&(Ja(Dt),Dt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||_e.current&1?Ae===0&&(Ae=3):Qo())),t.updateQueue!==null&&(t.flags|=4),Ye(t),null);case 4:return Or(),Va(e,t),e===null&&Pl(t.stateNode.containerInfo),Ye(t),null;case 10:return Po(t.type._context),Ye(t),null;case 17:return at(t.type)&&$i(),Ye(t),null;case 19:if(je(_e),i=t.memoizedState,i===null)return Ye(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)tl(i,!1);else{if(Ae!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Yi(e),s!==null){for(t.flags|=128,tl(i,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ye(_e,_e.current&1|2),t.child}e=e.sibling}i.tail!==null&&Oe()>zr&&(t.flags|=128,r=!0,tl(i,!1),t.lanes=4194304)}else{if(!r)if(e=Yi(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),tl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Ee)return Ye(t),null}else 2*Oe()-i.renderingStartTime>zr&&n!==1073741824&&(t.flags|=128,r=!0,tl(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(n=i.last,n!==null?n.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Oe(),t.sibling=null,n=_e.current,ye(_e,r?n&1|2:n&1),t):(Ye(t),null);case 22:case 23:return Ho(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?dt&1073741824&&(Ye(t),t.subtreeFlags&6&&(t.flags|=8192)):Ye(t),null;case 24:return null;case 25:return null}throw Error(D(156,t.tag))}function Vm(e,t){switch(ko(t),t.tag){case 1:return at(t.type)&&$i(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Or(),je(st),je(Ge),Mo(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Do(t),null;case 13:if(je(_e),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(D(340));Mr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return je(_e),null;case 4:return Or(),null;case 10:return Po(t.type._context),null;case 22:case 23:return Ho(),null;case 24:return null;default:return null}}var fi=!1,Xe=!1,Hm=typeof WeakSet=="function"?WeakSet:Set,$=null;function Sr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Me(e,t,r)}else n.current=null}function Ha(e,t,n){try{n()}catch(r){Me(e,t,r)}}var cc=!1;function Qm(e,t){if(_a=zi,e=Wd(),No(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,o=-1,u=-1,c=0,p=0,f=e,h=null;t:for(;;){for(var w;f!==n||l!==0&&f.nodeType!==3||(o=s+l),f!==i||r!==0&&f.nodeType!==3||(u=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(w=f.firstChild)!==null;)h=f,f=w;for(;;){if(f===e)break t;if(h===n&&++c===l&&(o=s),h===i&&++p===r&&(u=s),(w=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=w}n=o===-1||u===-1?null:{start:o,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Pa={focusedElem:e,selectionRange:n},zi=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var N=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(N!==null){var S=N.memoizedProps,L=N.memoizedState,v=t.stateNode,d=v.getSnapshotBeforeUpdate(t.elementType===t.type?S:Tt(t.type,S),L);v.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(E){Me(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return N=cc,cc=!1,N}function gl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var i=l.destroy;l.destroy=void 0,i!==void 0&&Ha(t,n,i)}l=l.next}while(l!==r)}}function ms(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Qa(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Vf(e){var t=e.alternate;t!==null&&(e.alternate=null,Vf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[$t],delete t[Ll],delete t[Ra],delete t[_m],delete t[Pm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Hf(e){return e.tag===5||e.tag===3||e.tag===4}function dc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Hf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wa(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ai));else if(r!==4&&(e=e.child,e!==null))for(Wa(e,t,n),e=e.sibling;e!==null;)Wa(e,t,n),e=e.sibling}function Ka(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ka(e,t,n),e=e.sibling;e!==null;)Ka(e,t,n),e=e.sibling}var He=null,Lt=!1;function cn(e,t,n){for(n=n.child;n!==null;)Qf(e,t,n),n=n.sibling}function Qf(e,t,n){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(as,n)}catch{}switch(n.tag){case 5:Xe||Sr(n,t);case 6:var r=He,l=Lt;He=null,cn(e,t,n),He=r,Lt=l,He!==null&&(Lt?(e=He,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):He.removeChild(n.stateNode));break;case 18:He!==null&&(Lt?(e=He,n=n.stateNode,e.nodeType===8?Hs(e.parentNode,n):e.nodeType===1&&Hs(e,n),El(e)):Hs(He,n.stateNode));break;case 4:r=He,l=Lt,He=n.stateNode.containerInfo,Lt=!0,cn(e,t,n),He=r,Lt=l;break;case 0:case 11:case 14:case 15:if(!Xe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var i=l,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&Ha(n,t,s),l=l.next}while(l!==r)}cn(e,t,n);break;case 1:if(!Xe&&(Sr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Me(n,t,o)}cn(e,t,n);break;case 21:cn(e,t,n);break;case 22:n.mode&1?(Xe=(r=Xe)||n.memoizedState!==null,cn(e,t,n),Xe=r):cn(e,t,n);break;default:cn(e,t,n)}}function fc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Hm),t.forEach(function(r){var l=ev.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function Pt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var i=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:He=o.stateNode,Lt=!1;break e;case 3:He=o.stateNode.containerInfo,Lt=!0;break e;case 4:He=o.stateNode.containerInfo,Lt=!0;break e}o=o.return}if(He===null)throw Error(D(160));Qf(i,s,l),He=null,Lt=!1;var u=l.alternate;u!==null&&(u.return=null),l.return=null}catch(c){Me(l,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Wf(t,e),t=t.sibling}function Wf(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Pt(t,e),It(e),r&4){try{gl(3,e,e.return),ms(3,e)}catch(S){Me(e,e.return,S)}try{gl(5,e,e.return)}catch(S){Me(e,e.return,S)}}break;case 1:Pt(t,e),It(e),r&512&&n!==null&&Sr(n,n.return);break;case 5:if(Pt(t,e),It(e),r&512&&n!==null&&Sr(n,n.return),e.flags&32){var l=e.stateNode;try{jl(l,"")}catch(S){Me(e,e.return,S)}}if(r&4&&(l=e.stateNode,l!=null)){var i=e.memoizedProps,s=n!==null?n.memoizedProps:i,o=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&pd(l,i),ga(o,s);var c=ga(o,i);for(s=0;s<u.length;s+=2){var p=u[s],f=u[s+1];p==="style"?yd(l,f):p==="dangerouslySetInnerHTML"?vd(l,f):p==="children"?jl(l,f):oo(l,p,f,c)}switch(o){case"input":fa(l,i);break;case"textarea":hd(l,i);break;case"select":var h=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!i.multiple;var w=i.value;w!=null?Er(l,!!i.multiple,w,!1):h!==!!i.multiple&&(i.defaultValue!=null?Er(l,!!i.multiple,i.defaultValue,!0):Er(l,!!i.multiple,i.multiple?[]:"",!1))}l[Ll]=i}catch(S){Me(e,e.return,S)}}break;case 6:if(Pt(t,e),It(e),r&4){if(e.stateNode===null)throw Error(D(162));l=e.stateNode,i=e.memoizedProps;try{l.nodeValue=i}catch(S){Me(e,e.return,S)}}break;case 3:if(Pt(t,e),It(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{El(t.containerInfo)}catch(S){Me(e,e.return,S)}break;case 4:Pt(t,e),It(e);break;case 13:Pt(t,e),It(e),l=e.child,l.flags&8192&&(i=l.memoizedState!==null,l.stateNode.isHidden=i,!i||l.alternate!==null&&l.alternate.memoizedState!==null||(Bo=Oe())),r&4&&fc(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(Xe=(c=Xe)||p,Pt(t,e),Xe=c):Pt(t,e),It(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!p&&e.mode&1)for($=e,p=e.child;p!==null;){for(f=$=p;$!==null;){switch(h=$,w=h.child,h.tag){case 0:case 11:case 14:case 15:gl(4,h,h.return);break;case 1:Sr(h,h.return);var N=h.stateNode;if(typeof N.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,N.props=t.memoizedProps,N.state=t.memoizedState,N.componentWillUnmount()}catch(S){Me(r,n,S)}}break;case 5:Sr(h,h.return);break;case 22:if(h.memoizedState!==null){hc(f);continue}}w!==null?(w.return=h,$=w):hc(f)}p=p.sibling}e:for(p=null,f=e;;){if(f.tag===5){if(p===null){p=f;try{l=f.stateNode,c?(i=l.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,u=f.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,o.style.display=gd("display",s))}catch(S){Me(e,e.return,S)}}}else if(f.tag===6){if(p===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(S){Me(e,e.return,S)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;p===f&&(p=null),f=f.return}p===f&&(p=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Pt(t,e),It(e),r&4&&fc(e);break;case 21:break;default:Pt(t,e),It(e)}}function It(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Hf(n)){var r=n;break e}n=n.return}throw Error(D(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(jl(l,""),r.flags&=-33);var i=dc(e);Ka(e,i,l);break;case 3:case 4:var s=r.stateNode.containerInfo,o=dc(e);Wa(e,o,s);break;default:throw Error(D(161))}}catch(u){Me(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Wm(e,t,n){$=e,Kf(e)}function Kf(e,t,n){for(var r=(e.mode&1)!==0;$!==null;){var l=$,i=l.child;if(l.tag===22&&r){var s=l.memoizedState!==null||fi;if(!s){var o=l.alternate,u=o!==null&&o.memoizedState!==null||Xe;o=fi;var c=Xe;if(fi=s,(Xe=u)&&!c)for($=l;$!==null;)s=$,u=s.child,s.tag===22&&s.memoizedState!==null?mc(l):u!==null?(u.return=s,$=u):mc(l);for(;i!==null;)$=i,Kf(i),i=i.sibling;$=l,fi=o,Xe=c}pc(e)}else l.subtreeFlags&8772&&i!==null?(i.return=l,$=i):pc(e)}}function pc(e){for(;$!==null;){var t=$;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Xe||ms(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Xe)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:Tt(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Ju(t,i,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ju(t,s,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var p=c.memoizedState;if(p!==null){var f=p.dehydrated;f!==null&&El(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}Xe||t.flags&512&&Qa(t)}catch(h){Me(t,t.return,h)}}if(t===e){$=null;break}if(n=t.sibling,n!==null){n.return=t.return,$=n;break}$=t.return}}function hc(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var n=t.sibling;if(n!==null){n.return=t.return,$=n;break}$=t.return}}function mc(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ms(4,t)}catch(u){Me(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(u){Me(t,l,u)}}var i=t.return;try{Qa(t)}catch(u){Me(t,i,u)}break;case 5:var s=t.return;try{Qa(t)}catch(u){Me(t,s,u)}}}catch(u){Me(t,t.return,u)}if(t===e){$=null;break}var o=t.sibling;if(o!==null){o.return=t.return,$=o;break}$=t.return}}var Km=Math.ceil,Ji=an.ReactCurrentDispatcher,Ao=an.ReactCurrentOwner,St=an.ReactCurrentBatchConfig,ue=0,Be=null,Ie=null,Qe=0,dt=0,kr=Ln(0),Ae=0,Fl=null,Xn=0,vs=0,$o=0,yl=null,lt=null,Bo=0,zr=1/0,Yt=null,qi=!1,Ya=null,kn=null,pi=!1,gn=null,Zi=0,xl=0,Xa=null,Pi=-1,Ti=0;function Ze(){return ue&6?Oe():Pi!==-1?Pi:Pi=Oe()}function En(e){return e.mode&1?ue&2&&Qe!==0?Qe&-Qe:Lm.transition!==null?(Ti===0&&(Ti=Ld()),Ti):(e=me,e!==0||(e=window.event,e=e===void 0?16:zd(e.type)),e):1}function bt(e,t,n,r){if(50<xl)throw xl=0,Xa=null,Error(D(185));Al(e,n,r),(!(ue&2)||e!==Be)&&(e===Be&&(!(ue&2)&&(vs|=n),Ae===4&&mn(e,Qe)),ot(e,r),n===1&&ue===0&&!(t.mode&1)&&(zr=Oe()+500,fs&&Rn()))}function ot(e,t){var n=e.callbackNode;Lh(e,t);var r=Fi(e,e===Be?Qe:0);if(r===0)n!==null&&ku(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ku(n),t===1)e.tag===0?Tm(vc.bind(null,e)):nf(vc.bind(null,e)),Em(function(){!(ue&6)&&Rn()}),n=null;else{switch(Rd(r)){case 1:n=ho;break;case 4:n=Pd;break;case 16:n=Oi;break;case 536870912:n=Td;break;default:n=Oi}n=tp(n,Yf.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Yf(e,t){if(Pi=-1,Ti=0,ue&6)throw Error(D(327));var n=e.callbackNode;if(Lr()&&e.callbackNode!==n)return null;var r=Fi(e,e===Be?Qe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=es(e,r);else{t=r;var l=ue;ue|=2;var i=Gf();(Be!==e||Qe!==t)&&(Yt=null,zr=Oe()+500,Hn(e,t));do try{Gm();break}catch(o){Xf(e,o)}while(!0);_o(),Ji.current=i,ue=l,Ie!==null?t=0:(Be=null,Qe=0,t=Ae)}if(t!==0){if(t===2&&(l=Na(e),l!==0&&(r=l,t=Ga(e,l))),t===1)throw n=Fl,Hn(e,0),mn(e,r),ot(e,Oe()),n;if(t===6)mn(e,r);else{if(l=e.current.alternate,!(r&30)&&!Ym(l)&&(t=es(e,r),t===2&&(i=Na(e),i!==0&&(r=i,t=Ga(e,i))),t===1))throw n=Fl,Hn(e,0),mn(e,r),ot(e,Oe()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(D(345));case 2:zn(e,lt,Yt);break;case 3:if(mn(e,r),(r&130023424)===r&&(t=Bo+500-Oe(),10<t)){if(Fi(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){Ze(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=La(zn.bind(null,e,lt,Yt),t);break}zn(e,lt,Yt);break;case 4:if(mn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var s=31-Mt(r);i=1<<s,s=t[s],s>l&&(l=s),r&=~i}if(r=l,r=Oe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Km(r/1960))-r,10<r){e.timeoutHandle=La(zn.bind(null,e,lt,Yt),r);break}zn(e,lt,Yt);break;case 5:zn(e,lt,Yt);break;default:throw Error(D(329))}}}return ot(e,Oe()),e.callbackNode===n?Yf.bind(null,e):null}function Ga(e,t){var n=yl;return e.current.memoizedState.isDehydrated&&(Hn(e,t).flags|=256),e=es(e,t),e!==2&&(t=lt,lt=n,t!==null&&Ja(t)),e}function Ja(e){lt===null?lt=e:lt.push.apply(lt,e)}function Ym(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],i=l.getSnapshot;l=l.value;try{if(!Ot(i(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function mn(e,t){for(t&=~$o,t&=~vs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Mt(t),r=1<<n;e[n]=-1,t&=~r}}function vc(e){if(ue&6)throw Error(D(327));Lr();var t=Fi(e,0);if(!(t&1))return ot(e,Oe()),null;var n=es(e,t);if(e.tag!==0&&n===2){var r=Na(e);r!==0&&(t=r,n=Ga(e,r))}if(n===1)throw n=Fl,Hn(e,0),mn(e,t),ot(e,Oe()),n;if(n===6)throw Error(D(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,zn(e,lt,Yt),ot(e,Oe()),null}function Vo(e,t){var n=ue;ue|=1;try{return e(t)}finally{ue=n,ue===0&&(zr=Oe()+500,fs&&Rn())}}function Gn(e){gn!==null&&gn.tag===0&&!(ue&6)&&Lr();var t=ue;ue|=1;var n=St.transition,r=me;try{if(St.transition=null,me=1,e)return e()}finally{me=r,St.transition=n,ue=t,!(ue&6)&&Rn()}}function Ho(){dt=kr.current,je(kr)}function Hn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,km(n)),Ie!==null)for(n=Ie.return;n!==null;){var r=n;switch(ko(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&$i();break;case 3:Or(),je(st),je(Ge),Mo();break;case 5:Do(r);break;case 4:Or();break;case 13:je(_e);break;case 19:je(_e);break;case 10:Po(r.type._context);break;case 22:case 23:Ho()}n=n.return}if(Be=e,Ie=e=Cn(e.current,null),Qe=dt=t,Ae=0,Fl=null,$o=vs=Xn=0,lt=yl=null,$n!==null){for(t=0;t<$n.length;t++)if(n=$n[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=l,r.next=s}n.pending=r}$n=null}return e}function Xf(e,t){do{var n=Ie;try{if(_o(),Ei.current=Gi,Xi){for(var r=Pe.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}Xi=!1}if(Yn=0,$e=Ue=Pe=null,vl=!1,Ml=0,Ao.current=null,n===null||n.return===null){Ae=1,Fl=t,Ie=null;break}e:{var i=e,s=n.return,o=n,u=t;if(t=Qe,o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,p=o,f=p.tag;if(!(p.mode&1)&&(f===0||f===11||f===15)){var h=p.alternate;h?(p.updateQueue=h.updateQueue,p.memoizedState=h.memoizedState,p.lanes=h.lanes):(p.updateQueue=null,p.memoizedState=null)}var w=rc(s);if(w!==null){w.flags&=-257,lc(w,s,o,i,t),w.mode&1&&nc(i,c,t),t=w,u=c;var N=t.updateQueue;if(N===null){var S=new Set;S.add(u),t.updateQueue=S}else N.add(u);break e}else{if(!(t&1)){nc(i,c,t),Qo();break e}u=Error(D(426))}}else if(Ee&&o.mode&1){var L=rc(s);if(L!==null){!(L.flags&65536)&&(L.flags|=256),lc(L,s,o,i,t),Eo(Fr(u,o));break e}}i=u=Fr(u,o),Ae!==4&&(Ae=2),yl===null?yl=[i]:yl.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=Df(i,u,t);Gu(i,v);break e;case 1:o=u;var d=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof d.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(kn===null||!kn.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var E=Mf(i,o,t);Gu(i,E);break e}}i=i.return}while(i!==null)}qf(n)}catch(P){t=P,Ie===n&&n!==null&&(Ie=n=n.return);continue}break}while(!0)}function Gf(){var e=Ji.current;return Ji.current=Gi,e===null?Gi:e}function Qo(){(Ae===0||Ae===3||Ae===2)&&(Ae=4),Be===null||!(Xn&268435455)&&!(vs&268435455)||mn(Be,Qe)}function es(e,t){var n=ue;ue|=2;var r=Gf();(Be!==e||Qe!==t)&&(Yt=null,Hn(e,t));do try{Xm();break}catch(l){Xf(e,l)}while(!0);if(_o(),ue=n,Ji.current=r,Ie!==null)throw Error(D(261));return Be=null,Qe=0,Ae}function Xm(){for(;Ie!==null;)Jf(Ie)}function Gm(){for(;Ie!==null&&!jh();)Jf(Ie)}function Jf(e){var t=ep(e.alternate,e,dt);e.memoizedProps=e.pendingProps,t===null?qf(e):Ie=t,Ao.current=null}function qf(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Vm(n,t),n!==null){n.flags&=32767,Ie=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ae=6,Ie=null;return}}else if(n=Bm(n,t,dt),n!==null){Ie=n;return}if(t=t.sibling,t!==null){Ie=t;return}Ie=t=e}while(t!==null);Ae===0&&(Ae=5)}function zn(e,t,n){var r=me,l=St.transition;try{St.transition=null,me=1,Jm(e,t,n,r)}finally{St.transition=l,me=r}return null}function Jm(e,t,n,r){do Lr();while(gn!==null);if(ue&6)throw Error(D(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(D(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Rh(e,i),e===Be&&(Ie=Be=null,Qe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||pi||(pi=!0,tp(Oi,function(){return Lr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=St.transition,St.transition=null;var s=me;me=1;var o=ue;ue|=4,Ao.current=null,Qm(e,n),Wf(n,e),gm(Pa),zi=!!_a,Pa=_a=null,e.current=n,Wm(n),Nh(),ue=o,me=s,St.transition=i}else e.current=n;if(pi&&(pi=!1,gn=e,Zi=l),i=e.pendingLanes,i===0&&(kn=null),Eh(n.stateNode),ot(e,Oe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(qi)throw qi=!1,e=Ya,Ya=null,e;return Zi&1&&e.tag!==0&&Lr(),i=e.pendingLanes,i&1?e===Xa?xl++:(xl=0,Xa=e):xl=0,Rn(),null}function Lr(){if(gn!==null){var e=Rd(Zi),t=St.transition,n=me;try{if(St.transition=null,me=16>e?16:e,gn===null)var r=!1;else{if(e=gn,gn=null,Zi=0,ue&6)throw Error(D(331));var l=ue;for(ue|=4,$=e.current;$!==null;){var i=$,s=i.child;if($.flags&16){var o=i.deletions;if(o!==null){for(var u=0;u<o.length;u++){var c=o[u];for($=c;$!==null;){var p=$;switch(p.tag){case 0:case 11:case 15:gl(8,p,i)}var f=p.child;if(f!==null)f.return=p,$=f;else for(;$!==null;){p=$;var h=p.sibling,w=p.return;if(Vf(p),p===c){$=null;break}if(h!==null){h.return=w,$=h;break}$=w}}}var N=i.alternate;if(N!==null){var S=N.child;if(S!==null){N.child=null;do{var L=S.sibling;S.sibling=null,S=L}while(S!==null)}}$=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,$=s;else e:for(;$!==null;){if(i=$,i.flags&2048)switch(i.tag){case 0:case 11:case 15:gl(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,$=v;break e}$=i.return}}var d=e.current;for($=d;$!==null;){s=$;var g=s.child;if(s.subtreeFlags&2064&&g!==null)g.return=s,$=g;else e:for(s=d;$!==null;){if(o=$,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:ms(9,o)}}catch(P){Me(o,o.return,P)}if(o===s){$=null;break e}var E=o.sibling;if(E!==null){E.return=o.return,$=E;break e}$=o.return}}if(ue=l,Rn(),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(as,e)}catch{}r=!0}return r}finally{me=n,St.transition=t}}return!1}function gc(e,t,n){t=Fr(n,t),t=Df(e,t,1),e=Sn(e,t,1),t=Ze(),e!==null&&(Al(e,1,t),ot(e,t))}function Me(e,t,n){if(e.tag===3)gc(e,e,n);else for(;t!==null;){if(t.tag===3){gc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(kn===null||!kn.has(r))){e=Fr(n,e),e=Mf(t,e,1),t=Sn(t,e,1),e=Ze(),t!==null&&(Al(t,1,e),ot(t,e));break}}t=t.return}}function qm(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ze(),e.pingedLanes|=e.suspendedLanes&n,Be===e&&(Qe&n)===n&&(Ae===4||Ae===3&&(Qe&130023424)===Qe&&500>Oe()-Bo?Hn(e,0):$o|=n),ot(e,t)}function Zf(e,t){t===0&&(e.mode&1?(t=ri,ri<<=1,!(ri&130023424)&&(ri=4194304)):t=1);var n=Ze();e=rn(e,t),e!==null&&(Al(e,t,n),ot(e,n))}function Zm(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Zf(e,n)}function ev(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(D(314))}r!==null&&r.delete(t),Zf(e,n)}var ep;ep=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||st.current)it=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return it=!1,$m(e,t,n);it=!!(e.flags&131072)}else it=!1,Ee&&t.flags&1048576&&rf(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;_i(e,t),e=t.pendingProps;var l=Dr(t,Ge.current);Tr(t,n),l=Oo(null,t,r,e,l,n);var i=Fo();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,at(r)?(i=!0,Bi(t)):i=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Lo(t),l.updater=hs,t.stateNode=l,l._reactInternals=t,za(t,r,e,n),t=Aa(null,t,r,!0,i,n)):(t.tag=0,Ee&&i&&So(t),qe(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(_i(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=nv(r),e=Tt(r,e),l){case 0:t=Ua(null,t,r,e,n);break e;case 1:t=ac(null,t,r,e,n);break e;case 11:t=ic(null,t,r,e,n);break e;case 14:t=sc(null,t,r,Tt(r.type,e),n);break e}throw Error(D(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Tt(r,l),Ua(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Tt(r,l),ac(e,t,r,l,n);case 3:e:{if(zf(t),e===null)throw Error(D(387));r=t.pendingProps,i=t.memoizedState,l=i.element,cf(e,t),Ki(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){l=Fr(Error(D(423)),t),t=oc(e,t,r,n,l);break e}else if(r!==l){l=Fr(Error(D(424)),t),t=oc(e,t,r,n,l);break e}else for(pt=Nn(t.stateNode.containerInfo.firstChild),mt=t,Ee=!0,Dt=null,n=of(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Mr(),r===l){t=ln(e,t,n);break e}qe(e,t,r,n)}t=t.child}return t;case 5:return df(t),e===null&&ba(t),r=t.type,l=t.pendingProps,i=e!==null?e.memoizedProps:null,s=l.children,Ta(r,l)?s=null:i!==null&&Ta(r,i)&&(t.flags|=32),Ff(e,t),qe(e,t,s,n),t.child;case 6:return e===null&&ba(t),null;case 13:return If(e,t,n);case 4:return Ro(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=br(t,null,r,n):qe(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Tt(r,l),ic(e,t,r,l,n);case 7:return qe(e,t,t.pendingProps,n),t.child;case 8:return qe(e,t,t.pendingProps.children,n),t.child;case 12:return qe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,i=t.memoizedProps,s=l.value,ye(Qi,r._currentValue),r._currentValue=s,i!==null)if(Ot(i.value,s)){if(i.children===l.children&&!st.current){t=ln(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){s=i.child;for(var u=o.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=Zt(-1,n&-n),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var p=c.pending;p===null?u.next=u:(u.next=p.next,p.next=u),c.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),Oa(i.return,n,t),o.lanes|=n;break}u=u.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(D(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),Oa(s,n,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}qe(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,Tr(t,n),l=kt(l),r=r(l),t.flags|=1,qe(e,t,r,n),t.child;case 14:return r=t.type,l=Tt(r,t.pendingProps),l=Tt(r.type,l),sc(e,t,r,l,n);case 15:return bf(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Tt(r,l),_i(e,t),t.tag=1,at(r)?(e=!0,Bi(t)):e=!1,Tr(t,n),Rf(t,r,l),za(t,r,l,n),Aa(null,t,r,!0,e,n);case 19:return Uf(e,t,n);case 22:return Of(e,t,n)}throw Error(D(156,t.tag))};function tp(e,t){return _d(e,t)}function tv(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(e,t,n,r){return new tv(e,t,n,r)}function Wo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function nv(e){if(typeof e=="function")return Wo(e)?1:0;if(e!=null){if(e=e.$$typeof,e===co)return 11;if(e===fo)return 14}return 2}function Cn(e,t){var n=e.alternate;return n===null?(n=Nt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Li(e,t,n,r,l,i){var s=2;if(r=e,typeof e=="function")Wo(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case hr:return Qn(n.children,l,i,t);case uo:s=8,l|=8;break;case aa:return e=Nt(12,n,t,l|2),e.elementType=aa,e.lanes=i,e;case oa:return e=Nt(13,n,t,l),e.elementType=oa,e.lanes=i,e;case ua:return e=Nt(19,n,t,l),e.elementType=ua,e.lanes=i,e;case cd:return gs(n,l,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case od:s=10;break e;case ud:s=9;break e;case co:s=11;break e;case fo:s=14;break e;case fn:s=16,r=null;break e}throw Error(D(130,e==null?e:typeof e,""))}return t=Nt(s,n,t,l),t.elementType=e,t.type=r,t.lanes=i,t}function Qn(e,t,n,r){return e=Nt(7,e,r,t),e.lanes=n,e}function gs(e,t,n,r){return e=Nt(22,e,r,t),e.elementType=cd,e.lanes=n,e.stateNode={isHidden:!1},e}function qs(e,t,n){return e=Nt(6,e,null,t),e.lanes=n,e}function Zs(e,t,n){return t=Nt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function rv(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ms(0),this.expirationTimes=Ms(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ms(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Ko(e,t,n,r,l,i,s,o,u){return e=new rv(e,t,n,o,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Nt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lo(i),e}function lv(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function np(e){if(!e)return Pn;e=e._reactInternals;e:{if(Zn(e)!==e||e.tag!==1)throw Error(D(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(at(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(D(171))}if(e.tag===1){var n=e.type;if(at(n))return tf(e,n,t)}return t}function rp(e,t,n,r,l,i,s,o,u){return e=Ko(n,r,!0,e,l,i,s,o,u),e.context=np(null),n=e.current,r=Ze(),l=En(n),i=Zt(r,l),i.callback=t??null,Sn(n,i,l),e.current.lanes=l,Al(e,l,r),ot(e,r),e}function ys(e,t,n,r){var l=t.current,i=Ze(),s=En(l);return n=np(n),t.context===null?t.context=n:t.pendingContext=n,t=Zt(i,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Sn(l,t,s),e!==null&&(bt(e,l,s,i),ki(e,l,s)),s}function ts(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function yc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Yo(e,t){yc(e,t),(e=e.alternate)&&yc(e,t)}function iv(){return null}var lp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Xo(e){this._internalRoot=e}xs.prototype.render=Xo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(D(409));ys(e,t,null,null)};xs.prototype.unmount=Xo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Gn(function(){ys(null,e,null,null)}),t[nn]=null}};function xs(e){this._internalRoot=e}xs.prototype.unstable_scheduleHydration=function(e){if(e){var t=bd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<hn.length&&t!==0&&t<hn[n].priority;n++);hn.splice(n,0,e),n===0&&Fd(e)}};function Go(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ws(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function xc(){}function sv(e,t,n,r,l){if(l){if(typeof r=="function"){var i=r;r=function(){var c=ts(s);i.call(c)}}var s=rp(t,r,e,0,null,!1,!1,"",xc);return e._reactRootContainer=s,e[nn]=s.current,Pl(e.nodeType===8?e.parentNode:e),Gn(),s}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var o=r;r=function(){var c=ts(u);o.call(c)}}var u=Ko(e,0,!1,null,null,!1,!1,"",xc);return e._reactRootContainer=u,e[nn]=u.current,Pl(e.nodeType===8?e.parentNode:e),Gn(function(){ys(t,u,n,r)}),u}function js(e,t,n,r,l){var i=n._reactRootContainer;if(i){var s=i;if(typeof l=="function"){var o=l;l=function(){var u=ts(s);o.call(u)}}ys(t,s,e,l)}else s=sv(n,t,e,l,r);return ts(s)}Dd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ol(t.pendingLanes);n!==0&&(mo(t,n|1),ot(t,Oe()),!(ue&6)&&(zr=Oe()+500,Rn()))}break;case 13:Gn(function(){var r=rn(e,1);if(r!==null){var l=Ze();bt(r,e,1,l)}}),Yo(e,1)}};vo=function(e){if(e.tag===13){var t=rn(e,134217728);if(t!==null){var n=Ze();bt(t,e,134217728,n)}Yo(e,134217728)}};Md=function(e){if(e.tag===13){var t=En(e),n=rn(e,t);if(n!==null){var r=Ze();bt(n,e,t,r)}Yo(e,t)}};bd=function(){return me};Od=function(e,t){var n=me;try{return me=e,t()}finally{me=n}};xa=function(e,t,n){switch(t){case"input":if(fa(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=ds(r);if(!l)throw Error(D(90));fd(r),fa(r,l)}}}break;case"textarea":hd(e,n);break;case"select":t=n.value,t!=null&&Er(e,!!n.multiple,t,!1)}};jd=Vo;Nd=Gn;var av={usingClientEntryPoint:!1,Events:[Bl,yr,ds,xd,wd,Vo]},nl={findFiberByHostInstance:An,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ov={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:an.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ed(e),e===null?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||iv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hi.isDisabled&&hi.supportsFiber)try{as=hi.inject(ov),Bt=hi}catch{}}gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=av;gt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Go(t))throw Error(D(200));return lv(e,t,null,n)};gt.createRoot=function(e,t){if(!Go(e))throw Error(D(299));var n=!1,r="",l=lp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Ko(e,1,!1,null,null,n,!1,r,l),e[nn]=t.current,Pl(e.nodeType===8?e.parentNode:e),new Xo(t)};gt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(D(188)):(e=Object.keys(e).join(","),Error(D(268,e)));return e=Ed(t),e=e===null?null:e.stateNode,e};gt.flushSync=function(e){return Gn(e)};gt.hydrate=function(e,t,n){if(!ws(t))throw Error(D(200));return js(null,e,t,!0,n)};gt.hydrateRoot=function(e,t,n){if(!Go(e))throw Error(D(405));var r=n!=null&&n.hydratedSources||null,l=!1,i="",s=lp;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=rp(t,null,e,1,n??null,l,!1,i,s),e[nn]=t.current,Pl(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new xs(t)};gt.render=function(e,t,n){if(!ws(t))throw Error(D(200));return js(null,e,t,!1,n)};gt.unmountComponentAtNode=function(e){if(!ws(e))throw Error(D(40));return e._reactRootContainer?(Gn(function(){js(null,null,e,!1,function(){e._reactRootContainer=null,e[nn]=null})}),!0):!1};gt.unstable_batchedUpdates=Vo;gt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ws(n))throw Error(D(200));if(e==null||e._reactInternals===void 0)throw Error(D(38));return js(e,t,n,!1,r)};gt.version="18.3.1-next-f1338f8080-20240426";function ip(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ip)}catch(e){console.error(e)}}ip(),ld.exports=gt;var Jo=ld.exports;const uv=Qc(Jo),cv=Hc({__proto__:null,default:uv},[Jo]);var sp,wc=Jo;sp=wc.createRoot,wc.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ke(){return ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ke.apply(this,arguments)}var ze;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ze||(ze={}));const jc="popstate";function dv(e){e===void 0&&(e={});function t(r,l){let{pathname:i,search:s,hash:o}=r.location;return zl("",{pathname:i,search:s,hash:o},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(r,l){return typeof l=="string"?l:Jn(l)}return pv(t,n,null,e)}function le(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ir(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function fv(){return Math.random().toString(36).substr(2,8)}function Nc(e,t){return{usr:e.state,key:e.key,idx:t}}function zl(e,t,n,r){return n===void 0&&(n=null),ke({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Dn(t):t,{state:n,key:t&&t.key||r||fv()})}function Jn(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Dn(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function pv(e,t,n,r){r===void 0&&(r={});let{window:l=document.defaultView,v5Compat:i=!1}=r,s=l.history,o=ze.Pop,u=null,c=p();c==null&&(c=0,s.replaceState(ke({},s.state,{idx:c}),""));function p(){return(s.state||{idx:null}).idx}function f(){o=ze.Pop;let L=p(),v=L==null?null:L-c;c=L,u&&u({action:o,location:S.location,delta:v})}function h(L,v){o=ze.Push;let d=zl(S.location,L,v);c=p()+1;let g=Nc(d,c),E=S.createHref(d);try{s.pushState(g,"",E)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;l.location.assign(E)}i&&u&&u({action:o,location:S.location,delta:1})}function w(L,v){o=ze.Replace;let d=zl(S.location,L,v);c=p();let g=Nc(d,c),E=S.createHref(d);s.replaceState(g,"",E),i&&u&&u({action:o,location:S.location,delta:0})}function N(L){let v=l.location.origin!=="null"?l.location.origin:l.location.href,d=typeof L=="string"?L:Jn(L);return d=d.replace(/ $/,"%20"),le(v,"No window.location.(origin|href) available to create URL for href: "+d),new URL(d,v)}let S={get action(){return o},get location(){return e(l,s)},listen(L){if(u)throw new Error("A history only accepts one active listener");return l.addEventListener(jc,f),u=L,()=>{l.removeEventListener(jc,f),u=null}},createHref(L){return t(l,L)},createURL:N,encodeLocation(L){let v=N(L);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:w,go(L){return s.go(L)}};return S}var he;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(he||(he={}));const hv=new Set(["lazy","caseSensitive","path","id","index","children"]);function mv(e){return e.index===!0}function ns(e,t,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),e.map((l,i)=>{let s=[...n,String(i)],o=typeof l.id=="string"?l.id:s.join("-");if(le(l.index!==!0||!l.children,"Cannot specify children on an index route"),le(!r[o],'Found a route id collision on id "'+o+`".  Route id's must be globally unique within Data Router usages`),mv(l)){let u=ke({},l,t(l),{id:o});return r[o]=u,u}else{let u=ke({},l,t(l),{id:o,children:void 0});return r[o]=u,l.children&&(u.children=ns(l.children,t,s,r)),u}})}function In(e,t,n){return n===void 0&&(n="/"),Ri(e,t,n,!1)}function Ri(e,t,n,r){let l=typeof t=="string"?Dn(t):t,i=sn(l.pathname||"/",n);if(i==null)return null;let s=ap(e);gv(s);let o=null;for(let u=0;o==null&&u<s.length;++u){let c=Pv(i);o=Cv(s[u],c,r)}return o}function vv(e,t){let{route:n,pathname:r,params:l}=e;return{id:n.id,pathname:r,params:l,data:t[n.id],handle:n.handle}}function ap(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let l=(i,s,o)=>{let u={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};u.relativePath.startsWith("/")&&(le(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=en([r,u.relativePath]),p=n.concat(u);i.children&&i.children.length>0&&(le(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),ap(i.children,t,p,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:kv(c,i.index),routesMeta:p})};return e.forEach((i,s)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))l(i,s);else for(let u of op(i.path))l(i,s,u)}),t}function op(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,l=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return l?[i,""]:[i];let s=op(r.join("/")),o=[];return o.push(...s.map(u=>u===""?i:[i,u].join("/"))),l&&o.push(...s),o.map(u=>e.startsWith("/")&&u===""?"/":u)}function gv(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Ev(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const yv=/^:[\w-]+$/,xv=3,wv=2,jv=1,Nv=10,Sv=-2,Sc=e=>e==="*";function kv(e,t){let n=e.split("/"),r=n.length;return n.some(Sc)&&(r+=Sv),t&&(r+=wv),n.filter(l=>!Sc(l)).reduce((l,i)=>l+(yv.test(i)?xv:i===""?jv:Nv),r)}function Ev(e,t){return e.length===t.length&&e.slice(0,-1).every((r,l)=>r===t[l])?e[e.length-1]-t[t.length-1]:0}function Cv(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,l={},i="/",s=[];for(let o=0;o<r.length;++o){let u=r[o],c=o===r.length-1,p=i==="/"?t:t.slice(i.length)||"/",f=rs({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},p),h=u.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=rs({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},p)),!f)return null;Object.assign(l,f.params),s.push({params:l,pathname:en([i,f.pathname]),pathnameBase:Rv(en([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=en([i,f.pathnameBase]))}return s}function rs(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=_v(e.path,e.caseSensitive,e.end),l=t.match(n);if(!l)return null;let i=l[0],s=i.replace(/(.)\/+$/,"$1"),o=l.slice(1);return{params:r.reduce((c,p,f)=>{let{paramName:h,isOptional:w}=p;if(h==="*"){let S=o[f]||"";s=i.slice(0,i.length-S.length).replace(/(.)\/+$/,"$1")}const N=o[f];return w&&!N?c[h]=void 0:c[h]=(N||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:s,pattern:e}}function _v(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Ir(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,u)=>(r.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),r]}function Pv(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ir(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function sn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Tv(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:l=""}=typeof e=="string"?Dn(e):e;return{pathname:n?n.startsWith("/")?n:Lv(n,t):t,search:Dv(r),hash:Mv(l)}}function Lv(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function ea(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function up(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Ns(e,t){let n=up(e);return t?n.map((r,l)=>l===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Ss(e,t,n,r){r===void 0&&(r=!1);let l;typeof e=="string"?l=Dn(e):(l=ke({},e),le(!l.pathname||!l.pathname.includes("?"),ea("?","pathname","search",l)),le(!l.pathname||!l.pathname.includes("#"),ea("#","pathname","hash",l)),le(!l.search||!l.search.includes("#"),ea("#","search","hash",l)));let i=e===""||l.pathname==="",s=i?"/":l.pathname,o;if(s==null)o=n;else{let f=t.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;l.pathname=h.join("/")}o=f>=0?t[f]:"/"}let u=Tv(l,o),c=s&&s!=="/"&&s.endsWith("/"),p=(i||s===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||p)&&(u.pathname+="/"),u}const en=e=>e.join("/").replace(/\/\/+/g,"/"),Rv=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Dv=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Mv=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class ls{constructor(t,n,r,l){l===void 0&&(l=!1),this.status=t,this.statusText=n||"",this.internal=l,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Il(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const cp=["post","put","patch","delete"],bv=new Set(cp),Ov=["get",...cp],Fv=new Set(Ov),zv=new Set([301,302,303,307,308]),Iv=new Set([307,308]),ta={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Uv={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},rl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},qo=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Av=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),dp="remix-router-transitions";function $v(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",r=!n;le(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let l;if(e.mapRouteProperties)l=e.mapRouteProperties;else if(e.detectErrorBoundary){let y=e.detectErrorBoundary;l=j=>({hasErrorBoundary:y(j)})}else l=Av;let i={},s=ns(e.routes,l,void 0,i),o,u=e.basename||"/",c=e.dataStrategy||Qv,p=e.patchRoutesOnNavigation,f=ke({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},e.future),h=null,w=new Set,N=null,S=null,L=null,v=e.hydrationData!=null,d=In(s,e.history.location,u),g=!1,E=null;if(d==null&&!p){let y=rt(404,{pathname:e.history.location.pathname}),{matches:j,route:C}=bc(s);d=j,E={[C.id]:y}}d&&!e.hydrationData&&Yl(d,s,e.history.location.pathname).active&&(d=null);let P;if(d)if(d.some(y=>y.route.lazy))P=!1;else if(!d.some(y=>y.route.loader))P=!0;else if(f.v7_partialHydration){let y=e.hydrationData?e.hydrationData.loaderData:null,j=e.hydrationData?e.hydrationData.errors:null;if(j){let C=d.findIndex(R=>j[R.route.id]!==void 0);P=d.slice(0,C+1).every(R=>!Za(R.route,y,j))}else P=d.every(C=>!Za(C.route,y,j))}else P=e.hydrationData!=null;else if(P=!1,d=[],f.v7_partialHydration){let y=Yl(null,s,e.history.location.pathname);y.active&&y.matches&&(g=!0,d=y.matches)}let O,x={historyAction:e.history.action,location:e.history.location,matches:d,initialized:P,navigation:ta,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||E,fetchers:new Map,blockers:new Map},_=ze.Pop,U=!1,b,I=!1,A=new Map,X=null,q=!1,re=!1,ee=[],ae=new Set,T=new Map,V=0,z=-1,K=new Map,Y=new Set,Le=new Map,Ne=new Map,ce=new Set,pe=new Map,Se=new Map,J;function ve(){if(h=e.history.listen(y=>{let{action:j,location:C,delta:R}=y;if(J){J(),J=void 0;return}Ir(Se.size===0||R!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let F=ou({currentLocation:x.location,nextLocation:C,historyAction:j});if(F&&R!=null){let G=new Promise(Z=>{J=Z});e.history.go(R*-1),Kl(F,{state:"blocked",location:C,proceed(){Kl(F,{state:"proceeding",proceed:void 0,reset:void 0,location:C}),G.then(()=>e.history.go(R))},reset(){let Z=new Map(x.blockers);Z.set(F,rl),xe({blockers:Z})}});return}return Ct(j,C)}),n){ig(t,A);let y=()=>sg(t,A);t.addEventListener("pagehide",y),X=()=>t.removeEventListener("pagehide",y)}return x.initialized||Ct(ze.Pop,x.location,{initialHydration:!0}),O}function be(){h&&h(),X&&X(),w.clear(),b&&b.abort(),x.fetchers.forEach((y,j)=>ie(j)),x.blockers.forEach((y,j)=>au(j))}function ut(y){return w.add(y),()=>w.delete(y)}function xe(y,j){j===void 0&&(j={}),x=ke({},x,y);let C=[],R=[];f.v7_fetcherPersist&&x.fetchers.forEach((F,G)=>{F.state==="idle"&&(ce.has(G)?R.push(G):C.push(G))}),ce.forEach(F=>{!x.fetchers.has(F)&&!T.has(F)&&R.push(F)}),[...w].forEach(F=>F(x,{deletedFetchers:R,viewTransitionOpts:j.viewTransitionOpts,flushSync:j.flushSync===!0})),f.v7_fetcherPersist?(C.forEach(F=>x.fetchers.delete(F)),R.forEach(F=>ie(F))):R.forEach(F=>ce.delete(F))}function Ft(y,j,C){var R,F;let{flushSync:G}=C===void 0?{}:C,Z=x.actionData!=null&&x.navigation.formMethod!=null&&Rt(x.navigation.formMethod)&&x.navigation.state==="loading"&&((R=y.state)==null?void 0:R._isRedirect)!==!0,H;j.actionData?Object.keys(j.actionData).length>0?H=j.actionData:H=null:Z?H=x.actionData:H=null;let Q=j.loaderData?Dc(x.loaderData,j.loaderData,j.matches||[],j.errors):x.loaderData,B=x.blockers;B.size>0&&(B=new Map(B),B.forEach((oe,Ve)=>B.set(Ve,rl)));let W=U===!0||x.navigation.formMethod!=null&&Rt(x.navigation.formMethod)&&((F=y.state)==null?void 0:F._isRedirect)!==!0;o&&(s=o,o=void 0),q||_===ze.Pop||(_===ze.Push?e.history.push(y,y.state):_===ze.Replace&&e.history.replace(y,y.state));let ne;if(_===ze.Pop){let oe=A.get(x.location.pathname);oe&&oe.has(y.pathname)?ne={currentLocation:x.location,nextLocation:y}:A.has(y.pathname)&&(ne={currentLocation:y,nextLocation:x.location})}else if(I){let oe=A.get(x.location.pathname);oe?oe.add(y.pathname):(oe=new Set([y.pathname]),A.set(x.location.pathname,oe)),ne={currentLocation:x.location,nextLocation:y}}xe(ke({},j,{actionData:H,loaderData:Q,historyAction:_,location:y,initialized:!0,navigation:ta,revalidation:"idle",restoreScrollPosition:cu(y,j.matches||x.matches),preventScrollReset:W,blockers:B}),{viewTransitionOpts:ne,flushSync:G===!0}),_=ze.Pop,U=!1,I=!1,q=!1,re=!1,ee=[]}async function nr(y,j){if(typeof y=="number"){e.history.go(y);return}let C=qa(x.location,x.matches,u,f.v7_prependBasename,y,f.v7_relativeSplatPath,j==null?void 0:j.fromRouteId,j==null?void 0:j.relative),{path:R,submission:F,error:G}=kc(f.v7_normalizeFormMethod,!1,C,j),Z=x.location,H=zl(x.location,R,j&&j.state);H=ke({},H,e.history.encodeLocation(H));let Q=j&&j.replace!=null?j.replace:void 0,B=ze.Push;Q===!0?B=ze.Replace:Q===!1||F!=null&&Rt(F.formMethod)&&F.formAction===x.location.pathname+x.location.search&&(B=ze.Replace);let W=j&&"preventScrollReset"in j?j.preventScrollReset===!0:void 0,ne=(j&&j.flushSync)===!0,oe=ou({currentLocation:Z,nextLocation:H,historyAction:B});if(oe){Kl(oe,{state:"blocked",location:H,proceed(){Kl(oe,{state:"proceeding",proceed:void 0,reset:void 0,location:H}),nr(y,j)},reset(){let Ve=new Map(x.blockers);Ve.set(oe,rl),xe({blockers:Ve})}});return}return await Ct(B,H,{submission:F,pendingError:G,preventScrollReset:W,replace:j&&j.replace,enableViewTransition:j&&j.viewTransition,flushSync:ne})}function Hr(){if(Wt(),xe({revalidation:"loading"}),x.navigation.state!=="submitting"){if(x.navigation.state==="idle"){Ct(x.historyAction,x.location,{startUninterruptedRevalidation:!0});return}Ct(_||x.historyAction,x.navigation.location,{overrideNavigation:x.navigation,enableViewTransition:I===!0})}}async function Ct(y,j,C){b&&b.abort(),b=null,_=y,q=(C&&C.startUninterruptedRevalidation)===!0,Mp(x.location,x.matches),U=(C&&C.preventScrollReset)===!0,I=(C&&C.enableViewTransition)===!0;let R=o||s,F=C&&C.overrideNavigation,G=C!=null&&C.initialHydration&&x.matches&&x.matches.length>0&&!g?x.matches:In(R,j,u),Z=(C&&C.flushSync)===!0;if(G&&x.initialized&&!re&&Jv(x.location,j)&&!(C&&C.submission&&Rt(C.submission.formMethod))){Ft(j,{matches:G},{flushSync:Z});return}let H=Yl(G,R,j.pathname);if(H.active&&H.matches&&(G=H.matches),!G){let{error:ge,notFoundMatches:fe,route:Re}=Es(j.pathname);Ft(j,{matches:fe,loaderData:{},errors:{[Re.id]:ge}},{flushSync:Z});return}b=new AbortController;let Q=fr(e.history,j,b.signal,C&&C.submission),B;if(C&&C.pendingError)B=[Un(G).route.id,{type:he.error,error:C.pendingError}];else if(C&&C.submission&&Rt(C.submission.formMethod)){let ge=await Qr(Q,j,C.submission,G,H.active,{replace:C.replace,flushSync:Z});if(ge.shortCircuited)return;if(ge.pendingActionResult){let[fe,Re]=ge.pendingActionResult;if(ft(Re)&&Il(Re.error)&&Re.error.status===404){b=null,Ft(j,{matches:ge.matches,loaderData:{},errors:{[fe]:Re.error}});return}}G=ge.matches||G,B=ge.pendingActionResult,F=na(j,C.submission),Z=!1,H.active=!1,Q=fr(e.history,Q.url,Q.signal)}let{shortCircuited:W,matches:ne,loaderData:oe,errors:Ve}=await rr(Q,j,G,H.active,F,C&&C.submission,C&&C.fetcherSubmission,C&&C.replace,C&&C.initialHydration===!0,Z,B);W||(b=null,Ft(j,ke({matches:ne||G},Mc(B),{loaderData:oe,errors:Ve})))}async function Qr(y,j,C,R,F,G){G===void 0&&(G={}),Wt();let Z=rg(j,C);if(xe({navigation:Z},{flushSync:G.flushSync===!0}),F){let B=await Xl(R,j.pathname,y.signal);if(B.type==="aborted")return{shortCircuited:!0};if(B.type==="error"){let W=Un(B.partialMatches).route.id;return{matches:B.partialMatches,pendingActionResult:[W,{type:he.error,error:B.error}]}}else if(B.matches)R=B.matches;else{let{notFoundMatches:W,error:ne,route:oe}=Es(j.pathname);return{matches:W,pendingActionResult:[oe.id,{type:he.error,error:ne}]}}}let H,Q=cl(R,j);if(!Q.route.action&&!Q.route.lazy)H={type:he.error,error:rt(405,{method:y.method,pathname:j.pathname,routeId:Q.route.id})};else if(H=(await nt("action",x,y,[Q],R,null))[Q.route.id],y.signal.aborted)return{shortCircuited:!0};if(Vn(H)){let B;return G&&G.replace!=null?B=G.replace:B=Tc(H.response.headers.get("Location"),new URL(y.url),u)===x.location.pathname+x.location.search,await _t(y,H,!0,{submission:C,replace:B}),{shortCircuited:!0}}if(yn(H))throw rt(400,{type:"defer-action"});if(ft(H)){let B=Un(R,Q.route.id);return(G&&G.replace)!==!0&&(_=ze.Push),{matches:R,pendingActionResult:[B.route.id,H]}}return{matches:R,pendingActionResult:[Q.route.id,H]}}async function rr(y,j,C,R,F,G,Z,H,Q,B,W){let ne=F||na(j,G),oe=G||Z||Fc(ne),Ve=!q&&(!f.v7_partialHydration||!Q);if(R){if(Ve){let De=Ce(W);xe(ke({navigation:ne},De!==void 0?{actionData:De}:{}),{flushSync:B})}let de=await Xl(C,j.pathname,y.signal);if(de.type==="aborted")return{shortCircuited:!0};if(de.type==="error"){let De=Un(de.partialMatches).route.id;return{matches:de.partialMatches,loaderData:{},errors:{[De]:de.error}}}else if(de.matches)C=de.matches;else{let{error:De,notFoundMatches:ur,route:Yr}=Es(j.pathname);return{matches:ur,loaderData:{},errors:{[Yr.id]:De}}}}let ge=o||s,[fe,Re]=Cc(e.history,x,C,oe,j,f.v7_partialHydration&&Q===!0,f.v7_skipActionErrorRevalidation,re,ee,ae,ce,Le,Y,ge,u,W);if(Cs(de=>!(C&&C.some(De=>De.route.id===de))||fe&&fe.some(De=>De.route.id===de)),z=++V,fe.length===0&&Re.length===0){let de=un();return Ft(j,ke({matches:C,loaderData:{},errors:W&&ft(W[1])?{[W[0]]:W[1].error}:null},Mc(W),de?{fetchers:new Map(x.fetchers)}:{}),{flushSync:B}),{shortCircuited:!0}}if(Ve){let de={};if(!R){de.navigation=ne;let De=Ce(W);De!==void 0&&(de.actionData=De)}Re.length>0&&(de.fetchers=lr(Re)),xe(de,{flushSync:B})}Re.forEach(de=>{Je(de.key),de.controller&&T.set(de.key,de.controller)});let or=()=>Re.forEach(de=>Je(de.key));b&&b.signal.addEventListener("abort",or);let{loaderResults:Wr,fetcherResults:Kt}=await ar(x,C,fe,Re,y);if(y.signal.aborted)return{shortCircuited:!0};b&&b.signal.removeEventListener("abort",or),Re.forEach(de=>T.delete(de.key));let zt=mi(Wr);if(zt)return await _t(y,zt.result,!0,{replace:H}),{shortCircuited:!0};if(zt=mi(Kt),zt)return Y.add(zt.key),await _t(y,zt.result,!0,{replace:H}),{shortCircuited:!0};let{loaderData:_s,errors:Kr}=Rc(x,C,Wr,W,Re,Kt,pe);pe.forEach((de,De)=>{de.subscribe(ur=>{(ur||de.done)&&pe.delete(De)})}),f.v7_partialHydration&&Q&&x.errors&&(Kr=ke({},x.errors,Kr));let On=un(),Gl=su(z),Jl=On||Gl||Re.length>0;return ke({matches:C,loaderData:_s,errors:Kr},Jl?{fetchers:new Map(x.fetchers)}:{})}function Ce(y){if(y&&!ft(y[1]))return{[y[0]]:y[1].data};if(x.actionData)return Object.keys(x.actionData).length===0?null:x.actionData}function lr(y){return y.forEach(j=>{let C=x.fetchers.get(j.key),R=ll(void 0,C?C.data:void 0);x.fetchers.set(j.key,R)}),new Map(x.fetchers)}function bn(y,j,C,R){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Je(y);let F=(R&&R.flushSync)===!0,G=o||s,Z=qa(x.location,x.matches,u,f.v7_prependBasename,C,f.v7_relativeSplatPath,j,R==null?void 0:R.relative),H=In(G,Z,u),Q=Yl(H,G,Z);if(Q.active&&Q.matches&&(H=Q.matches),!H){M(y,j,rt(404,{pathname:Z}),{flushSync:F});return}let{path:B,submission:W,error:ne}=kc(f.v7_normalizeFormMethod,!0,Z,R);if(ne){M(y,j,ne,{flushSync:F});return}let oe=cl(H,B),Ve=(R&&R.preventScrollReset)===!0;if(W&&Rt(W.formMethod)){ir(y,j,B,oe,H,Q.active,F,Ve,W);return}Le.set(y,{routeId:j,path:B}),sr(y,j,B,oe,H,Q.active,F,Ve,W)}async function ir(y,j,C,R,F,G,Z,H,Q){Wt(),Le.delete(y);function B(Fe){if(!Fe.route.action&&!Fe.route.lazy){let cr=rt(405,{method:Q.formMethod,pathname:C,routeId:j});return M(y,j,cr,{flushSync:Z}),!0}return!1}if(!G&&B(R))return;let W=x.fetchers.get(y);k(y,lg(Q,W),{flushSync:Z});let ne=new AbortController,oe=fr(e.history,C,ne.signal,Q);if(G){let Fe=await Xl(F,new URL(oe.url).pathname,oe.signal,y);if(Fe.type==="aborted")return;if(Fe.type==="error"){M(y,j,Fe.error,{flushSync:Z});return}else if(Fe.matches){if(F=Fe.matches,R=cl(F,C),B(R))return}else{M(y,j,rt(404,{pathname:C}),{flushSync:Z});return}}T.set(y,ne);let Ve=V,fe=(await nt("action",x,oe,[R],F,y))[R.route.id];if(oe.signal.aborted){T.get(y)===ne&&T.delete(y);return}if(f.v7_fetcherPersist&&ce.has(y)){if(Vn(fe)||ft(fe)){k(y,dn(void 0));return}}else{if(Vn(fe))if(T.delete(y),z>Ve){k(y,dn(void 0));return}else return Y.add(y),k(y,ll(Q)),_t(oe,fe,!1,{fetcherSubmission:Q,preventScrollReset:H});if(ft(fe)){M(y,j,fe.error);return}}if(yn(fe))throw rt(400,{type:"defer-action"});let Re=x.navigation.location||x.location,or=fr(e.history,Re,ne.signal),Wr=o||s,Kt=x.navigation.state!=="idle"?In(Wr,x.navigation.location,u):x.matches;le(Kt,"Didn't find any matches after fetcher action");let zt=++V;K.set(y,zt);let _s=ll(Q,fe.data);x.fetchers.set(y,_s);let[Kr,On]=Cc(e.history,x,Kt,Q,Re,!1,f.v7_skipActionErrorRevalidation,re,ee,ae,ce,Le,Y,Wr,u,[R.route.id,fe]);On.filter(Fe=>Fe.key!==y).forEach(Fe=>{let cr=Fe.key,du=x.fetchers.get(cr),Fp=ll(void 0,du?du.data:void 0);x.fetchers.set(cr,Fp),Je(cr),Fe.controller&&T.set(cr,Fe.controller)}),xe({fetchers:new Map(x.fetchers)});let Gl=()=>On.forEach(Fe=>Je(Fe.key));ne.signal.addEventListener("abort",Gl);let{loaderResults:Jl,fetcherResults:de}=await ar(x,Kt,Kr,On,or);if(ne.signal.aborted)return;ne.signal.removeEventListener("abort",Gl),K.delete(y),T.delete(y),On.forEach(Fe=>T.delete(Fe.key));let De=mi(Jl);if(De)return _t(or,De.result,!1,{preventScrollReset:H});if(De=mi(de),De)return Y.add(De.key),_t(or,De.result,!1,{preventScrollReset:H});let{loaderData:ur,errors:Yr}=Rc(x,Kt,Jl,void 0,On,de,pe);if(x.fetchers.has(y)){let Fe=dn(fe.data);x.fetchers.set(y,Fe)}su(zt),x.navigation.state==="loading"&&zt>z?(le(_,"Expected pending action"),b&&b.abort(),Ft(x.navigation.location,{matches:Kt,loaderData:ur,errors:Yr,fetchers:new Map(x.fetchers)})):(xe({errors:Yr,loaderData:Dc(x.loaderData,ur,Kt,Yr),fetchers:new Map(x.fetchers)}),re=!1)}async function sr(y,j,C,R,F,G,Z,H,Q){let B=x.fetchers.get(y);k(y,ll(Q,B?B.data:void 0),{flushSync:Z});let W=new AbortController,ne=fr(e.history,C,W.signal);if(G){let fe=await Xl(F,new URL(ne.url).pathname,ne.signal,y);if(fe.type==="aborted")return;if(fe.type==="error"){M(y,j,fe.error,{flushSync:Z});return}else if(fe.matches)F=fe.matches,R=cl(F,C);else{M(y,j,rt(404,{pathname:C}),{flushSync:Z});return}}T.set(y,W);let oe=V,ge=(await nt("loader",x,ne,[R],F,y))[R.route.id];if(yn(ge)&&(ge=await Zo(ge,ne.signal,!0)||ge),T.get(y)===W&&T.delete(y),!ne.signal.aborted){if(ce.has(y)){k(y,dn(void 0));return}if(Vn(ge))if(z>oe){k(y,dn(void 0));return}else{Y.add(y),await _t(ne,ge,!1,{preventScrollReset:H});return}if(ft(ge)){M(y,j,ge.error);return}le(!yn(ge),"Unhandled fetcher deferred data"),k(y,dn(ge.data))}}async function _t(y,j,C,R){let{submission:F,fetcherSubmission:G,preventScrollReset:Z,replace:H}=R===void 0?{}:R;j.response.headers.has("X-Remix-Revalidate")&&(re=!0);let Q=j.response.headers.get("Location");le(Q,"Expected a Location header on the redirect Response"),Q=Tc(Q,new URL(y.url),u);let B=zl(x.location,Q,{_isRedirect:!0});if(n){let fe=!1;if(j.response.headers.has("X-Remix-Reload-Document"))fe=!0;else if(qo.test(Q)){const Re=e.history.createURL(Q);fe=Re.origin!==t.location.origin||sn(Re.pathname,u)==null}if(fe){H?t.location.replace(Q):t.location.assign(Q);return}}b=null;let W=H===!0||j.response.headers.has("X-Remix-Replace")?ze.Replace:ze.Push,{formMethod:ne,formAction:oe,formEncType:Ve}=x.navigation;!F&&!G&&ne&&oe&&Ve&&(F=Fc(x.navigation));let ge=F||G;if(Iv.has(j.response.status)&&ge&&Rt(ge.formMethod))await Ct(W,B,{submission:ke({},ge,{formAction:Q}),preventScrollReset:Z||U,enableViewTransition:C?I:void 0});else{let fe=na(B,F);await Ct(W,B,{overrideNavigation:fe,fetcherSubmission:G,preventScrollReset:Z||U,enableViewTransition:C?I:void 0})}}async function nt(y,j,C,R,F,G){let Z,H={};try{Z=await Wv(c,y,j,C,R,F,G,i,l)}catch(Q){return R.forEach(B=>{H[B.route.id]={type:he.error,error:Q}}),H}for(let[Q,B]of Object.entries(Z))if(qv(B)){let W=B.result;H[Q]={type:he.redirect,response:Xv(W,C,Q,F,u,f.v7_relativeSplatPath)}}else H[Q]=await Yv(B);return H}async function ar(y,j,C,R,F){let G=y.matches,Z=nt("loader",y,F,C,j,null),H=Promise.all(R.map(async W=>{if(W.matches&&W.match&&W.controller){let oe=(await nt("loader",y,fr(e.history,W.path,W.controller.signal),[W.match],W.matches,W.key))[W.match.route.id];return{[W.key]:oe}}else return Promise.resolve({[W.key]:{type:he.error,error:rt(404,{pathname:W.path})}})})),Q=await Z,B=(await H).reduce((W,ne)=>Object.assign(W,ne),{});return await Promise.all([tg(j,Q,F.signal,G,y.loaderData),ng(j,B,R)]),{loaderResults:Q,fetcherResults:B}}function Wt(){re=!0,ee.push(...Cs()),Le.forEach((y,j)=>{T.has(j)&&ae.add(j),Je(j)})}function k(y,j,C){C===void 0&&(C={}),x.fetchers.set(y,j),xe({fetchers:new Map(x.fetchers)},{flushSync:(C&&C.flushSync)===!0})}function M(y,j,C,R){R===void 0&&(R={});let F=Un(x.matches,j);ie(y),xe({errors:{[F.route.id]:C},fetchers:new Map(x.fetchers)},{flushSync:(R&&R.flushSync)===!0})}function te(y){return Ne.set(y,(Ne.get(y)||0)+1),ce.has(y)&&ce.delete(y),x.fetchers.get(y)||Uv}function ie(y){let j=x.fetchers.get(y);T.has(y)&&!(j&&j.state==="loading"&&K.has(y))&&Je(y),Le.delete(y),K.delete(y),Y.delete(y),f.v7_fetcherPersist&&ce.delete(y),ae.delete(y),x.fetchers.delete(y)}function ct(y){let j=(Ne.get(y)||0)-1;j<=0?(Ne.delete(y),ce.add(y),f.v7_fetcherPersist||ie(y)):Ne.set(y,j),xe({fetchers:new Map(x.fetchers)})}function Je(y){let j=T.get(y);j&&(j.abort(),T.delete(y))}function Wl(y){for(let j of y){let C=te(j),R=dn(C.data);x.fetchers.set(j,R)}}function un(){let y=[],j=!1;for(let C of Y){let R=x.fetchers.get(C);le(R,"Expected fetcher: "+C),R.state==="loading"&&(Y.delete(C),y.push(C),j=!0)}return Wl(y),j}function su(y){let j=[];for(let[C,R]of K)if(R<y){let F=x.fetchers.get(C);le(F,"Expected fetcher: "+C),F.state==="loading"&&(Je(C),K.delete(C),j.push(C))}return Wl(j),j.length>0}function Rp(y,j){let C=x.blockers.get(y)||rl;return Se.get(y)!==j&&Se.set(y,j),C}function au(y){x.blockers.delete(y),Se.delete(y)}function Kl(y,j){let C=x.blockers.get(y)||rl;le(C.state==="unblocked"&&j.state==="blocked"||C.state==="blocked"&&j.state==="blocked"||C.state==="blocked"&&j.state==="proceeding"||C.state==="blocked"&&j.state==="unblocked"||C.state==="proceeding"&&j.state==="unblocked","Invalid blocker state transition: "+C.state+" -> "+j.state);let R=new Map(x.blockers);R.set(y,j),xe({blockers:R})}function ou(y){let{currentLocation:j,nextLocation:C,historyAction:R}=y;if(Se.size===0)return;Se.size>1&&Ir(!1,"A router only supports one blocker at a time");let F=Array.from(Se.entries()),[G,Z]=F[F.length-1],H=x.blockers.get(G);if(!(H&&H.state==="proceeding")&&Z({currentLocation:j,nextLocation:C,historyAction:R}))return G}function Es(y){let j=rt(404,{pathname:y}),C=o||s,{matches:R,route:F}=bc(C);return Cs(),{notFoundMatches:R,route:F,error:j}}function Cs(y){let j=[];return pe.forEach((C,R)=>{(!y||y(R))&&(C.cancel(),j.push(R),pe.delete(R))}),j}function Dp(y,j,C){if(N=y,L=j,S=C||null,!v&&x.navigation===ta){v=!0;let R=cu(x.location,x.matches);R!=null&&xe({restoreScrollPosition:R})}return()=>{N=null,L=null,S=null}}function uu(y,j){return S&&S(y,j.map(R=>vv(R,x.loaderData)))||y.key}function Mp(y,j){if(N&&L){let C=uu(y,j);N[C]=L()}}function cu(y,j){if(N){let C=uu(y,j),R=N[C];if(typeof R=="number")return R}return null}function Yl(y,j,C){if(p)if(y){if(Object.keys(y[0].params).length>0)return{active:!0,matches:Ri(j,C,u,!0)}}else return{active:!0,matches:Ri(j,C,u,!0)||[]};return{active:!1,matches:null}}async function Xl(y,j,C,R){if(!p)return{type:"success",matches:y};let F=y;for(;;){let G=o==null,Z=o||s,H=i;try{await p({signal:C,path:j,matches:F,fetcherKey:R,patch:(W,ne)=>{C.aborted||Pc(W,ne,Z,H,l)}})}catch(W){return{type:"error",error:W,partialMatches:F}}finally{G&&!C.aborted&&(s=[...s])}if(C.aborted)return{type:"aborted"};let Q=In(Z,j,u);if(Q)return{type:"success",matches:Q};let B=Ri(Z,j,u,!0);if(!B||F.length===B.length&&F.every((W,ne)=>W.route.id===B[ne].route.id))return{type:"success",matches:null};F=B}}function bp(y){i={},o=ns(y,l,void 0,i)}function Op(y,j){let C=o==null;Pc(y,j,o||s,i,l),C&&(s=[...s],xe({}))}return O={get basename(){return u},get future(){return f},get state(){return x},get routes(){return s},get window(){return t},initialize:ve,subscribe:ut,enableScrollRestoration:Dp,navigate:nr,fetch:bn,revalidate:Hr,createHref:y=>e.history.createHref(y),encodeLocation:y=>e.history.encodeLocation(y),getFetcher:te,deleteFetcher:ct,dispose:be,getBlocker:Rp,deleteBlocker:au,patchRoutes:Op,_internalFetchControllers:T,_internalActiveDeferreds:pe,_internalSetRoutes:bp},O}function Bv(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function qa(e,t,n,r,l,i,s,o){let u,c;if(s){u=[];for(let f of t)if(u.push(f),f.route.id===s){c=f;break}}else u=t,c=t[t.length-1];let p=Ss(l||".",Ns(u,i),sn(e.pathname,n)||e.pathname,o==="path");if(l==null&&(p.search=e.search,p.hash=e.hash),(l==null||l===""||l===".")&&c){let f=eu(p.search);if(c.route.index&&!f)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&f){let h=new URLSearchParams(p.search),w=h.getAll("index");h.delete("index"),w.filter(S=>S).forEach(S=>h.append("index",S));let N=h.toString();p.search=N?"?"+N:""}}return r&&n!=="/"&&(p.pathname=p.pathname==="/"?n:en([n,p.pathname])),Jn(p)}function kc(e,t,n,r){if(!r||!Bv(r))return{path:n};if(r.formMethod&&!eg(r.formMethod))return{path:n,error:rt(405,{method:r.formMethod})};let l=()=>({path:n,error:rt(400,{type:"invalid-body"})}),i=r.formMethod||"get",s=e?i.toUpperCase():i.toLowerCase(),o=hp(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Rt(s))return l();let h=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((w,N)=>{let[S,L]=N;return""+w+S+"="+L+`
`},""):String(r.body);return{path:n,submission:{formMethod:s,formAction:o,formEncType:r.formEncType,formData:void 0,json:void 0,text:h}}}else if(r.formEncType==="application/json"){if(!Rt(s))return l();try{let h=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:s,formAction:o,formEncType:r.formEncType,formData:void 0,json:h,text:void 0}}}catch{return l()}}}le(typeof FormData=="function","FormData is not available in this environment");let u,c;if(r.formData)u=eo(r.formData),c=r.formData;else if(r.body instanceof FormData)u=eo(r.body),c=r.body;else if(r.body instanceof URLSearchParams)u=r.body,c=Lc(u);else if(r.body==null)u=new URLSearchParams,c=new FormData;else try{u=new URLSearchParams(r.body),c=Lc(u)}catch{return l()}let p={formMethod:s,formAction:o,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Rt(p.formMethod))return{path:n,submission:p};let f=Dn(n);return t&&f.search&&eu(f.search)&&u.append("index",""),f.search="?"+u,{path:Jn(f),submission:p}}function Ec(e,t,n){n===void 0&&(n=!1);let r=e.findIndex(l=>l.route.id===t);return r>=0?e.slice(0,n?r+1:r):e}function Cc(e,t,n,r,l,i,s,o,u,c,p,f,h,w,N,S){let L=S?ft(S[1])?S[1].error:S[1].data:void 0,v=e.createURL(t.location),d=e.createURL(l),g=n;i&&t.errors?g=Ec(n,Object.keys(t.errors)[0],!0):S&&ft(S[1])&&(g=Ec(n,S[0]));let E=S?S[1].statusCode:void 0,P=s&&E&&E>=400,O=g.filter((_,U)=>{let{route:b}=_;if(b.lazy)return!0;if(b.loader==null)return!1;if(i)return Za(b,t.loaderData,t.errors);if(Vv(t.loaderData,t.matches[U],_)||u.some(X=>X===_.route.id))return!0;let I=t.matches[U],A=_;return _c(_,ke({currentUrl:v,currentParams:I.params,nextUrl:d,nextParams:A.params},r,{actionResult:L,actionStatus:E,defaultShouldRevalidate:P?!1:o||v.pathname+v.search===d.pathname+d.search||v.search!==d.search||fp(I,A)}))}),x=[];return f.forEach((_,U)=>{if(i||!n.some(q=>q.route.id===_.routeId)||p.has(U))return;let b=In(w,_.path,N);if(!b){x.push({key:U,routeId:_.routeId,path:_.path,matches:null,match:null,controller:null});return}let I=t.fetchers.get(U),A=cl(b,_.path),X=!1;h.has(U)?X=!1:c.has(U)?(c.delete(U),X=!0):I&&I.state!=="idle"&&I.data===void 0?X=o:X=_c(A,ke({currentUrl:v,currentParams:t.matches[t.matches.length-1].params,nextUrl:d,nextParams:n[n.length-1].params},r,{actionResult:L,actionStatus:E,defaultShouldRevalidate:P?!1:o})),X&&x.push({key:U,routeId:_.routeId,path:_.path,matches:b,match:A,controller:new AbortController})}),[O,x]}function Za(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let r=t!=null&&t[e.id]!==void 0,l=n!=null&&n[e.id]!==void 0;return!r&&l?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!r&&!l}function Vv(e,t,n){let r=!t||n.route.id!==t.route.id,l=e[n.route.id]===void 0;return r||l}function fp(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function _c(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function Pc(e,t,n,r,l){var i;let s;if(e){let c=r[e];le(c,"No route found to patch children into: routeId = "+e),c.children||(c.children=[]),s=c.children}else s=n;let o=t.filter(c=>!s.some(p=>pp(c,p))),u=ns(o,l,[e||"_","patch",String(((i=s)==null?void 0:i.length)||"0")],r);s.push(...u)}function pp(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,r)=>{var l;return(l=t.children)==null?void 0:l.some(i=>pp(n,i))}):!1}async function Hv(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let l=n[e.id];le(l,"No route found in manifest");let i={};for(let s in r){let u=l[s]!==void 0&&s!=="hasErrorBoundary";Ir(!u,'Route "'+l.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!u&&!hv.has(s)&&(i[s]=r[s])}Object.assign(l,i),Object.assign(l,ke({},t(l),{lazy:void 0}))}async function Qv(e){let{matches:t}=e,n=t.filter(l=>l.shouldLoad);return(await Promise.all(n.map(l=>l.resolve()))).reduce((l,i,s)=>Object.assign(l,{[n[s].route.id]:i}),{})}async function Wv(e,t,n,r,l,i,s,o,u,c){let p=i.map(w=>w.route.lazy?Hv(w.route,u,o):void 0),f=i.map((w,N)=>{let S=p[N],L=l.some(d=>d.route.id===w.route.id);return ke({},w,{shouldLoad:L,resolve:async d=>(d&&r.method==="GET"&&(w.route.lazy||w.route.loader)&&(L=!0),L?Kv(t,r,w,S,d,c):Promise.resolve({type:he.data,result:void 0}))})}),h=await e({matches:f,request:r,params:i[0].params,fetcherKey:s,context:c});try{await Promise.all(p)}catch{}return h}async function Kv(e,t,n,r,l,i){let s,o,u=c=>{let p,f=new Promise((N,S)=>p=S);o=()=>p(),t.signal.addEventListener("abort",o);let h=N=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+e+'" [routeId: '+n.route.id+"]"))):c({request:t,params:n.params,context:i},...N!==void 0?[N]:[]),w=(async()=>{try{return{type:"data",result:await(l?l(S=>h(S)):h())}}catch(N){return{type:"error",result:N}}})();return Promise.race([w,f])};try{let c=n.route[e];if(r)if(c){let p,[f]=await Promise.all([u(c).catch(h=>{p=h}),r]);if(p!==void 0)throw p;s=f}else if(await r,c=n.route[e],c)s=await u(c);else if(e==="action"){let p=new URL(t.url),f=p.pathname+p.search;throw rt(405,{method:t.method,pathname:f,routeId:n.route.id})}else return{type:he.data,result:void 0};else if(c)s=await u(c);else{let p=new URL(t.url),f=p.pathname+p.search;throw rt(404,{pathname:f})}le(s.result!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:he.error,result:c}}finally{o&&t.signal.removeEventListener("abort",o)}return s}async function Yv(e){let{result:t,type:n}=e;if(mp(t)){let f;try{let h=t.headers.get("Content-Type");h&&/\bapplication\/json\b/.test(h)?t.body==null?f=null:f=await t.json():f=await t.text()}catch(h){return{type:he.error,error:h}}return n===he.error?{type:he.error,error:new ls(t.status,t.statusText,f),statusCode:t.status,headers:t.headers}:{type:he.data,data:f,statusCode:t.status,headers:t.headers}}if(n===he.error){if(Oc(t)){var r,l;if(t.data instanceof Error){var i,s;return{type:he.error,error:t.data,statusCode:(i=t.init)==null?void 0:i.status,headers:(s=t.init)!=null&&s.headers?new Headers(t.init.headers):void 0}}return{type:he.error,error:new ls(((r=t.init)==null?void 0:r.status)||500,void 0,t.data),statusCode:Il(t)?t.status:void 0,headers:(l=t.init)!=null&&l.headers?new Headers(t.init.headers):void 0}}return{type:he.error,error:t,statusCode:Il(t)?t.status:void 0}}if(Zv(t)){var o,u;return{type:he.deferred,deferredData:t,statusCode:(o=t.init)==null?void 0:o.status,headers:((u=t.init)==null?void 0:u.headers)&&new Headers(t.init.headers)}}if(Oc(t)){var c,p;return{type:he.data,data:t.data,statusCode:(c=t.init)==null?void 0:c.status,headers:(p=t.init)!=null&&p.headers?new Headers(t.init.headers):void 0}}return{type:he.data,data:t}}function Xv(e,t,n,r,l,i){let s=e.headers.get("Location");if(le(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!qo.test(s)){let o=r.slice(0,r.findIndex(u=>u.route.id===n)+1);s=qa(new URL(t.url),o,l,!0,s,i),e.headers.set("Location",s)}return e}function Tc(e,t,n){if(qo.test(e)){let r=e,l=r.startsWith("//")?new URL(t.protocol+r):new URL(r),i=sn(l.pathname,n)!=null;if(l.origin===t.origin&&i)return l.pathname+l.search+l.hash}return e}function fr(e,t,n,r){let l=e.createURL(hp(t)).toString(),i={signal:n};if(r&&Rt(r.formMethod)){let{formMethod:s,formEncType:o}=r;i.method=s.toUpperCase(),o==="application/json"?(i.headers=new Headers({"Content-Type":o}),i.body=JSON.stringify(r.json)):o==="text/plain"?i.body=r.text:o==="application/x-www-form-urlencoded"&&r.formData?i.body=eo(r.formData):i.body=r.formData}return new Request(l,i)}function eo(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function Lc(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function Gv(e,t,n,r,l){let i={},s=null,o,u=!1,c={},p=n&&ft(n[1])?n[1].error:void 0;return e.forEach(f=>{if(!(f.route.id in t))return;let h=f.route.id,w=t[h];if(le(!Vn(w),"Cannot handle redirect results in processLoaderData"),ft(w)){let N=w.error;p!==void 0&&(N=p,p=void 0),s=s||{};{let S=Un(e,h);s[S.route.id]==null&&(s[S.route.id]=N)}i[h]=void 0,u||(u=!0,o=Il(w.error)?w.error.status:500),w.headers&&(c[h]=w.headers)}else yn(w)?(r.set(h,w.deferredData),i[h]=w.deferredData.data,w.statusCode!=null&&w.statusCode!==200&&!u&&(o=w.statusCode),w.headers&&(c[h]=w.headers)):(i[h]=w.data,w.statusCode&&w.statusCode!==200&&!u&&(o=w.statusCode),w.headers&&(c[h]=w.headers))}),p!==void 0&&n&&(s={[n[0]]:p},i[n[0]]=void 0),{loaderData:i,errors:s,statusCode:o||200,loaderHeaders:c}}function Rc(e,t,n,r,l,i,s){let{loaderData:o,errors:u}=Gv(t,n,r,s);return l.forEach(c=>{let{key:p,match:f,controller:h}=c,w=i[p];if(le(w,"Did not find corresponding fetcher result"),!(h&&h.signal.aborted))if(ft(w)){let N=Un(e.matches,f==null?void 0:f.route.id);u&&u[N.route.id]||(u=ke({},u,{[N.route.id]:w.error})),e.fetchers.delete(p)}else if(Vn(w))le(!1,"Unhandled fetcher revalidation redirect");else if(yn(w))le(!1,"Unhandled fetcher deferred data");else{let N=dn(w.data);e.fetchers.set(p,N)}}),{loaderData:o,errors:u}}function Dc(e,t,n,r){let l=ke({},t);for(let i of n){let s=i.route.id;if(t.hasOwnProperty(s)?t[s]!==void 0&&(l[s]=t[s]):e[s]!==void 0&&i.route.loader&&(l[s]=e[s]),r&&r.hasOwnProperty(s))break}return l}function Mc(e){return e?ft(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Un(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function bc(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function rt(e,t){let{pathname:n,routeId:r,method:l,type:i,message:s}=t===void 0?{}:t,o="Unknown Server Error",u="Unknown @remix-run/router error";return e===400?(o="Bad Request",l&&n&&r?u="You made a "+l+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":i==="defer-action"?u="defer() is not supported in actions":i==="invalid-body"&&(u="Unable to encode submission body")):e===403?(o="Forbidden",u='Route "'+r+'" does not match URL "'+n+'"'):e===404?(o="Not Found",u='No route matches URL "'+n+'"'):e===405&&(o="Method Not Allowed",l&&n&&r?u="You made a "+l.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":l&&(u='Invalid request method "'+l.toUpperCase()+'"')),new ls(e||500,o,new Error(u),!0)}function mi(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[r,l]=t[n];if(Vn(l))return{key:r,result:l}}}function hp(e){let t=typeof e=="string"?Dn(e):e;return Jn(ke({},t,{hash:""}))}function Jv(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function qv(e){return mp(e.result)&&zv.has(e.result.status)}function yn(e){return e.type===he.deferred}function ft(e){return e.type===he.error}function Vn(e){return(e&&e.type)===he.redirect}function Oc(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function Zv(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function mp(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function eg(e){return Fv.has(e.toLowerCase())}function Rt(e){return bv.has(e.toLowerCase())}async function tg(e,t,n,r,l){let i=Object.entries(t);for(let s=0;s<i.length;s++){let[o,u]=i[s],c=e.find(h=>(h==null?void 0:h.route.id)===o);if(!c)continue;let p=r.find(h=>h.route.id===c.route.id),f=p!=null&&!fp(p,c)&&(l&&l[c.route.id])!==void 0;yn(u)&&f&&await Zo(u,n,!1).then(h=>{h&&(t[o]=h)})}}async function ng(e,t,n){for(let r=0;r<n.length;r++){let{key:l,routeId:i,controller:s}=n[r],o=t[l];e.find(c=>(c==null?void 0:c.route.id)===i)&&yn(o)&&(le(s,"Expected an AbortController for revalidating fetcher deferred result"),await Zo(o,s.signal,!0).then(c=>{c&&(t[l]=c)}))}}async function Zo(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:he.data,data:e.deferredData.unwrappedData}}catch(l){return{type:he.error,error:l}}return{type:he.data,data:e.deferredData.data}}}function eu(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function cl(e,t){let n=typeof t=="string"?Dn(t).search:t.search;if(e[e.length-1].route.index&&eu(n||""))return e[e.length-1];let r=up(e);return r[r.length-1]}function Fc(e){let{formMethod:t,formAction:n,formEncType:r,text:l,formData:i,json:s}=e;if(!(!t||!n||!r)){if(l!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:l};if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:i,json:void 0,text:void 0};if(s!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function na(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function rg(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function ll(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function lg(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function dn(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function ig(e,t){try{let n=e.sessionStorage.getItem(dp);if(n){let r=JSON.parse(n);for(let[l,i]of Object.entries(r||{}))i&&Array.isArray(i)&&t.set(l,new Set(i||[]))}}catch{}}function sg(e,t){if(t.size>0){let n={};for(let[r,l]of t)n[r]=[...l];try{e.sessionStorage.setItem(dp,JSON.stringify(n))}catch(r){Ir(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function is(){return is=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},is.apply(this,arguments)}const Hl=m.createContext(null),tu=m.createContext(null),on=m.createContext(null),nu=m.createContext(null),Ht=m.createContext({outlet:null,matches:[],isDataRoute:!1}),vp=m.createContext(null);function ag(e,t){let{relative:n}=t===void 0?{}:t;Vr()||le(!1);let{basename:r,navigator:l}=m.useContext(on),{hash:i,pathname:s,search:o}=ks(e,{relative:n}),u=s;return r!=="/"&&(u=s==="/"?r:en([r,s])),l.createHref({pathname:u,search:o,hash:i})}function Vr(){return m.useContext(nu)!=null}function Qt(){return Vr()||le(!1),m.useContext(nu).location}function gp(e){m.useContext(on).static||m.useLayoutEffect(e)}function Mn(){let{isDataRoute:e}=m.useContext(Ht);return e?Ng():og()}function og(){Vr()||le(!1);let e=m.useContext(Hl),{basename:t,future:n,navigator:r}=m.useContext(on),{matches:l}=m.useContext(Ht),{pathname:i}=Qt(),s=JSON.stringify(Ns(l,n.v7_relativeSplatPath)),o=m.useRef(!1);return gp(()=>{o.current=!0}),m.useCallback(function(c,p){if(p===void 0&&(p={}),!o.current)return;if(typeof c=="number"){r.go(c);return}let f=Ss(c,JSON.parse(s),i,p.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:en([t,f.pathname])),(p.replace?r.replace:r.push)(f,p.state,p)},[t,r,s,i,e])}const ug=m.createContext(null);function cg(e){let t=m.useContext(Ht).outlet;return t&&m.createElement(ug.Provider,{value:e},t)}function dg(){let{matches:e}=m.useContext(Ht),t=e[e.length-1];return t?t.params:{}}function ks(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=m.useContext(on),{matches:l}=m.useContext(Ht),{pathname:i}=Qt(),s=JSON.stringify(Ns(l,r.v7_relativeSplatPath));return m.useMemo(()=>Ss(e,JSON.parse(s),i,n==="path"),[e,s,i,n])}function fg(e,t,n,r){Vr()||le(!1);let{navigator:l}=m.useContext(on),{matches:i}=m.useContext(Ht),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let u=s?s.pathnameBase:"/";s&&s.route;let c=Qt(),p;p=c;let f=p.pathname||"/",h=f;if(u!=="/"){let S=u.replace(/^\//,"").split("/");h="/"+f.replace(/^\//,"").split("/").slice(S.length).join("/")}let w=In(e,{pathname:h});return gg(w&&w.map(S=>Object.assign({},S,{params:Object.assign({},o,S.params),pathname:en([u,l.encodeLocation?l.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?u:en([u,l.encodeLocation?l.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),i,n,r)}function pg(){let e=jg(),t=Il(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),n?m.createElement("pre",{style:l},n):null,null)}const hg=m.createElement(pg,null);class mg extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?m.createElement(Ht.Provider,{value:this.props.routeContext},m.createElement(vp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function vg(e){let{routeContext:t,match:n,children:r}=e,l=m.useContext(Hl);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(Ht.Provider,{value:t},r)}function gg(e,t,n,r){var l;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,o=(l=n)==null?void 0:l.errors;if(o!=null){let p=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);p>=0||le(!1),s=s.slice(0,Math.min(s.length,p+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<s.length;p++){let f=s[p];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=p),f.route.id){let{loaderData:h,errors:w}=n,N=f.route.loader&&h[f.route.id]===void 0&&(!w||w[f.route.id]===void 0);if(f.route.lazy||N){u=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((p,f,h)=>{let w,N=!1,S=null,L=null;n&&(w=o&&f.route.id?o[f.route.id]:void 0,S=f.route.errorElement||hg,u&&(c<0&&h===0?(Sg("route-fallback"),N=!0,L=null):c===h&&(N=!0,L=f.route.hydrateFallbackElement||null)));let v=t.concat(s.slice(0,h+1)),d=()=>{let g;return w?g=S:N?g=L:f.route.Component?g=m.createElement(f.route.Component,null):f.route.element?g=f.route.element:g=p,m.createElement(vg,{match:f,routeContext:{outlet:p,matches:v,isDataRoute:n!=null},children:g})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?m.createElement(mg,{location:n.location,revalidation:n.revalidation,component:S,error:w,children:d(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):d()},null)}var yp=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(yp||{}),xp=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(xp||{});function yg(e){let t=m.useContext(Hl);return t||le(!1),t}function xg(e){let t=m.useContext(tu);return t||le(!1),t}function wg(e){let t=m.useContext(Ht);return t||le(!1),t}function wp(e){let t=wg(),n=t.matches[t.matches.length-1];return n.route.id||le(!1),n.route.id}function jg(){var e;let t=m.useContext(vp),n=xg(xp.UseRouteError),r=wp();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Ng(){let{router:e}=yg(yp.UseNavigateStable),t=wp(),n=m.useRef(!1);return gp(()=>{n.current=!0}),m.useCallback(function(l,i){i===void 0&&(i={}),n.current&&(typeof l=="number"?e.navigate(l):e.navigate(l,is({fromRouteId:t},i)))},[e,t])}const zc={};function Sg(e,t,n){zc[e]||(zc[e]=!0)}function kg(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function ru(e){let{to:t,replace:n,state:r,relative:l}=e;Vr()||le(!1);let{future:i,static:s}=m.useContext(on),{matches:o}=m.useContext(Ht),{pathname:u}=Qt(),c=Mn(),p=Ss(t,Ns(o,i.v7_relativeSplatPath),u,l==="path"),f=JSON.stringify(p);return m.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:l}),[c,f,l,n,r]),null}function jp(e){return cg(e.context)}function Eg(e){let{basename:t="/",children:n=null,location:r,navigationType:l=ze.Pop,navigator:i,static:s=!1,future:o}=e;Vr()&&le(!1);let u=t.replace(/^\/*/,"/"),c=m.useMemo(()=>({basename:u,navigator:i,static:s,future:is({v7_relativeSplatPath:!1},o)}),[u,o,i,s]);typeof r=="string"&&(r=Dn(r));let{pathname:p="/",search:f="",hash:h="",state:w=null,key:N="default"}=r,S=m.useMemo(()=>{let L=sn(p,u);return L==null?null:{location:{pathname:L,search:f,hash:h,state:w,key:N},navigationType:l}},[u,p,f,h,w,N,l]);return S==null?null:m.createElement(on.Provider,{value:c},m.createElement(nu.Provider,{children:n,value:S}))}new Promise(()=>{});function Cg(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:m.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:m.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:m.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ur(){return Ur=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ur.apply(this,arguments)}function Np(e,t){if(e==null)return{};var n={},r=Object.keys(e),l,i;for(i=0;i<r.length;i++)l=r[i],!(t.indexOf(l)>=0)&&(n[l]=e[l]);return n}function _g(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Pg(e,t){return e.button===0&&(!t||t==="_self")&&!_g(e)}const Tg=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Lg=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Rg="6";try{window.__reactRouterVersion=Rg}catch{}function Dg(e,t){return $v({basename:void 0,future:Ur({},void 0,{v7_prependBasename:!0}),history:dv({window:void 0}),hydrationData:Mg(),routes:e,mapRouteProperties:Cg,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function Mg(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=Ur({},t,{errors:bg(t.errors)})),t}function bg(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,l]of t)if(l&&l.__type==="RouteErrorResponse")n[r]=new ls(l.status,l.statusText,l.data,l.internal===!0);else if(l&&l.__type==="Error"){if(l.__subType){let i=window[l.__subType];if(typeof i=="function")try{let s=new i(l.message);s.stack="",n[r]=s}catch{}}if(n[r]==null){let i=new Error(l.message);i.stack="",n[r]=i}}else n[r]=l;return n}const Sp=m.createContext({isTransitioning:!1}),Og=m.createContext(new Map),Fg="startTransition",Ic=qp[Fg],zg="flushSync",Uc=cv[zg];function Ig(e){Ic?Ic(e):e()}function il(e){Uc?Uc(e):e()}class Ug{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function Ag(e){let{fallbackElement:t,router:n,future:r}=e,[l,i]=m.useState(n.state),[s,o]=m.useState(),[u,c]=m.useState({isTransitioning:!1}),[p,f]=m.useState(),[h,w]=m.useState(),[N,S]=m.useState(),L=m.useRef(new Map),{v7_startTransition:v}=r||{},d=m.useCallback(_=>{v?Ig(_):_()},[v]),g=m.useCallback((_,U)=>{let{deletedFetchers:b,flushSync:I,viewTransitionOpts:A}=U;_.fetchers.forEach((q,re)=>{q.data!==void 0&&L.current.set(re,q.data)}),b.forEach(q=>L.current.delete(q));let X=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!A||X){I?il(()=>i(_)):d(()=>i(_));return}if(I){il(()=>{h&&(p&&p.resolve(),h.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:A.currentLocation,nextLocation:A.nextLocation})});let q=n.window.document.startViewTransition(()=>{il(()=>i(_))});q.finished.finally(()=>{il(()=>{f(void 0),w(void 0),o(void 0),c({isTransitioning:!1})})}),il(()=>w(q));return}h?(p&&p.resolve(),h.skipTransition(),S({state:_,currentLocation:A.currentLocation,nextLocation:A.nextLocation})):(o(_),c({isTransitioning:!0,flushSync:!1,currentLocation:A.currentLocation,nextLocation:A.nextLocation}))},[n.window,h,p,L,d]);m.useLayoutEffect(()=>n.subscribe(g),[n,g]),m.useEffect(()=>{u.isTransitioning&&!u.flushSync&&f(new Ug)},[u]),m.useEffect(()=>{if(p&&s&&n.window){let _=s,U=p.promise,b=n.window.document.startViewTransition(async()=>{d(()=>i(_)),await U});b.finished.finally(()=>{f(void 0),w(void 0),o(void 0),c({isTransitioning:!1})}),w(b)}},[d,s,p,n.window]),m.useEffect(()=>{p&&s&&l.location.key===s.location.key&&p.resolve()},[p,h,l.location,s]),m.useEffect(()=>{!u.isTransitioning&&N&&(o(N.state),c({isTransitioning:!0,flushSync:!1,currentLocation:N.currentLocation,nextLocation:N.nextLocation}),S(void 0))},[u.isTransitioning,N]),m.useEffect(()=>{},[]);let E=m.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:_=>n.navigate(_),push:(_,U,b)=>n.navigate(_,{state:U,preventScrollReset:b==null?void 0:b.preventScrollReset}),replace:(_,U,b)=>n.navigate(_,{replace:!0,state:U,preventScrollReset:b==null?void 0:b.preventScrollReset})}),[n]),P=n.basename||"/",O=m.useMemo(()=>({router:n,navigator:E,static:!1,basename:P}),[n,E,P]),x=m.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return m.useEffect(()=>kg(r,n.future),[r,n.future]),m.createElement(m.Fragment,null,m.createElement(Hl.Provider,{value:O},m.createElement(tu.Provider,{value:l},m.createElement(Og.Provider,{value:L.current},m.createElement(Sp.Provider,{value:u},m.createElement(Eg,{basename:P,location:l.location,navigationType:l.historyAction,navigator:E,future:x},l.initialized||n.future.v7_partialHydration?m.createElement($g,{routes:n.routes,future:n.future,state:l}):t))))),null)}const $g=m.memo(Bg);function Bg(e){let{routes:t,future:n,state:r}=e;return fg(t,void 0,r,n)}const Vg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Hg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ht=m.forwardRef(function(t,n){let{onClick:r,relative:l,reloadDocument:i,replace:s,state:o,target:u,to:c,preventScrollReset:p,viewTransition:f}=t,h=Np(t,Tg),{basename:w}=m.useContext(on),N,S=!1;if(typeof c=="string"&&Hg.test(c)&&(N=c,Vg))try{let g=new URL(window.location.href),E=c.startsWith("//")?new URL(g.protocol+c):new URL(c),P=sn(E.pathname,w);E.origin===g.origin&&P!=null?c=P+E.search+E.hash:S=!0}catch{}let L=ag(c,{relative:l}),v=Kg(c,{replace:s,state:o,target:u,preventScrollReset:p,relative:l,viewTransition:f});function d(g){r&&r(g),g.defaultPrevented||v(g)}return m.createElement("a",Ur({},h,{href:N||L,onClick:S||i?r:d,ref:n,target:u}))}),Qg=m.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:l=!1,className:i="",end:s=!1,style:o,to:u,viewTransition:c,children:p}=t,f=Np(t,Lg),h=ks(u,{relative:f.relative}),w=Qt(),N=m.useContext(tu),{navigator:S,basename:L}=m.useContext(on),v=N!=null&&Yg(h)&&c===!0,d=S.encodeLocation?S.encodeLocation(h).pathname:h.pathname,g=w.pathname,E=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;l||(g=g.toLowerCase(),E=E?E.toLowerCase():null,d=d.toLowerCase()),E&&L&&(E=sn(E,L)||E);const P=d!=="/"&&d.endsWith("/")?d.length-1:d.length;let O=g===d||!s&&g.startsWith(d)&&g.charAt(P)==="/",x=E!=null&&(E===d||!s&&E.startsWith(d)&&E.charAt(d.length)==="/"),_={isActive:O,isPending:x,isTransitioning:v},U=O?r:void 0,b;typeof i=="function"?b=i(_):b=[i,O?"active":null,x?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let I=typeof o=="function"?o(_):o;return m.createElement(ht,Ur({},f,{"aria-current":U,className:b,ref:n,style:I,to:u,viewTransition:c}),typeof p=="function"?p(_):p)});var to;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(to||(to={}));var Ac;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ac||(Ac={}));function Wg(e){let t=m.useContext(Hl);return t||le(!1),t}function Kg(e,t){let{target:n,replace:r,state:l,preventScrollReset:i,relative:s,viewTransition:o}=t===void 0?{}:t,u=Mn(),c=Qt(),p=ks(e,{relative:s});return m.useCallback(f=>{if(Pg(f,n)){f.preventDefault();let h=r!==void 0?r:Jn(c)===Jn(p);u(e,{replace:h,state:l,preventScrollReset:i,relative:s,viewTransition:o})}},[c,u,p,r,l,n,e,i,s,o])}function Yg(e,t){t===void 0&&(t={});let n=m.useContext(Sp);n==null&&le(!1);let{basename:r}=Wg(to.useViewTransitionState),l=ks(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=sn(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=sn(n.nextLocation.pathname,r)||n.nextLocation.pathname;return rs(l.pathname,s)!=null||rs(l.pathname,i)!=null}const kp=m.createContext(null);function Xg({children:e}){const[t,n]=m.useState(null),[r,l]=m.useState(!1),i=m.useCallback(async()=>{try{const p=await fetch("/api/me",{credentials:"include"});if(!p.ok)return p.status===401&&n(null),null;const f=await p.json();return n(f),f}catch(p){return console.error("Не удалось обновить данные пользователя",p),null}},[]);m.useEffect(()=>{i().finally(()=>l(!0))},[i]);const s=async(p,f)=>{const h=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:p,password:f})});if(!h.ok)throw new Error("Не удалось войти. Проверьте данные и попробуйте снова.");const w=await h.json();return n(w),await i(),w},o=async(p,f,h)=>{const w=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:p,email:f,password:h})});if(!w.ok)throw new Error("Не удалось создать аккаунт. Попробуйте ещё раз.");const N=await w.json();return n(N),await i(),N},u=async()=>{await fetch("/api/auth/logout",{method:"POST",credentials:"include"}),n(null)},c=async(p,f,h)=>{const w=await fetch("/api/admin/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:p,password:f,secretKey:h})});if(!w.ok)throw new Error("Не удалось войти в админ-панель.");const N=await w.json();return n(N),await i(),N};return a.jsx(kp.Provider,{value:{user:t,setUser:n,loaded:r,login:s,register:o,logout:u,adminLogin:c,refreshUser:i},children:e})}function xt(){return m.useContext(kp)}function Ql({open:e,title:t,message:n,confirmLabel:r="Подтвердить",cancelLabel:l="Отмена",confirmTone:i="primary",busy:s=!1,onConfirm:o,onCancel:u}){if(!e)return null;const c=["btn"];i==="primary"?c.push("primary"):i==="danger"&&c.push("danger");const p=l!==null&&l!==!1,f=()=>n?typeof n=="string"?a.jsx("p",{className:"text-muted mt-2 whitespace-pre-line leading-relaxed",children:n}):a.jsx("div",{className:"mt-2",children:n}):null;return a.jsx("div",{className:"modal-backdrop",children:a.jsxs("div",{className:"modal-card",children:[t&&a.jsx("h3",{className:"font-serif text-[1.4rem]",children:t}),f(),a.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[p&&a.jsx("button",{type:"button",className:"btn",onClick:u,disabled:s,children:l}),a.jsx("button",{type:"button",className:c.join(" "),onClick:o,disabled:s,children:r})]})]})})}function er(){const{user:e,logout:t}=xt(),[n,r]=m.useState(!1),l=Mn(),i=e?"/dashboard":"/",s=async()=>{await t(),r(!1),l("/")};return a.jsxs("header",{className:"sticky top-0 z-40 backdrop-blur-md bg-[rgba(250,247,242,.75)] border-b border-line",children:[a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"flex items-center justify-between py-3",children:[a.jsx(ht,{to:i,className:"font-serif font-semibold text-[1.4rem]",children:a.jsx("span",{className:"inline-block px-2 py-1 rounded-full bg-gradient-to-br from-gold to-blush shadow-tiny",children:"Fate"})}),a.jsx("nav",{className:"flex items-center gap-2",children:e?a.jsxs(a.Fragment,{children:[a.jsx(ht,{className:"btn",to:"/dashboard",children:"Личный кабинет"}),a.jsx("button",{className:"btn",onClick:()=>r(!0),children:"Выйти"})]}):a.jsxs(a.Fragment,{children:[a.jsx(ht,{className:"btn",to:"/login",children:"Войти"}),a.jsx(ht,{className:"btn primary",to:"/register",children:"Зарегистрироваться"})]})})]})}),a.jsx(Ql,{open:n,title:"Выйти из аккаунта?",message:"После выхода нужно будет снова войти, чтобы продолжить работу.",confirmLabel:"Выйти",cancelLabel:"Отмена",onConfirm:s,onCancel:()=>r(!1)})]})}function tr(){return a.jsx("footer",{className:"border-t border-line py-8 text-muted bg-gradient-to-t from-white/60 to-transparent",children:a.jsxs("div",{className:"container mx-auto px-4 flex items-center justify-between gap-4 flex-wrap",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-serif text-[1.1rem]",children:a.jsx("span",{className:"inline-block px-2 py-1 rounded-full bg-gradient-to-br from-gold to-blush shadow-tiny",children:"Fate"})}),a.jsx("div",{className:"mt-1",children:"© 2025 Fate. Все права защищены."})]}),a.jsxs("div",{children:[a.jsxs("div",{children:["Напишите нам:"," ",a.jsx("a",{className:"underline",href:"mailto:hello@fate.books",children:"hello@fate.books"})]}),a.jsx("div",{className:"mt-1",children:"Москва · Санкт-Петербург"})]})]})})}const Gg=[{title:"Заполните анкету",description:"Ответьте на вопросы и поделитесь историями — это поможет нам собрать основу для будущей книги."},{title:"Интервью с редактором",description:"Мы уточним детали, поможем выделить ключевые моменты и соберём дополнительные материалы."},{title:"Дизайн и печать",description:"Команда оформит книгу, подготовит макет и организует печать тиража для вашей семьи."}];function Jg(){return a.jsxs("div",{children:[a.jsx(er,{}),a.jsx("section",{className:"py-16",children:a.jsxs("div",{className:"container mx-auto px-4 grid gap-8 items-center md:grid-cols-[1.1fr_.9fr]",children:[a.jsxs("div",{children:[a.jsx("div",{className:"uppercase tracking-[.18em] text-sm text-muted",children:"Книга о вашей жизни"}),a.jsx("h1",{className:"font-serif font-semibold text-[clamp(2.1rem,4.4vw,3.4rem)] leading-tight mt-2",children:"Собирайте воспоминания и превращайте их в книгу."}),a.jsx("p",{className:"text-muted max-w-[55ch] mt-4",children:"Fate помогает собирать сообщения, фотографии и моменты от близких и бережно превращает их в красивую книгу архивного качества — интимный подарок на всю жизнь."}),a.jsxs("div",{className:"mt-6 flex gap-3 flex-wrap",children:[a.jsx(ht,{className:"btn primary",to:"/register",children:"Зарегистрироваться"}),a.jsx("a",{className:"btn",href:"#how",children:"Как это работает"})]})]}),a.jsx("div",{className:"grid place-items-center",children:a.jsxs("div",{className:"relative w-[min(88vw,320px)] h-[min(120vw,420px)] rounded-[18px] overflow-hidden shadow-[0_30px_60px_rgba(80,60,40,.18),0_10px_20px_rgba(80,60,40,.12)] bg-gradient-to-br from-lav to-sky",children:[a.jsx("div",{className:"absolute inset-[10px] rounded-[14px] bg-[linear-gradient(135deg,rgba(255,255,255,.6),rgba(255,255,255,.1))] mix-blend-screen"}),a.jsx("div",{className:"absolute right-[-8px] top-[20px] w-[16px] h-[calc(100%-40px)] rounded-[3px] bg-[linear-gradient(180deg,#efe7dc,#f7f1ea)] drop-shadow-[0_6px_10px_rgba(0,0,0,.08)]"}),a.jsx("div",{className:"absolute top-4 left-4 px-2 py-1 rounded-full bg-white/70 backdrop-blur border border-white/80 text-[.8rem] text-[#5b5246]",children:"Глава 1 · Начало пути"}),a.jsxs("div",{className:"absolute left-[22px] right-[22px] bottom-6 text-[#1e1d1b] font-serif text-[1.6rem] leading-tight",children:["«Каждая семья — это роман. Мы поможем его написать».",a.jsx("br",{}),a.jsx("span",{className:"text-[.95rem] opacity-90",children:"Fate Studio"})]})]})})]})}),a.jsx("section",{id:"how",className:"py-12",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsx("h2",{className:"font-serif font-semibold text-[clamp(1.6rem,3vw,2.1rem)] mb-2",children:"Как работает Fate"}),a.jsx("p",{className:"text-muted max-w-[60ch]",children:"Мы бережно работаем с личными историями и оформляем их в авторские книги. Редакторы и дизайнеры помогают собирать материалы, обрабатывать тексты и готовить печатный тираж."}),a.jsx("div",{className:"grid gap-4 md:grid-cols-3 mt-5",children:Gg.map((e,t)=>a.jsxs("article",{className:"paper p-4 grid grid-cols-[56px_1fr] gap-4 items-center",children:[a.jsx("div",{className:"w-14 h-14 grid place-items-center rounded-[14px] bg-gradient-to-b from-gold to-blush shadow-tiny",children:a.jsx("span",{className:"text-[#5b5246]",children:t+1})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:e.title}),a.jsx("p",{className:"text-muted mt-1",children:e.description})]})]},e.title))})]})}),a.jsx(tr,{})]})}function qg({onSuccess:e}){const{setUser:t,refreshUser:n}=xt(),r=m.useRef(null),l="Fate_supportbot";return m.useEffect(()=>{const i=async s=>{try{const o=await fetch("/api/auth/tg_verify",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(s)});if(!o.ok)throw new Error(`Telegram verify failed with status ${o.status}`);const u=await o.json();t(u),await n(),e?e(u):window.location.href="/dashboard"}catch(o){console.error("Telegram auth error",o)}};return window.onTelegramAuth=i,()=>{window.onTelegramAuth===i&&delete window.onTelegramAuth}},[l,e,n,t]),m.useEffect(()=>{if(!r.current)return;const i=r.current;i.innerHTML="";const s=document.createElement("script");return s.src="https://telegram.org/js/telegram-widget.js?22",s.async=!0,s.setAttribute("data-telegram-login",l),s.setAttribute("data-size","large"),s.setAttribute("data-userpic","false"),s.setAttribute("data-request-access","write"),s.setAttribute("data-lang","ru"),s.setAttribute("data-onauth","onTelegramAuth"),i.appendChild(s),()=>{i.innerHTML=""}},[l]),a.jsx("div",{ref:r,className:"flex justify-center"})}function Ep(){const e="Fate_supportbot",{setUser:t,refreshUser:n}=xt(),[r,l]=m.useState(!1),[i,s]=m.useState(""),[o,u]=m.useState(""),c=m.useRef(null),p=m.useRef(null),f=m.useRef(!1);m.useEffect(()=>()=>{c.current&&clearInterval(c.current)},[]);const h=m.useCallback(()=>{c.current&&(clearInterval(c.current),c.current=null),p.current=null},[]),w=m.useCallback(async v=>{t(v),await n(),window.location.href="/dashboard"},[n,t]),N=m.useCallback(v=>{c.current=window.setInterval(async()=>{try{const d=await fetch(`/api/auth/tg_poll?nonce=${v}`,{credentials:"include"});if(!d.ok){if(d.status===404)throw new Error("NONCE_NOT_FOUND");return}const g=await d.json();if(g&&g.ready===!1)return;g&&g.id&&(h(),w(g))}catch(d){console.error("Telegram poll error",d),h(),s(""),u("Связь с Telegram потеряна. Попробуйте ещё раз."),l(!1)}},2500)},[w,h]),S=m.useCallback(async()=>{if(f.current)return;f.current=!0,h(),u(""),s("Ждём подтверждения в Telegram…"),l(!0);let v;try{if(v=window.open("","_blank"),v)try{v.opener=null}catch{}const d=await fetch("/api/auth/tg_init",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({})});if(!d.ok)throw new Error(`INIT_${d.status}`);const g=await d.json();if(!(g!=null&&g.nonce))throw new Error("MISSING_NONCE");p.current=g.nonce;const E=g.tme||`https://t.me/${e}?start=${g.nonce}`;if(v){v.location.replace(E);try{v.focus()}catch{}}else window.location.href=E;N(g.nonce)}catch(d){console.error("Telegram init error",d),v&&!v.closed&&v.close(),u("Не удалось открыть Telegram. Попробуйте ещё раз."),s(""),l(!1),h()}finally{f.current=!1}},[e,N,h]),L=m.useMemo(()=>{const d="my-fate.ru,www.my-fate.ru".split(",").map(E=>E.trim().toLowerCase()).filter(Boolean);if(!d.length||typeof window>"u")return!1;const g=window.location.hostname.toLowerCase();return d.includes(g)},[e]);return a.jsxs("div",{className:"space-y-3",children:[L&&a.jsxs(a.Fragment,{children:[a.jsx(qg,{onSuccess:w}),a.jsx("div",{className:"text-center text-sm text-muted",children:"или войдите через бота Fate в Telegram"})]}),a.jsx("button",{type:"button",className:"btn w-full justify-center",onClick:S,disabled:r,children:r?"Ждём подтверждения...":"Открыть бота для входа"}),i&&a.jsx("div",{className:"text-sm text-muted text-center",children:i}),o&&a.jsx("div",{className:"text-sm text-red-600 text-center",children:o})]})}function lu({className:e="",revealLabel:t="Показать пароль",hideLabel:n="Скрыть пароль",...r}){const[l,i]=m.useState(!1),s=()=>{i(p=>!p)},o=["input pr-12",e].filter(Boolean).join(" "),u=l,c=u?n:t;return a.jsxs("div",{className:"password-field",children:[a.jsx("input",{...r,type:u?"text":"password",className:o}),a.jsx("button",{type:"button",className:"password-toggle",onClick:s,"aria-label":c,title:c,children:u?a.jsx(ey,{}):a.jsx(Zg,{})})]})}function Zg(){return a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round",className:"password-toggle__icon",children:[a.jsx("path",{d:"M1.5 12s3.5-6.5 10.5-6.5 10.5 6.5 10.5 6.5-3.5 6.5-10.5 6.5S1.5 12 1.5 12Z"}),a.jsx("circle",{cx:"12",cy:"12",r:"3.2"})]})}function ey(){return a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round",className:"password-toggle__icon",children:[a.jsx("path",{d:"m3 3 18 18"}),a.jsx("path",{d:"M10.58 10.58A2 2 0 0 0 11 14a2 2 0 0 0 2.83 0"}),a.jsx("path",{d:"M9.88 4.27A10.42 10.42 0 0 1 12 4c7 0 10.5 8 10.5 8a17.9 17.9 0 0 1-3.24 4.78"}),a.jsx("path",{d:"M6.18 6.18C3.51 8.2 1.5 12 1.5 12a17.91 17.91 0 0 0 5.07 5.23"})]})}function ty(){const{register:e}=xt(),t=Mn(),[n,r]=m.useState(""),[l,i]=m.useState(""),[s,o]=m.useState(""),[u,c]=m.useState(""),p=async f=>{f.preventDefault();try{await e(n.trim(),l.trim(),s),t("/dashboard")}catch{c("Не удалось создать аккаунт. Попробуйте ещё раз.")}};return a.jsxs("div",{children:[a.jsx(er,{}),a.jsx("section",{className:"min-h-[100dvh] grid place-items-center py-12 px-4",children:a.jsxs("div",{className:"card-glass w-[min(480px,92vw)] p-8 space-y-6",children:[a.jsx("div",{className:"grid place-items-center",children:a.jsx("div",{className:"font-serif text-[1.6rem]",children:a.jsx("span",{className:"inline-block px-3 py-1 rounded-full bg-gradient-to-br from-gold to-blush shadow-tiny",children:"Fate"})})}),a.jsx("h1",{className:"font-serif text-[clamp(1.6rem,3vw,2.2rem)]",children:"Создайте профиль Fate"}),a.jsx("p",{className:"text-muted",children:"Заполните форму, чтобы начать работу над семейной историей. Вы сможете изменить данные позднее в личном кабинете."}),a.jsxs("form",{onSubmit:p,className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block mb-1",htmlFor:"register-name",children:"ФИО"}),a.jsx("input",{id:"register-name",className:"input",value:n,onChange:f=>r(f.target.value),placeholder:"Иван Иванов",autoComplete:"name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block mb-1",htmlFor:"register-email",children:"Электронная почта"}),a.jsx("input",{id:"register-email",className:"input",type:"email",value:l,onChange:f=>i(f.target.value),placeholder:"ivan@example.com",autoComplete:"email"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block mb-1",htmlFor:"register-password",children:"Пароль"}),a.jsx(lu,{id:"register-password",value:s,onChange:f=>o(f.target.value),placeholder:"Придумайте надёжный пароль",autoComplete:"new-password"})]}),u&&a.jsx("div",{className:"text-red-600",children:u}),a.jsx("div",{className:"pt-1",children:a.jsx("button",{className:"btn primary w-full justify-center",type:"submit",children:"Создать аккаунт"})})]}),a.jsx("div",{className:"border-t border-white/40 pt-4",children:a.jsx(Ep,{})})]})}),a.jsx(tr,{})]})}function ny(){const{login:e}=xt(),t=Mn(),n=Qt(),[r,l]=m.useState(""),[i,s]=m.useState(""),[o,u]=m.useState(""),c=async p=>{var f,h;p.preventDefault();try{await e(r.trim(),i),t(((h=(f=n.state)==null?void 0:f.from)==null?void 0:h.pathname)||"/dashboard",{replace:!0})}catch{u("Неверный email или пароль.")}};return a.jsxs("div",{children:[a.jsx(er,{}),a.jsx("section",{className:"min-h-[60dvh] grid place-items-center py-12 px-4",children:a.jsxs("div",{className:"paper w-[min(420px,92vw)] p-6 space-y-6",children:[a.jsx("h1",{className:"font-serif text-2xl",children:"Вход"}),a.jsxs("form",{onSubmit:c,className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block mb-1",htmlFor:"login-email",children:"Электронная почта"}),a.jsx("input",{id:"login-email",className:"input",type:"email",value:r,onChange:p=>l(p.target.value),placeholder:"ivan@example.com",autoComplete:"email"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block mb-1",htmlFor:"login-password",children:"Пароль"}),a.jsx(lu,{id:"login-password",value:i,onChange:p=>s(p.target.value),autoComplete:"current-password"})]}),o&&a.jsx("div",{className:"text-red-600",children:o}),a.jsxs("div",{className:"flex flex-col gap-2 pt-1",children:[a.jsx("button",{className:"btn primary w-full justify-center",type:"submit",children:"Войти"}),a.jsx(ht,{to:"/register",className:"btn w-full justify-center text-center",children:"Создать аккаунт"})]})]}),a.jsx("div",{className:"border-t border-line pt-4",children:a.jsx(Ep,{})})]})}),a.jsx(tr,{})]})}let ra=null;async function iu(){return ra||(ra=fetch("/api/csrf",{credentials:"include"}).then(e=>e.json()).then(e=>e.token)),ra}async function Gt(e,t){const n=await iu(),r=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json","x-csrf-token":n},credentials:"include",body:JSON.stringify(t||{})});if(!r.ok){let l=null;try{l=await r.json()}catch{}const i=typeof(l==null?void 0:l.message)=="string"&&l.message.length?l.message:"Запрос не выполнен.",s=new Error(i);throw s.status=r.status,s.details=l,l&&typeof l.error=="string"&&(s.code=l.error),s}return r.json()}async function ry(e,t){const n=await iu(),r=await fetch(e,{method:"PUT",headers:{"Content-Type":"application/json","x-csrf-token":n},credentials:"include",body:JSON.stringify(t||{})});if(!r.ok){let l=null;try{l=await r.json()}catch{}const i=typeof(l==null?void 0:l.message)=="string"&&l.message.length?l.message:"�-�����?�?�? �?�� �?�<���?�>�?��?.",s=new Error(i);throw s.status=r.status,s.details=l,l&&typeof l.error=="string"&&(s.code=l.error),s}return r.status===204?null:r.json()}async function Cp(e){const t=await iu(),n=await fetch(e,{method:"DELETE",headers:{"x-csrf-token":t},credentials:"include"});if(!n.ok){let r=null;try{r=await n.json()}catch{}const l=typeof(r==null?void 0:r.message)=="string"&&r.message.length?r.message:"Запрос не выполнен.",i=new Error(l);throw i.status=n.status,i.details=r,r&&typeof r.error=="string"&&(i.code=r.error),i}return n.status===204?null:n.json()}const _p=m.createContext(null);function ly({children:e}){const{user:t}=xt(),n=!!(t!=null&&t.status),r=m.useRef({}),[l,i]=m.useState([]),[s,o]=m.useState([]),[u,c]=m.useState({}),[p,f]=m.useState(0),[h,w]=m.useState(!1),[N,S]=m.useState(!1),[L,v]=m.useState(null),d=m.useCallback(()=>{i([]),o([]),r.current={},c({}),f(I=>I+1),w(!1),S(!0),v(null)},[]),g=m.useCallback(async()=>{if(!t||n){d();return}w(!0),S(!1);let I=!0;try{const[A,X]=await Promise.all([fetch("/api/questions",{credentials:"include"}),fetch("/api/answers",{credentials:"include"})]);if(!I)return;const q=A.ok?await A.json():[],re=X.ok?await X.json():[],ee={};re.forEach(z=>{z&&Number.isFinite(Number(z.questionIndex))&&(ee[Number(z.questionIndex)]=String(z.text??""))});let ae=[],T=[];Array.isArray(q)?ae=q:q&&typeof q=="object"&&(ae=(Array.isArray(q.questions)?q.questions:[]).map(K=>typeof K=="string"?K:K&&typeof K.text=="string"?K.text:""),T=Array.isArray(q.chapters)?q.chapters.map(K=>({id:K.id??null,title:K.title??"",position:Number(K.position??0),questionCount:Number(K.questionCount??0),startIndex:Number(K.startIndex??0)})):[]),T.length||(T=[{id:null,title:"",position:0,questionCount:ae.length,startIndex:0}]),r.current=ee,o(T);const V={};Object.keys(ee).forEach(z=>{const K=Number(z);if(!Number.isFinite(K))return;const Y=ee[K];typeof Y=="string"&&Y.trim()&&(V[K]=!0)}),i(ae),c(V),f(z=>z+1),v(null)}catch(A){if(console.error("Failed to load questions:",A),!I)return;i([]),o([]),c({}),r.current={},f(X=>X+1)}finally{if(!I)return;w(!1),S(!0)}return()=>{I=!1}},[t,n,d]);m.useEffect(()=>{let I;return g().then(A=>{I=A}),()=>{typeof I=="function"&&I()}},[g]);const E=m.useCallback((I,A)=>{const X=Number(I);if(!Number.isFinite(X))return;const q=typeof A=="string"?A:"",re=r.current||{};(re[X]??"")!==q&&(re[X]=q,r.current=re,c(ae=>{const T=q.trim().length>0,V=ae[X]??!1;if(T===V)return ae;const z={...ae};return T?z[X]=!0:delete z[X],z}),f(ae=>ae+1))},[]),P=m.useMemo(()=>l.length?l.reduce((I,A,X)=>u[X]?I+1:I,0):0,[u,l]),O=m.useMemo(()=>l.length,[l]),x=m.useMemo(()=>O?Math.round(P/O*100):0,[P,O]),_=m.useCallback(async()=>{if(n)throw new Error("Анкета уже отправлена и недоступна для редактирования.");const I=new Set;l.forEach((q,re)=>I.add(re));const A=r.current||{};Object.keys(A).forEach(q=>{const re=Number(q);Number.isFinite(re)&&I.add(re)});const X=Array.from(I).sort((q,re)=>q-re).map(q=>({questionIndex:q,text:A[q]??""}));await Gt("/api/answers",{entries:X}),v(new Date().toISOString())},[l,n,r]),U=m.useCallback(I=>{const A=Number(I);return Number.isFinite(A)?(r.current||{})[A]??"":""},[]),b=m.useMemo(()=>({questions:l,getAnswer:U,updateAnswer:E,answeredCount:P,totalCount:O,progress:x,saveAnswers:_,loading:h,loaded:N,lastSaved:L,interviewLocked:n,reload:g,answersVersion:p,chapters:s}),[l,U,E,P,O,x,_,h,N,L,n,g,p,s]);return a.jsx(_p.Provider,{value:b,children:e})}function Pp(){const e=m.useContext(_p);if(!e)throw new Error("useQuestions must be used within QuestionsProvider");return e}const Tp={in_review:"Редакция изучает материалы",in_design:"Дизайн и вёрстка",printing:"Печать тиража",ready:"Готово к выдаче",shipped:"Отправлено",delivered:"Доставлено"};Object.entries(Tp).map(([e,t])=>({value:e,label:t}));function iy(e){return e?Tp[e]??null:null}function sy(){const{user:e}=xt(),{loaded:t,loading:n,totalCount:r,answeredCount:l,interviewLocked:i}=Pp(),s=e!=null&&e.name?`Добро пожаловать, ${e.name}`:"Добро пожаловать",o=(e==null?void 0:e.statusLabel)??iy(e==null?void 0:e.status),u=e!=null&&e.ordered?"Заказ подтверждён":"Ожидает подтверждения",c=e!=null&&e.ordered?"Мы уже работаем над вашей книгой и будем обновлять статус по мере продвижения.":"Подтвердите заказ, чтобы мы могли перейти к подготовке книги.",p=o?"Следите за этапами проекта — статус обновляется автоматически.":"Как только редакция начнёт работу, статус проекта появится здесь.",f=t&&r>0,h=f&&!i?`Ответов: ${l} из ${r}`:null,w=f&&!i,N=n||!t,S=(e==null?void 0:e.cover)??"Обложка ещё не выбрана";return a.jsxs("div",{children:[a.jsx(er,{}),a.jsxs("section",{className:"container mx-auto px-4 mt-4 grid gap-4 md:grid-cols-[280px_1fr] items-start",children:[a.jsxs("aside",{className:"paper p-4 space-y-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"font-serif text-[clamp(1.4rem,3.2vw,2rem)]",children:s}),a.jsx("p",{className:"text-muted",children:"Здесь собрана основная информация о вашем проекте и статусе заказа. При необходимости вы всегда можете перейти к заполнению вопросов."})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"font-semibold",children:"Статус заказа"}),a.jsxs("div",{className:"flex items-start gap-3 p-3 border border-line rounded-[14px] bg-[rgba(255,255,255,.65)]",children:[a.jsx("span",{className:"text-xl","aria-hidden":"true",children:"📦"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold",children:u}),a.jsx("div",{className:"text-muted text-sm",children:c})]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"font-semibold",children:"Этап проекта"}),a.jsxs("div",{className:"flex items-start gap-3 p-3 border border-line rounded-[14px] bg-[rgba(255,255,255,.65)]",children:[a.jsx("span",{className:"text-xl","aria-hidden":"true",children:"🛠️"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold",children:o??"Статус ещё не назначен"}),a.jsx("div",{className:"text-muted text-sm",children:p})]})]})]}),a.jsxs("div",{className:"border-t border-dashed border-line pt-4",children:[a.jsx("div",{className:"font-semibold mb-2",children:"Обложка"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"cover bg-gradient-to-br from-blush to-lav w-[84px] min-w-[84px]",children:a.jsx("div",{className:"meta",children:S})}),a.jsx(ht,{className:"btn",to:"/covers",children:"Выбрать обложку"})]})]}),(e==null?void 0:e.email)&&a.jsxs("div",{className:"border-t border-dashed border-line pt-4 space-y-1",children:[a.jsx("div",{className:"font-semibold",children:"Учётная запись"}),a.jsxs("div",{className:"text-muted text-sm",children:["Email: ",e.email]}),(e==null?void 0:e.createdAt)&&a.jsxs("div",{className:"text-muted text-sm",children:["Вы с нами с"," ",new Date(e.createdAt).toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric"})]})]})]}),a.jsxs("main",{className:"paper p-4 space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"font-serif text-xl",children:"Ваш проект"}),a.jsx("p",{className:"text-muted",children:"Здесь отображаются актуальные данные по интервью и статусу подготовки книги."})]}),N?a.jsx("div",{className:"text-center text-muted py-10",children:"Загружаем информацию..."}):i?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start gap-3 p-4 border border-line rounded-[14px] bg-[rgba(255,255,255,.65)]",children:[a.jsx("span",{className:"text-xl","aria-hidden":"true",children:"✅"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold",children:"Ответы отправлены редакции"}),a.jsx("div",{className:"text-muted",children:"Мы изучим ваши материалы и свяжемся, если потребуются уточнения. Следите за статусом проекта в панели слева."})]})]}),a.jsx(ht,{className:"btn",to:"/complete",children:"Открыть итоговую страницу"})]}):w?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start gap-3 p-4 border border-line rounded-[14px] bg-[rgba(255,255,255,.65)]",children:[a.jsx("span",{className:"text-xl","aria-hidden":"true",children:"✍️"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold",children:"Вопросы готовы к заполнению"}),a.jsx("div",{className:"text-muted",children:"Вы можете отвечать в удобном темпе. Все изменения сохраняются на странице вопросов."}),h&&a.jsx("div",{className:"text-muted text-sm mt-2",children:h})]})]}),a.jsx(ht,{className:"btn primary",to:"/qa",children:"Перейти к вопросам"})]}):a.jsxs("div",{className:"flex items-start gap-3 p-4 border border-line rounded-[14px] bg-[rgba(255,255,255,.65)]",children:[a.jsx("span",{className:"text-xl","aria-hidden":"true",children:"⏳"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold",children:"Вопросы ещё не назначены"}),a.jsx("div",{className:"text-muted",children:"Как только редакция подготовит список вопросов, мы отправим уведомление и вы сможете перейти к заполнению."})]})]})]})]}),a.jsx(tr,{})]})}function Lp({value:e=0}){const t=Math.max(0,Math.min(100,e));return a.jsx("div",{className:"h-[10px] bg-[#efe7dc] rounded-full overflow-hidden border border-line",children:a.jsx("span",{className:"block h-full bg-gradient-to-r from-gold to-accent",style:{width:`${t}%`}})})}function ay(){return a.jsxs("div",{className:"text-center space-y-2",children:[a.jsx("div",{className:"font-serif text-[clamp(1.4rem,3.4vw,2rem)]",children:"Вопросы пока не назначены."}),a.jsx("div",{className:"text-muted",children:"Мы подготовим перечень и отправим уведомление, как только интервью будет готово к заполнению."})]})}const oy=1500,uy=4e3,cy=4e3,$c="~30 минут";function vi(e,t){return e&&e.id!==void 0&&e.id!==null?String(e.id):`index-${t}`}function Ut(e,t){if(t<=0)return 0;const n=Number(e);return Number.isFinite(n)?Math.min(Math.max(n,0),t-1):0}function dy(){var Wt;const e=Mn(),{refreshUser:t,setUser:n}=xt(),{questions:r,chapters:l,getAnswer:i,updateAnswer:s,progress:o,answeredCount:u,totalCount:c,saveAnswers:p,loaded:f,loading:h,interviewLocked:w,answersVersion:N}=Pp(),[S,L]=m.useState(0),[v,d]=m.useState(null),[g,E]=m.useState(""),[P,O]=m.useState(null),[x,_]=m.useState(!1),[U,b]=m.useState(!1),[I,A]=m.useState("idle"),[X,q]=m.useState(!1),re=m.useRef(null),ee=m.useRef(null),ae=m.useRef(null),T=m.useRef(null),V=m.useRef(""),z=m.useRef(!1),K=m.useRef(0),Y=m.useMemo(()=>Array.isArray(l)?[...l].sort((k,M)=>{const te=Number.isFinite(Number(k==null?void 0:k.position))?Number(k.position):Number((k==null?void 0:k.startIndex)??0),ie=Number.isFinite(Number(M==null?void 0:M.position))?Number(M.position):Number((M==null?void 0:M.startIndex)??0);return te-ie}):[],[l]),Le=m.useCallback(()=>{ee.current&&(clearTimeout(ee.current),ee.current=null),ae.current&&(clearTimeout(ae.current),ae.current=null),T.current&&(clearTimeout(T.current),T.current=null)},[]);m.useEffect(()=>Le,[Le]),m.useEffect(()=>{if(!r.length){L(0);return}L(k=>Ut(k,r.length))},[r.length]),m.useEffect(()=>{if(v===null)return;Y.some((M,te)=>vi(M,te)===String(v))||d(null)},[Y,v]);const Ne=m.useMemo(()=>v===null?-1:Y.findIndex((k,M)=>vi(k,M)===String(v)),[Y,v]),ce=Ne>=0?Y[Ne]??null:null,pe=m.useMemo(()=>{if(!ce)return 0;const k=Number(ce.startIndex??0);return!Number.isFinite(k)||k<0?0:Ut(k,r.length||1)},[ce,r.length]),Se=m.useMemo(()=>{if(!ce)return Math.max(r.length-1,0);const k=Ut(ce.startIndex??0,r.length||1),M=Number(ce.questionCount??0);if(Number.isFinite(M)&&M>0)return Math.min(k+M-1,Math.max(r.length-1,k));const te=Y[Ne+1]??null;if(te){const ie=Ut(te.startIndex??r.length,r.length||1);if(ie>k)return Math.min(ie-1,Math.max(r.length-1,k))}return Math.max(r.length-1,k)},[ce,Y,Ne,r.length]),J=m.useMemo(()=>{if(!r.length)return 0;if(!ce)return r.length;const k=Math.max(Se,pe-1);return Math.max(0,k-pe+1)},[r.length,ce,pe,Se]);m.useEffect(()=>{v!==null&&L(k=>J===0||k>=pe&&k<=Se?k:pe)},[v,pe,Se,J]),m.useEffect(()=>{if(!r.length){E(""),V.current="";return}const k=Ut(S,r.length),M=i(k)??"";V.current!==M&&(E(M),V.current=M)},[S,N,i,r.length]),m.useEffect(()=>{if(v===null||!re.current)return;const k=re.current;requestAnimationFrame(()=>{k.focus();const M=k.value.length;k.setSelectionRange(M,M)})},[v,S]);const ve=m.useCallback((k,M="info")=>{O({message:k,tone:M}),T.current&&clearTimeout(T.current),T.current=window.setTimeout(()=>{O(null),T.current=null},cy)},[]),be=m.useCallback(()=>{A("saved"),ae.current&&clearTimeout(ae.current),ae.current=window.setTimeout(()=>{A("idle"),ae.current=null},uy)},[]),ut=m.useCallback(k=>{ee.current&&clearTimeout(ee.current),ee.current=window.setTimeout(async()=>{if(ee.current=null,!!z.current){A("saving");try{await p(),K.current===k?(z.current=!1,be()):A("dirty")}catch(M){console.error("Failed to auto-save answers",M),A("error")}}},oy)},[p,be]),xe=m.useCallback((k,M)=>{const te=vi(k,M),ie=Ut((k==null?void 0:k.startIndex)??0,r.length||1);d(te),L(ie)},[r.length]),Ft=m.useCallback(()=>{d(null)},[]),nr=m.useCallback(()=>{L(k=>Math.max(k-1,pe))},[pe]),Hr=m.useCallback(()=>{L(k=>Math.min(k+1,Se))},[Se]),Ct=m.useCallback(k=>{if(!r.length)return;const M=k.target.value;E(M),V.current=M;const te=Ut(S,r.length);s(te,M),K.current+=1,z.current=!0;const ie=K.current;A(ct=>ct==="saving"?ct:"dirty"),ut(ie)},[S,r.length,s,ut]),Qr=m.useCallback(async()=>{if(!x){ee.current&&(clearTimeout(ee.current),ee.current=null),_(!0),A("saving");try{await p(),z.current=!1,be(),ve("Ответы сохранены","success")}catch(k){console.error("Failed to save answers",k),A("error"),ve((k==null?void 0:k.message)||"Не удалось сохранить ответы. Попробуйте ещё раз.","error")}finally{_(!1)}}},[x,p,ve,be]),rr=m.useCallback(async()=>{if(!U){ee.current&&(clearTimeout(ee.current),ee.current=null),b(!0),A("saving");try{await p(),await Gt("/api/complete"),z.current=!1,be();const k=await t();k&&n(k),ve("Ответы отправлены редакции","success"),e("/complete",{replace:!0})}catch(k){console.error("Failed to complete interview",k),A("error"),ve((k==null?void 0:k.message)||"Не удалось отправить ответы. Попробуйте позже.","error")}finally{b(!1),q(!1)}}},[U,p,t,n,e,ve,be]),Ce=m.useCallback((k,M)=>{if(!k||!r.length)return 0;const te=Ut(k.startIndex??0,r.length||1),ie=Number(k.questionCount??0);if(Number.isFinite(ie)&&ie>0)return Math.min(ie,Math.max(0,r.length-te));const ct=Y[M+1]??null;if(ct){const Je=Ut(ct.startIndex??r.length,r.length||1);if(Je>te)return Math.min(Je-te,Math.max(0,r.length-te))}return Math.max(0,r.length-te)},[Y,r.length]),lr=m.useCallback((k,M)=>{const te=`Глава ${M+1}.`,ie=typeof(k==null?void 0:k.title)=="string"?k.title.trim():"";return{heading:te,subtitle:ie.length?ie:null}},[]),bn=()=>{switch(I){case"saving":return"Сохраняем черновик…";case"dirty":return"Есть несохранённые изменения.";case"saved":return"Черновик сохранён.";case"error":return"Автосохранение не удалось. Сохраните ответы вручную.";default:return null}};if(w)return a.jsx(ru,{to:"/complete",replace:!0});const ir=h&&!f,sr=r.length>0,_t=!ir&&sr&&v===null;let nt=null;if(ir)nt=a.jsx("section",{className:"paper p-6 text-center text-muted",children:"Загружаем вопросы…"});else if(!sr)nt=a.jsxs("section",{className:"paper p-6 space-y-6 text-center",children:[a.jsx(ay,{}),a.jsx("div",{children:a.jsx(ht,{className:"btn",to:"/dashboard",children:"Вернуться в кабинет"})})]});else if(_t)nt=a.jsxs("section",{className:"paper p-6 space-y-6",children:[a.jsxs("div",{className:"space-y-2 text-center",children:[a.jsx("h1",{className:"font-serif text-[clamp(1.6rem,3.6vw,2.2rem)]",children:"Выберите главу"}),a.jsx("p",{className:"text-muted",children:"Ответы распределены по главам. Работайте постепенно — сохраняем черновик автоматически."})]}),Y.length===0?a.jsx("div",{className:"text-center text-muted",children:"Главы ещё не сформированы. Как только редакция подготовит вопросы, они появятся здесь."}):a.jsx("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:Y.map((k,M)=>{const{heading:te,subtitle:ie}=lr(k,M),ct=Ce(k,M);return a.jsxs("div",{className:"paper px-4 py-5 flex flex-col gap-4 text-center",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"font-serif text-lg",children:te}),ie?a.jsx("div",{className:"text-muted text-sm whitespace-pre-wrap break-words",children:ie}):null]}),a.jsxs("div",{className:"text-muted text-sm",children:["Вопросов: ",ct," · ",$c]}),a.jsx("div",{className:"mt-auto flex justify-center",children:a.jsx("button",{type:"button",className:"btn primary",onClick:()=>xe(k,M),children:"Открыть"})})]},vi(k,M))})}),a.jsx("div",{className:"flex justify-center",children:a.jsx(ht,{className:"btn",to:"/dashboard",children:"Вернуться в кабинет"})})]});else{const k=Ut(S,r.length),M=typeof r[k]=="string"?r[k]:((Wt=r[k])==null?void 0:Wt.text)??"",te=Ne>=0?Ne+1:k+1,{heading:ie,subtitle:ct}=lr(ce,te-1),Je=J>0?Math.max(1,k-pe+1):0;nt=a.jsxs("section",{className:"paper p-6 space-y-6",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[a.jsx("button",{className:"btn",type:"button",onClick:Ft,children:"← Ко всем главам"}),a.jsxs("div",{className:"text-sm text-muted",children:["Ответов: ",u," из ",c]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("h1",{className:"font-serif text-[clamp(1.6rem,3.6vw,2.2rem)]",children:ie}),ct?a.jsx("div",{className:"text-muted whitespace-pre-wrap break-words",children:ct}):null,a.jsxs("div",{className:"text-muted text-sm",children:["Вопросов в главе: ",J," · ",$c]})]}),a.jsx(Lp,{value:o}),J===0?a.jsxs("div",{className:"border border-dashed border-line rounded-[16px] bg-[rgba(255,255,255,.65)] p-6 text-center space-y-2",children:[a.jsx("div",{className:"font-semibold",children:"В этой главе пока нет вопросов"}),a.jsx("div",{className:"text-muted text-sm",children:"Дождитесь, когда редакция добавит вопросы, или выберите другую главу."})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[a.jsxs("div",{className:"font-semibold",children:["Вопрос ",Je," из ",J]}),a.jsxs("div",{className:"text-muted text-sm",children:["Общий номер: ",k+1]})]}),a.jsx("div",{className:"border border-dashed border-line rounded-[16px] bg-[rgba(255,255,255,.75)] p-4 text-[1.05rem] leading-relaxed whitespace-pre-wrap break-words",children:M||"Текст вопроса недоступен."})]}),a.jsx("textarea",{ref:re,className:"input min-h-[220px] w-full",value:g,onChange:Ct,placeholder:"Введите ответ…"}),a.jsx("div",{className:"text-sm text-muted",children:bn()}),a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[a.jsx("button",{className:"btn",type:"button",onClick:nr,disabled:k<=pe,children:"← Предыдущий вопрос"}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("button",{className:"btn",type:"button",onClick:Qr,disabled:x,children:x?"Сохраняем…":"Сохранить"}),a.jsx("button",{className:"btn danger",type:"button",onClick:()=>q(!0),disabled:U,children:"Отправить ответы"})]}),a.jsx("button",{className:"btn",type:"button",onClick:Hr,disabled:k>=Se,children:"Следующий вопрос →"})]})]})]})}const ar=P?a.jsx("div",{className:`fixed bottom-6 left-1/2 -translate-x-1/2 px-5 py-3 rounded-[16px] shadow-lg border ${P.tone==="error"?"bg-[#fdecea] border-[#f3b8b5] text-[#8a2a21]":P.tone==="success"?"bg-[#e7f6ee] border-[#b7ddc3] text-[#1f5c3d]":"bg-[rgba(255,255,255,.95)] border-line text-[#2b2a27]"}`,children:P.message}):null;return a.jsxs("div",{children:[a.jsx(er,{}),a.jsx("main",{className:"container mx-auto px-4 mt-6 mb-10 space-y-6",children:nt}),a.jsx(tr,{}),ar,a.jsx(Ql,{open:X,title:"Отправить ответы редакции?",message:U?"Отправляем ответы…":"После отправки редактирование будет недоступно. Убедитесь, что сохранили все изменения.",confirmLabel:U?"Отправляем…":"Отправить",confirmTone:"primary",busy:U,onConfirm:rr,onCancel:()=>q(!1)})]})}const fy=[{title:"Северное сияние",subtitle:"Уютный градиент с мягкими линиями и акцентом на цвет",gradient:"from-lav to-sky"},{title:"Пастельная классика",subtitle:"Тёплая палитра и спокойный ритм — для семейных историй",gradient:"from-sage to-gold"},{title:"Современная фактура",subtitle:"Минималистичный рисунок и строгая композиция",gradient:"from-blush to-lav"},{title:"Акварельный рельеф",subtitle:"Лёгкие мазки и динамика пятен для творческих сюжетов",gradient:"from-[#f9f1ea] to-gold"},{title:"Лавандовые облака",subtitle:"Нежное сочетание оттенков с воздушным объёмом",gradient:"from-sky to-sage"},{title:"Городские огни",subtitle:"Контрастные блоки и световые вспышки в ночном городе",gradient:"from-[#f6e9e4] to-[#f1f3f9]"},{title:"Рукописные заметки",subtitle:"Фрагменты бумаги и рукописных строк с деликатным тоном",gradient:"from-[#efe8de] to-[#f6f0ea]"},{title:"Скандинавский минимализм",subtitle:"Чистые линии и комфортная палитра для современных историй",gradient:"from-[#eee8ff] to-[#f7f2ea]"}];function py(){const e=Mn(),[t,n]=m.useState(null),[r,l]=m.useState(!1),[i,s]=m.useState(!1),[o,u]=m.useState(""),c=m.useMemo(()=>t?`${t.title} — ${t.subtitle}`:null,[t]),p=async w=>{if(!i){s(!0),u("");try{const N=`${w.title} — ${w.subtitle}`;await Gt("/api/cover",{name:N}),n(w),l(!0)}catch(N){console.error("Failed to save cover template",N),u("Не удалось сохранить обложку. Попробуйте ещё раз позже.")}finally{s(!1)}}},f=()=>{i||l(!1)},h=()=>{l(!1),typeof window<"u"&&window.history.length>1?e(-1):e("/dashboard")};return a.jsxs("div",{children:[a.jsx(er,{}),a.jsx(Ql,{open:r,title:"Обложка выбрана",message:a.jsxs("div",{className:"space-y-3 text-muted leading-relaxed",children:[c?a.jsxs("p",{children:["Мы сохранили шаблон ",a.jsx("span",{className:"font-medium text-[#5b5246]",children:c}),"."]}):null,a.jsx("p",{children:"Вы всегда можете изменить выбор позже на этой странице."})]}),cancelLabel:"Остаться здесь",confirmLabel:"Назад в кабинет",onCancel:f,onConfirm:h}),a.jsx("div",{className:"topbar",children:a.jsx("div",{className:"container mx-auto px-4 py-3 text-muted",children:"Выберите шаблон обложки для своего проекта"})}),a.jsxs("section",{className:"container mx-auto px-4 mt-4 space-y-4",children:[o&&a.jsx("div",{className:"card-glass px-4 py-3 text-sm text-[#a23a2f]",children:o}),a.jsx("div",{className:"grid gap-4 md:grid-cols-3 lg:grid-cols-4",children:fy.map(w=>{const N=`${w.title} — ${w.subtitle}`,S=(t==null?void 0:t.title)===w.title;return a.jsxs("label",{className:`cover bg-gradient-to-br ${w.gradient} transition-transform duration-200 ${i?"opacity-75 pointer-events-none":""} ${S?"ring-4 ring-[#d0b8a8]/80 ring-offset-2":""}`,children:[a.jsx("input",{type:"radio",name:"cover",className:"absolute inset-0 opacity-0 cursor-pointer",onChange:()=>p(w),disabled:i,"aria-label":`Выбрать обложку ${N}`}),a.jsx("span",{className:"tag",children:w.title}),a.jsx("div",{className:"meta font-serif",children:w.subtitle})]},w.title)})})]}),a.jsx(tr,{})]})}function hy(){return a.jsxs("div",{children:[a.jsx(er,{}),a.jsx("div",{className:"topbar",children:a.jsx("div",{className:"container mx-auto px-4 py-3 text-muted",children:"Интервью отправлено редакции"})}),a.jsx("section",{className:"container mx-auto px-4 py-6",children:a.jsxs("div",{className:"paper p-5 space-y-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"font-serif text-[1.6rem] mb-1",children:"Спасибо! Мы получили ваши ответы."}),a.jsx("p",{className:"text-muted",children:"Редакционная команда уже приступила к подготовке рукописи. Если появятся дополнительные вопросы, куратор свяжется с вами."})]}),a.jsx("hr",{className:"hairline"}),a.jsxs("div",{children:[a.jsx("h3",{className:"mb-2",children:"Что будет дальше"}),a.jsxs("div",{className:"grid md:grid-cols-[160px_1fr] gap-3 items-center",children:[a.jsx("div",{className:"cover bg-gradient-to-br from-blush to-lav w-[160px]",children:a.jsx("div",{className:"meta",children:"Обложка: выбрана в кабинете"})}),a.jsx("p",{className:"text-muted m-0",children:"Мы соберём текст, подготовим редакторский конспект и передадим материалы дизайнеру. После утверждения макета организуем печать тиража."})]})]}),a.jsx("hr",{className:"hairline"}),a.jsxs("div",{children:[a.jsx("h3",{className:"mb-2",children:"Готовность интервью"}),a.jsx(Lp,{value:100}),a.jsx("p",{className:"mt-2",children:"100% вопросов заполнено — дальше команда Fate ведёт работу над книгой и будет держать вас в курсе."})]}),a.jsx("hr",{className:"hairline"}),a.jsxs("div",{children:[a.jsx("h3",{className:"mb-2",children:"Статус производства"}),a.jsxs("div",{className:"status",children:[a.jsx("span",{className:"text-lg","aria-hidden":"true",children:"ℹ️"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold",children:"Рукопись передана в редакцию на согласование"}),a.jsx("div",{className:"text-muted",children:"Мы сообщим, когда потребуется ваша обратная связь или будет готов первый макет книги."})]})]}),a.jsx("p",{className:"text-muted mt-2",children:"(Эта страница всегда доступна в кабинете, чтобы вы могли отслеживать ход работы и обновления проекта.)"})]})]})}),a.jsx(tr,{})]})}function my(){const{adminLogin:e}=xt(),t=Mn(),n=Qt(),[r,l]=m.useState(""),[i,s]=m.useState(""),[o,u]=m.useState(""),[c,p]=m.useState(""),f=async h=>{var w,N;h.preventDefault();try{await e(r.trim(),i,o.trim()),t(((N=(w=n.state)==null?void 0:w.from)==null?void 0:N.pathname)||"/admin",{replace:!0})}catch{p("Не удалось войти. Проверьте данные и попробуйте снова.")}};return a.jsx("section",{className:"min-h-[100dvh] grid place-items-center py-12 px-4",children:a.jsxs("div",{className:"paper w-[min(420px,92vw)] p-6",children:[a.jsx("h1",{className:"font-serif text-2xl mb-2",children:"Вход в админ-панель"}),a.jsxs("form",{onSubmit:f,className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block mb-1",htmlFor:"admin-email",children:"Электронная почта"}),a.jsx("input",{id:"admin-email",className:"input",value:r,onChange:h=>l(h.target.value),placeholder:"admin@example.com",autoComplete:"email"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block mb-1",htmlFor:"admin-password",children:"Пароль"}),a.jsx(lu,{id:"admin-password",value:i,onChange:h=>s(h.target.value),autoComplete:"current-password"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block mb-1",htmlFor:"admin-secret",children:"Секретный ключ"}),a.jsx("input",{id:"admin-secret",className:"input",value:o,onChange:h=>u(h.target.value),placeholder:"ADMIN_SECRET_KEY",autoComplete:"one-time-code"})]}),c&&a.jsx("div",{className:"text-red-600",children:c}),a.jsx("div",{className:"flex gap-2",children:a.jsx("button",{className:"btn primary",type:"submit",children:"Войти"})})]})]})})}function la({to:e,end:t,icon:n,children:r}){return a.jsxs(Qg,{to:e,end:t,className:({isActive:l})=>["flex items-center gap-3 px-3 py-2 rounded-[14px] border transition",l?"bg-white/80 border-line shadow-tiny":"border-transparent hover:bg-white/50"].join(" "),children:[n?a.jsx("span",{className:"text-[1.1rem]","aria-hidden":"true",children:n}):null,a.jsx("span",{className:"font-medium",children:r})]})}function vy(){const{logout:e}=xt();return a.jsx("div",{className:"min-h-screen bg-[radial-gradient(90rem_60rem_at_-10%_-10%,#F1E6D6_0%,transparent_60%),_radial-gradient(80rem_60rem_at_110%_10%,#F7EDE4_0%,transparent_55%),_#F5EFE6]",children:a.jsxs("div",{className:"container mx-auto px-4 py-6 grid gap-6 md:grid-cols-[260px_1fr]",children:[a.jsxs("aside",{className:"paper p-4 h-min sticky top-6",children:[a.jsx("div",{className:"font-serif text-[1.5rem] mb-3",children:"Fate - Админка"}),a.jsxs("nav",{className:"space-y-2",children:[a.jsx(la,{to:"/admin",end:!0,icon:"[K]",children:"Клиенты"}),a.jsx(la,{to:"/admin/templates",icon:"[Ш]",children:"Шаблоны"}),a.jsx(la,{to:"/admin/settings",icon:"[Н]",children:"Настройки"})]}),a.jsx("hr",{className:"hairline"}),a.jsx("button",{className:"btn w-full",onClick:e,children:"Выйти"})]}),a.jsx("main",{className:"space-y-4",children:a.jsx(jp,{})})]})})}function gy(e){if(!e)return a.jsx("span",{className:"text-muted text-sm",children:"не подключен"});const t=e.username&&e.username.length?`@${e.username}`:[e.first_name,e.last_name].filter(Boolean).join(" ").trim()||`ID ${e.id}`,n=[`id: ${e.id}`];return e.phone&&n.push(e.phone),a.jsxs("div",{className:"leading-tight",children:[a.jsx("div",{children:t}),a.jsx("div",{className:"text-xs text-muted",children:n.join(" | ")})]})}function yy(e){const t=[e.id,e.name,e.email,e.answersCount,e.status,e.ordered?"заказ подтверждён":"ожидает подтверждения"],n=e.telegram;return n&&t.push(n.username,n.first_name,n.last_name,n.phone,n.id&&`id${n.id}`),t.filter(r=>r!=null).join(" ").toLowerCase()}function xy(){const{user:e}=xt(),[t,n]=m.useState([]),[r,l]=m.useState(""),[i,s]=m.useState(null),[o,u]=m.useState(!1),[c,p]=m.useState("");m.useEffect(()=>{fetch("/api/admin/users",{credentials:"include"}).then(d=>d.json()).then(n)},[]);const f=m.useMemo(()=>{const d=r.trim().toLowerCase();return d?t.filter(g=>yy(g).includes(d)):t},[t,r]),h=r.trim().length?`Найдено: ${f.length} из ${t.length}`:`Всего пользователей: ${t.length}`,w=d=>{s(d),p("")},N=()=>{o||s(null)},S=async()=>{var d;if(!(!i||o)){p("");try{u(!0),await Cp(`/api/admin/users/${i.id}`),n(g=>g.filter(E=>E.id!==i.id)),s(null)}catch(g){console.error("Failed to delete user",g);const E=(d=g==null?void 0:g.details)==null?void 0:d.error;let P="Не удалось удалить пользователя. Попробуйте позже.";E==="CANNOT_DELETE_ADMIN"?P="Нельзя удалить административный аккаунт.":E==="CANNOT_DELETE_SELF"?P="Нельзя удалить собственный аккаунт.":E==="NOT_FOUND"&&(P="Пользователь уже удалён."),p(P)}finally{u(!1)}}},L=i&&typeof i.email=="string"&&i.email.trim().length?` (${i.email.trim()})`:"",v=i?a.jsxs("div",{className:"space-y-3 text-muted leading-relaxed",children:[a.jsx("p",{children:`Удалить аккаунт ${i.name&&i.name.trim().length?i.name:"без имени"}${L}? Это действие необратимо.`}),a.jsx("p",{children:"Будут стерты ответы, вопросы и связанные данные пользователя."}),c&&a.jsx("p",{className:"text-sm text-[#b23a2f]",children:c})]}):null;return a.jsxs("div",{className:"paper p-4 space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[a.jsx("h2",{className:"font-serif text-xl",children:"Пользователи"}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx("span",{className:"text-sm text-muted",children:h}),a.jsx("input",{className:"input w-[260px]",placeholder:"Поиск по имени, email, Telegram или ID",value:r,onChange:d=>l(d.target.value)})]})]}),a.jsx("div",{className:"overflow-auto",children:a.jsxs("table",{className:"w-full border border-line rounded-[14px] overflow-hidden",children:[a.jsx("thead",{className:"bg-[#fffaf2] text-[#6f6457]",children:a.jsxs("tr",{children:[a.jsx("th",{className:"w-[64px] text-left p-3","aria-label":"Действия"}),a.jsx("th",{className:"text-left p-3",children:"Имя"}),a.jsx("th",{className:"text-left p-3",children:"Email"}),a.jsx("th",{className:"text-left p-3",children:"Telegram"}),a.jsx("th",{className:"text-left p-3",children:"Статус заказа"}),a.jsx("th",{className:"text-left p-3",children:"Ответов"}),a.jsx("th",{className:"text-left p-3",children:"Действия"})]})}),a.jsxs("tbody",{children:[f.map(d=>{const g=(e==null?void 0:e.id)===d.id,E=d.isAdmin||g;return a.jsxs("tr",{className:"border-t border-line",children:[a.jsx("td",{className:"p-3",children:a.jsx("button",{type:"button",className:"btn icon-btn danger",onClick:()=>w(d),disabled:E,title:E?"Удаление недоступно для этого аккаунта":"Удалить аккаунт","aria-label":`Удалить ${d.name||"пользователя"}`,children:"🗑️"})}),a.jsx("td",{className:"p-3",children:d.name}),a.jsx("td",{className:"p-3 break-all",children:d.email}),a.jsx("td",{className:"p-3",children:gy(d.telegram)}),a.jsx("td",{className:"p-3",children:d.ordered?"заказ подтверждён":"ожидает подтверждения"}),a.jsx("td",{className:"p-3",children:d.answersCount}),a.jsx("td",{className:"p-3",children:a.jsx(ht,{className:"btn",to:`/admin/users/${d.id}`,children:"Открыть"})})]},d.id)}),f.length===0&&a.jsx("tr",{children:a.jsx("td",{className:"p-4 text-center text-muted",colSpan:7,children:"Пользователи не найдены. Попробуйте изменить условия поиска."})})]})]})}),a.jsx(Ql,{open:!!i,title:"Удалить аккаунт?",message:v,confirmLabel:"Удалить",cancelLabel:"Отмена",confirmTone:"danger",busy:o,onConfirm:S,onCancel:N})]})}function wy({text:e,limit:t=300}){const n=typeof e=="string"?e:"",r=m.useMemo(()=>n.replace(/\r\n/g,`
`),[n]),l=r.length>t,[i,s]=m.useState(!1),o=m.useMemo(()=>{if(!l)return r.length?r:"-";const f=r.slice(0,t),h=Math.max(f.lastIndexOf(`
`),f.lastIndexOf(" "));return`${(h>Math.floor(t*.6)?f.slice(0,h):f).trimEnd()}...`},[r,l,t]),u=r.length?r:"-",c=i?u:o,p=l;return a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"relative whitespace-pre-wrap break-words",children:[c,p&&!i?a.jsx("div",{className:"pointer-events-none absolute inset-x-0 bottom-0 h-14 bg-gradient-to-t from-[rgba(250,247,242,1)] via-[rgba(250,247,242,0.9)] to-transparent"}):null]}),p?a.jsx("button",{type:"button",className:"btn text-sm px-4 py-2",onClick:()=>s(f=>!f),children:i?"Скрыть":"Открыть больше"}):null]})}function gi(e){return(Array.isArray(e)?e:[]).map(t=>typeof t=="string"?t.trim():"").filter(t=>t.length)}const jy=[{value:"",label:"Без статуса"},{value:"in_review",label:"Редактор изучает материалы"},{value:"in_design",label:"Дизайн и верстка"},{value:"printing",label:"Печать"},{value:"ready",label:"Готово к выдаче"},{value:"shipped",label:"Отправлено"},{value:"delivered",label:"Доставлено"}];function Ny(){var Wt;const{id:e}=dg(),[t,n]=m.useState(null),[r,l]=m.useState(""),[i,s]=m.useState(!1),[o,u]=m.useState(""),[c,p]=m.useState(""),[f,h]=m.useState("append"),[w,N]=m.useState(!1),[S,L]=m.useState("pick"),[v,d]=m.useState(!1),[g,E]=m.useState(null),[P,O]=m.useState([]),[x,_]=m.useState(null),[U,b]=m.useState([]),[I,A]=m.useState([]),[X,q]=m.useState(!1),[re,ee]=m.useState(null),[ae,T]=m.useState(!1),[V,z]=m.useState(null),K=m.useMemo(()=>gi(I),[I]),Y=m.useMemo(()=>(t==null?void 0:t.questions)||[],[t]);m.useEffect(()=>{fetch(`/api/admin/users/${e}`,{credentials:"include"}).then(k=>k.json()).then(k=>{n(k),l(k.status||""),s(!!k.ordered)})},[e]);const Le=async()=>{const k=await fetch(`/api/admin/users/${e}`,{credentials:"include"}).then(M=>M.json());n(k),l(k.status||""),s(!!k.ordered)},Ne=async()=>{await Gt(`/api/admin/users/${e}/order`,{ordered:i}),await Le()},ce=async()=>{await Gt(`/api/admin/users/${e}/status`,{status:r||null}),await Le()},pe=m.useCallback(async()=>{if(ae)return;z(null),T(!0);let k="";try{const M=await fetch(`/api/admin/users/${e}/export/answers`,{credentials:"include"});if(!M.ok)throw new Error("EXPORT_FAILED");const te=await M.blob();k=window.URL.createObjectURL(te);const Je=(typeof(t==null?void 0:t.name)=="string"&&t.name.trim().length?t.name.trim():`user_${e}`).replace(/[^A-Za-z0-9_-]+/g,"_").replace(/_{2,}/g,"_").replace(/^_+|_+$/g,"")||`user_${e}`,Wl=new Date().toISOString().split("T")[0],un=document.createElement("a");un.href=k,un.download=`answers-${Je}-${Wl}.docx`,document.body.appendChild(un),un.click(),un.remove()}catch(M){console.error("Failed to export answers",M),z("Не удалось выгрузить ответы. Попробуйте ещё раз.")}finally{k&&window.URL.revokeObjectURL(k),T(!1)}},[t==null?void 0:t.name,ae,e]),Se=async()=>{const k={mode:f,questions:o.trim()?[o.trim()]:[],bulk:c};await Gt(`/api/admin/users/${e}/questions`,k),u(""),p(""),await Le()},J=async k=>{const M=Y.filter((te,ie)=>ie!==k);await Gt(`/api/admin/users/${e}/questions`,{mode:"replace",questions:M}),await Le()},ve=m.useCallback(async()=>{d(!0),E(null);try{const k=await fetch("/api/admin/templates",{credentials:"include"});if(!k.ok)throw new Error("Не удалось загрузить список шаблонов.");const M=await k.json();O(Array.isArray(M.templates)?M.templates:[])}catch(k){console.error(k),E(k.message||"Не удалось загрузить список шаблонов.")}finally{d(!1)}},[]),be=()=>{N(!0),L("pick"),ee(null),q(!1),_(null),b([]),A([]),ve()},ut=()=>{N(!1),q(!1),ee(null),_(null),b([]),A([])},xe=async k=>{if(k!=null&&k.id){ee(null),q(!0);try{const M=await fetch(`/api/admin/templates/${k.id}`,{credentials:"include"});if(!M.ok)throw new Error("Не удалось открыть шаблон.");const te=await M.json(),ie=gi(te.questions);_({id:te.id,title:te.title,description:te.description??null}),b(ie),A(ie),L("preview"),ie.length||ee("В шаблоне пока нет вопросов.")}catch(M){console.error(M),ee(M.message||"Не удалось открыть шаблон.")}finally{q(!1)}}},Ft=()=>{A([...U]),ee(null),L("edit")},nr=()=>{const k=gi(I);b(k),A(k),ee(null),L("preview")},Hr=(k,M)=>{A(te=>{const ie=[...te];return ie[k]=M,ie})},Ct=k=>{A(M=>M.filter((te,ie)=>ie!==k))},Qr=()=>{A(k=>[...k,""])},rr=async k=>{const M=gi(k);if(!M.length){ee("Добавьте хотя бы один вопрос перед отправкой.");return}q(!0),ee(null);try{await Gt(`/api/admin/users/${e}/questions`,{mode:f,questions:M}),await Le(),ut()}catch(te){console.error(te),ee(te.message||"Не удалось отправить вопросы пользователю.")}finally{q(!1)}};if(!t)return null;const Ce=t.telegram||null,lr=Ce!=null&&Ce.username&&Ce.username.length?`@${Ce.username}`:"-",bn=[Ce==null?void 0:Ce.first_name,Ce==null?void 0:Ce.last_name].filter(Boolean).join(" "),ir=bn&&bn.trim().length?bn.trim():"-",sr=(Ce==null?void 0:Ce.id)??"-",_t=(Ce==null?void 0:Ce.phone)??"-",nt=f==="replace"?"Режим: заменить существующие вопросы.":"Режим: добавить к существующим вопросам.",ar=w?a.jsx("div",{className:"modal-backdrop",children:a.jsxs("div",{className:"modal-card w-[min(760px,95vw)] space-y-4",children:[a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-serif text-[1.6rem]",children:S==="preview"?(x==null?void 0:x.title)||"Просмотр шаблона":S==="edit"?"Редактирование вопросов":"Загрузка из шаблонов"}),S==="preview"&&(x!=null&&x.description)?a.jsx("div",{className:"text-muted text-sm",children:x.description}):null,S!=="pick"?a.jsx("div",{className:"text-muted text-xs mt-1",children:nt}):null]}),a.jsx("button",{className:"btn icon-btn",onClick:ut,children:"X"})]}),S==="pick"?a.jsxs("div",{className:"space-y-3",children:[v?a.jsx("div",{className:"text-muted text-sm",children:"Загрузка доступных шаблонов..."}):g?a.jsx("div",{className:"text-[#b2563f] text-sm",children:g}):P.length===0?a.jsx("div",{className:"text-muted text-sm",children:"Шаблонов пока нет. Создайте их в разделе «Шаблоны»."}):a.jsx("div",{className:"space-y-2 max-h-[55vh] overflow-y-auto pr-1",children:P.map(k=>a.jsxs("div",{className:"border border-line rounded-[12px] bg-white/70 p-3 space-y-2",children:[a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold",children:k.title}),k.description?a.jsx("div",{className:"text-muted text-sm",children:k.description}):null]}),a.jsx("div",{className:"text-right text-sm text-muted",children:a.jsxs("div",{children:["Вопросов: ",k.questionCount??0]})})]}),k.firstQuestion?a.jsx("div",{className:"text-sm text-muted whitespace-pre-wrap break-words border border-dashed border-line rounded-[10px] bg-white/80 p-2",children:k.firstQuestion}):null,a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{className:"btn primary",onClick:()=>xe(k),disabled:X,children:X?"Загрузка...":"Выбрать"})})]},k.id))}),a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsx("button",{className:"btn",onClick:ve,disabled:v,children:"Обновить"}),re?a.jsx("div",{className:"text-[#b2563f] text-sm",children:re}):null]})]}):S==="preview"?a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"text-sm text-muted",children:nt}),a.jsx("div",{className:"border border-line rounded-[12px] bg-white/70 p-3 max-h-[55vh] overflow-y-auto",children:U.length===0?a.jsx("div",{className:"text-muted text-sm",children:"В этом шаблоне пока нет вопросов."}):a.jsx("ol",{className:"list-decimal pl-5 space-y-1 text-sm",children:U.map((k,M)=>a.jsx("li",{className:"whitespace-pre-wrap break-words",children:k},`${(x==null?void 0:x.id)||"tpl"}-${M}`))})}),re?a.jsx("div",{className:"text-[#b2563f] text-sm",children:re}):null,a.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[a.jsx("button",{className:"btn",onClick:()=>{L("pick"),ee(null)},disabled:X,children:"Назад"}),a.jsxs("div",{className:"flex gap-2 flex-wrap",children:[a.jsx("button",{className:"btn",type:"button",onClick:Ft,disabled:X,children:"Отредактировать"}),a.jsx("button",{className:"btn primary",type:"button",onClick:()=>rr(U),disabled:X,children:X?"Отправка...":"Отправить"})]})]})]}):a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[a.jsxs("div",{className:"text-sm text-muted",children:["Questions ready to send: ",K.length]}),a.jsx("button",{className:"btn",type:"button",onClick:Qr,disabled:X,children:"Добавить вопрос"})]}),a.jsx("div",{className:"space-y-3 max-h-[55vh] overflow-y-auto pr-1",children:I.length===0?a.jsx("div",{className:"text-muted text-sm",children:"Список пуст. Добавьте вопросы для отправки."}):I.map((k,M)=>a.jsxs("div",{className:"border border-line rounded-[12px] bg-white/70 p-3 space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("span",{children:["Вопрос ",M+1]}),a.jsx("button",{className:"btn",type:"button",onClick:()=>Ct(M),disabled:X,children:"Удалить"})]}),a.jsx("textarea",{className:"input min-h-[80px]",value:k,onChange:te=>Hr(M,te.target.value),disabled:X})]},`editable-${M}`))}),re?a.jsx("div",{className:"text-[#b2563f] text-sm",children:re}):null,a.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[a.jsx("button",{className:"btn",type:"button",onClick:nr,disabled:X,children:"Назад"}),a.jsx("button",{className:"btn primary",type:"button",onClick:()=>rr(I),disabled:X,children:X?"Отправка...":"Отправить"})]})]})]})}):null;return a.jsxs("div",{className:"grid gap-4 md:grid-cols-[320px_1fr]",children:[a.jsxs("aside",{className:"paper p-4 space-y-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-serif text-xl mb-1",children:t.name}),a.jsx("div",{className:"text-muted break-all",children:t.email})]}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold mb-2",children:"Обложка"}),a.jsx("div",{className:"cover bg-gradient-to-br from-blush to-lav w-[120px]",children:a.jsx("div",{className:"meta",children:t.cover||"Не выбрана"})})]}),a.jsxs("div",{className:"paper p-3 space-y-3",children:[a.jsx("div",{className:"font-semibold text-sm tracking-wide uppercase text-[#7a6f64]",children:"Telegram"}),Ce?a.jsxs("dl",{className:"space-y-3 text-sm",children:[a.jsxs("div",{children:[a.jsx("dt",{className:"text-muted text-xs uppercase tracking-wide",children:"Никнейм"}),a.jsx("dd",{children:lr})]}),a.jsxs("div",{children:[a.jsx("dt",{className:"text-muted text-xs uppercase tracking-wide",children:"Имя"}),a.jsx("dd",{children:ir})]}),a.jsxs("div",{children:[a.jsx("dt",{className:"text-muted text-xs uppercase tracking-wide",children:"ID"}),a.jsx("dd",{children:sr})]}),a.jsxs("div",{children:[a.jsx("dt",{className:"text-muted text-xs uppercase tracking-wide",children:"Телефон"}),a.jsx("dd",{children:_t})]})]}):a.jsx("div",{className:"text-muted text-sm",children:"Данные Telegram отсутствуют."})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:i,onChange:k=>s(k.target.checked)}),"Заказ подтверждён"]}),a.jsx("button",{className:"btn mt-2",onClick:Ne,children:"Сохранить статус заказа"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold mb-2",children:"Статус проекта"}),a.jsx("select",{className:"input",value:r,onChange:k=>l(k.target.value),children:jy.map(k=>a.jsx("option",{value:k.value,children:k.label},k.value))}),a.jsx("button",{className:"btn mt-2",onClick:ce,children:"Сохранить статус"})]})]}),a.jsxs("main",{className:"space-y-4",children:[a.jsxs("section",{className:"paper p-4",children:[a.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[a.jsx("h3",{className:"font-serif text-xl",children:"Вопросы анкеты"}),a.jsxs("div",{className:"text-muted",children:["Вопросов сейчас: ",a.jsx("b",{children:Y.length})]})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 mt-3",children:[a.jsxs("div",{className:"paper p-4",children:[a.jsx("div",{className:"font-semibold mb-2",children:"Добавить один вопрос"}),a.jsx("input",{className:"input",placeholder:"Введите вопрос и нажмите сохранить",value:o,onChange:k=>u(k.target.value)}),a.jsx("div",{className:"text-sm text-muted mt-2",children:"Текст сохраняется без форматирования. HTML не обрабатывается."})]}),a.jsxs("div",{className:"paper p-4",children:[a.jsx("div",{className:"font-semibold mb-2",children:"Добавить сразу несколько (разделитель $)"}),a.jsx("textarea",{className:"input min-h-[120px]",placeholder:"Вопрос 1 $ Вопрос 2 $ Вопрос 3",value:c,onChange:k=>p(k.target.value)}),a.jsxs("div",{className:"text-sm text-muted mt-2",children:["Use the ",a.jsx("b",{children:"$"})," symbol to separate questions."]})]})]}),a.jsxs("div",{className:"mt-3 flex items-center gap-3 flex-wrap",children:[a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"radio",name:"mode",checked:f==="append",onChange:()=>h("append")}),"Добавить к текущему списку"]}),a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"radio",name:"mode",checked:f==="replace",onChange:()=>h("replace")}),"Заменить текущий список"]}),a.jsx("button",{className:"btn primary",onClick:Se,children:"Сохранить вопросы"})]}),a.jsx("button",{className:"btn",type:"button",onClick:be,children:"Загрузить из шаблонов"}),a.jsx("div",{className:"mt-4 grid gap-3",children:Y.length===0?a.jsxs("div",{className:"status",children:[a.jsx("span",{className:"text-lg",children:"Пока нет вопросов"}),a.jsx("div",{className:"text-muted",children:"Добавьте вопросы выше, чтобы сформировать интервью."})]}):Y.map((k,M)=>a.jsxs("div",{className:"p-3 border border-line rounded-[14px] bg-paper flex items-start gap-3",children:[a.jsx("div",{className:"w-6 h-6 grid place-items-center rounded-full bg-gradient-to-b from-gold to-blush text-[#5b5246] shrink-0",children:M+1}),a.jsx("div",{className:"flex-1 whitespace-pre-wrap break-words",children:k}),a.jsx("button",{className:"btn",onClick:()=>J(M),title:"Удалить вопрос",children:"Удалить"})]},M))})]}),a.jsxs("section",{className:"paper p-4 space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[a.jsx("h3",{className:"font-serif text-xl",children:"Ответы пользователя"}),a.jsx("button",{type:"button",className:"btn text-sm px-4 py-2",onClick:pe,disabled:ae,children:ae?"Экспорт...":"Экспорт в Word"})]}),V?a.jsx("div",{className:"text-sm text-[#b2563f]",children:V}):null,a.jsx("div",{className:"space-y-3",children:(Wt=t.answers)!=null&&Wt.length?t.answers.map((k,M)=>a.jsxs("div",{className:"p-3 border border-line rounded-[14px] bg-paper",children:[a.jsxs("div",{className:"text-muted text-sm mb-1",children:["Вопрос ",k.questionIndex+1]}),a.jsx(wy,{text:k.text})]},M)):a.jsx("div",{className:"text-muted",children:"Ответов пока нет."})})]})]}),ar]})}function yi({children:e}){const{user:t,loaded:n}=xt(),r=Qt();return n?t?e:a.jsx(ru,{to:"/login",state:{from:r},replace:!0}):null}function Sy({children:e}){const{user:t,loaded:n}=xt(),r=Qt();return n?!t||!t.isAdmin?a.jsx(ru,{to:"/admin/login",state:{from:r},replace:!0}):e||a.jsx(jp,{}):null}const ia=50;function Bc(e){const t=typeof e=="string"?e.split("$"):[],n=[];let r=0;for(const l of t){const i=l.trim();i&&(r+=1,n.push(i))}return{list:n,total:r}}function ky(e){if(!e)return null;try{return new Date(e).toLocaleString("ru-RU",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return null}}function Vc({questions:e,total:t}){if(!e.length)return null;const n=e.slice(0,ia),r=e.length>ia;return a.jsxs("div",{className:"border border-dashed border-line rounded-[12px] bg-white/70 p-3 space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between text-xs uppercase tracking-wide text-[#7a6f64]",children:[a.jsx("span",{children:"Предпросмотр"}),a.jsxs("span",{children:["Вопросов: ",e.length,t>e.length?` из ${t}`:""]})]}),a.jsx("ol",{className:"list-decimal pl-5 text-sm space-y-1 max-h-56 overflow-y-auto",children:n.map((l,i)=>a.jsx("li",{className:"whitespace-pre-wrap break-words",children:l},`${i}-${l.slice(0,12)}`))}),r?a.jsxs("div",{className:"text-xs text-muted",children:["Показаны первые ",ia," вопросов."]}):null]})}function Ey(){const[e,t]=m.useState([]),[n,r]=m.useState(!0),[l,i]=m.useState(null),[s,o]=m.useState(""),[u,c]=m.useState(""),[p,f]=m.useState(""),[h,w]=m.useState(!1),[N,S]=m.useState(null),[L,v]=m.useState(null),[d,g]=m.useState(!1),[E,P]=m.useState(!1),[O,x]=m.useState(!1),[_,U]=m.useState(!1),[b,I]=m.useState(null),[A,X]=m.useState(null),[q,re]=m.useState(""),[ee,ae]=m.useState(""),[T,V]=m.useState(""),z=m.useMemo(()=>Bc(p),[p]),K=m.useMemo(()=>Bc(T),[T]),Y=m.useCallback(async()=>{r(!0),i(null);try{const J=await fetch("/api/admin/templates",{credentials:"include"});if(!J.ok)throw new Error("Не удалось получить список шаблонов.");const ve=await J.json();t(Array.isArray(ve.templates)?ve.templates:[])}catch(J){console.error(J),i(J.message||"Не удалось получить список шаблонов. Попробуйте позже.")}finally{r(!1)}},[]);m.useEffect(()=>{Y()},[Y]);const Le=async J=>{J.preventDefault();const ve=s.trim(),be=u.trim(),ut=z.list;if(!ve.length){S("Введите название шаблона.");return}if(ut.length===0){S("Добавьте хотя бы один вопрос.");return}w(!0),S(null);try{await Gt("/api/admin/templates",{title:ve,description:be.length?be:void 0,questions:ut}),o(""),c(""),f(""),await Y()}catch(xe){console.error(xe),S(xe.message||"Не удалось сохранить шаблон.")}finally{w(!1)}},Ne=async J=>{X(J),P(!0),x(!0),U(!1),I(null);try{const ve=await fetch(`/api/admin/templates/${J}`,{credentials:"include"});if(!ve.ok)throw new Error("Не удалось загрузить шаблон.");const be=await ve.json();re(be.title??""),ae(be.description??""),V(Array.isArray(be.questions)?be.questions.join(" $ "):"")}catch(ve){console.error(ve),I(ve.message||"Не удалось загрузить шаблон.")}finally{x(!1)}},ce=()=>{P(!1),x(!1),U(!1),I(null),X(null),re(""),ae(""),V("")},pe=async J=>{if(J.preventDefault(),!A)return;const ve=q.trim(),be=ee.trim(),ut=K.list;if(!ve.length){I("Введите название шаблона.");return}if(ut.length===0){I("Добавьте хотя бы один вопрос.");return}U(!0),I(null);try{await ry(`/api/admin/templates/${A}`,{title:ve,description:be.length?be:void 0,questions:ut}),await Y(),ce()}catch(xe){console.error(xe),I(xe.message||"Не удалось обновить шаблон.")}finally{U(!1)}},Se=async()=>{if(L){g(!0);try{await Cp(`/api/admin/templates/${L.id}`),v(null),await Y()}catch(J){console.error(J),i(J.message||"Не удалось удалить шаблон.")}finally{g(!1)}}};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("section",{className:"paper p-4 space-y-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"font-serif text-2xl",children:"Шаблоны вопросов"}),a.jsx("p",{className:"text-muted",children:"Сохраняйте готовые наборы вопросов, чтобы быстро отправлять их пользователям без повторного набора."})]}),a.jsxs("form",{onSubmit:Le,className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-semibold block",htmlFor:"template-title",children:"Название шаблона"}),a.jsx("input",{id:"template-title",className:"input",placeholder:"Например: Вступительное интервью",value:s,onChange:J=>o(J.target.value),disabled:h})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-semibold block",htmlFor:"template-description",children:"Описание (необязательно)"}),a.jsx("input",{id:"template-description",className:"input",placeholder:"Краткое пояснение для админов",value:u,onChange:J=>c(J.target.value),disabled:h})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-semibold block",htmlFor:"template-questions",children:"Вопросы (разделяйте символом $)"}),a.jsx("textarea",{id:"template-questions",className:"input min-h-[140px]",placeholder:"Вопрос 1 $ Вопрос 2 $ Вопрос 3",value:p,onChange:J=>f(J.target.value),disabled:h}),a.jsxs("div",{className:"text-sm text-muted",children:["Questions: ",z.list.length]}),a.jsx(Vc,{questions:z.list,total:z.total})]}),N?a.jsx("div",{className:"text-sm text-[#b2563f]",children:N}):null,a.jsx("button",{type:"submit",className:"btn primary",disabled:h,children:h?"Сохранение...":"Сохранить шаблон"})]})]}),a.jsxs("section",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"font-serif text-xl",children:"Доступные шаблоны"}),a.jsx("button",{className:"btn",onClick:Y,disabled:n,children:"Обновить"})]}),l?a.jsx("div",{className:"text-[#b2563f]",children:l}):null,n?a.jsx("div",{className:"paper p-4 text-muted",children:"Загрузка шаблонов..."}):e.length===0?a.jsx("div",{className:"paper p-4 text-muted",children:"Шаблонов пока нет. Создайте первый, используя форму выше."}):a.jsx("div",{className:"grid gap-3 lg:grid-cols-2",children:e.map(J=>a.jsxs("div",{className:"paper p-4 space-y-3",children:[a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-serif text-lg",children:J.title}),J.description?a.jsx("div",{className:"text-muted text-sm",children:J.description}):null]}),a.jsxs("div",{className:"text-right text-sm text-muted",children:[a.jsxs("div",{children:["Вопросов: ",J.questionCount]}),J.updatedAt?a.jsx("div",{className:"text-xs mt-1",children:ky(J.updatedAt)}):null]})]}),J.firstQuestion?a.jsxs("div",{className:"border border-line rounded-[12px] bg-white/60 p-3",children:[a.jsx("div",{className:"text-xs uppercase tracking-wide text-[#7a6f64]",children:"Первый вопрос"}),a.jsx("div",{className:"mt-1 whitespace-pre-wrap break-words text-sm",children:J.firstQuestion})]}):null,a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("button",{className:"btn",onClick:()=>Ne(J.id),children:"Редактировать"}),a.jsx("button",{className:"btn danger",onClick:()=>v(J),children:"Удалить"})]})]},J.id))})]}),E?a.jsx("div",{className:"modal-backdrop",children:a.jsxs("div",{className:"modal-card w-[min(680px,92vw)] space-y-4",children:[a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsx("h3",{className:"font-serif text-[1.6rem]",children:"Редактирование шаблона"}),a.jsx("button",{className:"btn icon-btn",onClick:ce,children:"X"})]}),O?a.jsx("div",{className:"text-muted",children:"Загрузка данных шаблона..."}):a.jsxs("form",{onSubmit:pe,className:"space-y-3",children:[a.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-semibold block",htmlFor:"edit-title",children:"Название"}),a.jsx("input",{id:"edit-title",className:"input",value:q,onChange:J=>re(J.target.value),disabled:_})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-semibold block",htmlFor:"edit-description",children:"Описание"}),a.jsx("input",{id:"edit-description",className:"input",value:ee,onChange:J=>ae(J.target.value),disabled:_})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-semibold block",htmlFor:"edit-questions",children:"Вопросы"}),a.jsx("textarea",{id:"edit-questions",className:"input min-h-[160px]",value:T,onChange:J=>V(J.target.value),disabled:_}),a.jsxs("div",{className:"text-sm text-muted",children:["Questions: ",K.list.length]}),a.jsx(Vc,{questions:K.list,total:K.total})]}),b?a.jsx("div",{className:"text-sm text-[#b2563f]",children:b}):null,a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("button",{className:"btn",type:"button",onClick:ce,children:"Отмена"}),a.jsx("button",{className:"btn primary",type:"submit",disabled:_,children:_?"Сохранение...":"Сохранить изменения"})]})]})]})}):null,a.jsx(Ql,{open:!!L,title:"Удалить шаблон?",message:L?`Шаблон «${L.title}» будет удален без возможности восстановления.`:"",confirmLabel:"Удалить",cancelLabel:"Отмена",confirmTone:"danger",busy:d,onCancel:()=>v(null),onConfirm:Se})]})}function Cy(){return a.jsxs("div",{className:"paper p-4 space-y-3",children:[a.jsx("h2",{className:"font-serif text-xl",children:"Настройки"}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"paper p-4 space-y-3",children:[a.jsx("div",{className:"font-semibold",children:"Контакты студии"}),a.jsxs("label",{className:"block",children:[a.jsx("span",{className:"text-sm text-muted",children:"Название проекта"}),a.jsx("input",{className:"input mt-1",defaultValue:"Fate",disabled:!0})]}),a.jsxs("label",{className:"block",children:[a.jsx("span",{className:"text-sm text-muted",children:"Email для связи"}),a.jsx("input",{className:"input mt-1",defaultValue:"hello@fate.books"})]}),a.jsx("button",{className:"btn primary",disabled:!0,children:"Сохранить"})]}),a.jsxs("div",{className:"paper p-4 space-y-2",children:[a.jsx("div",{className:"font-semibold",children:"Безопасность"}),a.jsxs("label",{className:"block",children:[a.jsx("span",{className:"text-sm text-muted",children:"Время жизни сессии (часов)"}),a.jsx("input",{className:"input mt-1",type:"number",defaultValue:6})]}),a.jsx("div",{className:"text-muted text-sm",children:"JWT хранится в httpOnly cookie, а CSRF защищён двойным токеном."})]})]})]})}const _y=Dg([{path:"/",element:a.jsx(Jg,{})},{path:"/register",element:a.jsx(ty,{})},{path:"/login",element:a.jsx(ny,{})},{path:"/dashboard",element:a.jsx(yi,{children:a.jsx(sy,{})})},{path:"/qa",element:a.jsx(yi,{children:a.jsx(dy,{})})},{path:"/covers",element:a.jsx(yi,{children:a.jsx(py,{})})},{path:"/complete",element:a.jsx(yi,{children:a.jsx(hy,{})})},{path:"/admin/login",element:a.jsx(my,{})},{path:"/admin",element:a.jsx(Sy,{children:a.jsx(vy,{})}),children:[{index:!0,element:a.jsx(xy,{})},{path:"users/:id",element:a.jsx(Ny,{})},{path:"templates",element:a.jsx(Ey,{})},{path:"settings",element:a.jsx(Cy,{})}]}]);sp(document.getElementById("root")).render(a.jsx(nd.StrictMode,{children:a.jsx(Xg,{children:a.jsx(ly,{children:a.jsx(Ag,{router:_y})})})}));
